<!DOCTYPE html>
<head>
    <title>Sudokuvania: Digits of Despair Walkthrough</title>

    <style>
        .hidden {
            background-color: currentColor;
        }
        .revealed {
            text-decoration: underline;
        }
        table.grid {
            border-spacing: 0px;
        }
        table.grid tr td {
            border: 1px solid black;
            width: 1em;
            height: 1em;
            text-align: center;
            font-size: 1.5em;
        }
        table.grid tr td.r {
            border-right: 3px solid black;
        }
        table.grid tr td.l {
            border-left: 3px solid black;
        }
        table.grid tr td.t {
            border-top: 3px solid black;
        }
        table.grid tr td.b {
            border-bottom: 3px solid black;
        }
        table.grid tr td.sr {
            border-right: 5px solid black;
        }
        table.grid tr td.sl {
            border-left: 5px solid black;
        }
        table.grid tr td.st {
            border-top: 5px solid black;
        }
        table.grid tr td.sb {
            border-bottom: 5px solid black;
        }
        table.grid tr td.tan {
            background-color: tan;
        }
        table.grid tr td.blue {
            background-color: cornflowerblue;
        }
        table.grid tr td.wall {
            background-color: rebeccapurple;
        }
        table.grid tr td.cave {
            background-color: lightsteelblue;
        }
        table.grid tr td.lamp {
            background-color: gold;
        }
        table.grid.revealed tr td.V {
            background-color: slategrey;
        }
        table.grid.revealed tr td.O {
            background-color: orange;
        }
        table.grid.revealed tr td.G {
            background-color: green;
        }
        table.grid.revealed tr td.B {
            background-color: cornflowerblue;
        }

        table.worksheet tr td {
            text-align: center;
            width: 3em;
        }
        table.worksheet tr th {
            text-align: center;
            width: 3em;
        }

    </style>

    <script type="module">
        "use strict";
        function handleClick(e) {
            let target = e.target;
            while (target !== null) {
                let classes = target.classList;
                if (classes.contains("hidden")) {
                    classes.remove("hidden");
                    classes.add("revealed");
                } else if (classes.contains("revealed")) {
                    classes.remove("revealed");
                    classes.add("hidden");
                }
                target = target.parentNode;
            }
        }
        function enableClickHandlers() {
            console.log("starting");
            for (const elt of document.getElementsByClassName("hidden")) {
                console.log("hello" + elt);
                elt.addEventListener("click", handleClick);
            }
            console.log("done");
        }
        enableClickHandlers();
    </script>
</head>
<body>
    <pre>
                                                                                                                                       OOOOOO
                                                                                                                                      OO    OO
                                                                                                                                      O      O
                                                                                                                                      OO    OO
                            OOOO                                                                                                       OOOOOO
                            OOOO                                                                                                         ||
        SSSSSSSS       UUU        UUU    DDDDDDDDDDD          OOOOOOOO       KXK        KXK    UUU        UUU    VVV        VVV        AAAAAA        NNN        NNN    IIIIIIIIIIIIII        AAAAAA
      SSSSSSSSSSSS     UUU        UUU    DDDDDDDDDDDDD      OOOOOOOOOOOO     KXK       KXK     UUU        UUU    VVV        VVV        AAAAAA        NNN        NNN    IIIIIIIIIIIIII        AAAAAA
     SSSS      SSSS    UUU        UUU    DDD       DDDD    OOOO      OOOO    KXK      KXK      UUU        UUU    VVV        VVV       AAA||AAA       NNNN       NNN         IIII            AAA  AAA
     SSS               UUU        UUU    DDD        DDD    OOO        OOO    KXK     KXK       UUU        UUU    VVV        VVV       AAA||AAA       NNNNN      NNN         IIII            AAA  AAA            OOOO
     SSS               UUU        UUU    DDD        DDD    OOO        OOO    KXK    KXK        UUU        UUU     VVV      VVV        AAA||AAA       NNNNNN     NNN         IIII            AAA  AAA            OOOO
     SSSS              UUU        UUU    DDD        DDD    OOO        OOO    KXK   KXK         UUU        UUU     VVV      VVV       AAA || AAA      NNN NNN    NNN         IIII           AAA    AAA
      SSSSSSS          UUU        UUU    DDD        DDD    OOO        OOO    KXKXKKXK          UUU        UUU     VVV      VVV       AAAAAAAAAA      NNN  NNN   NNN         IIII           AAAAAAAAAA
        SSSSSSSS       UUU        UUU    DDD        DDD    OOO        OOO    KXKXKXK           UUU        UUU      VVV    VVV        AAAAAAAAAA      NNN   NNN  NNN         IIII           AAAAAAAAAA
           SSSSSSS     UUU        UUU    DDD        DDD    OOO        OOO    KXK  KXK          UUU        UUU      VVV    VVV       AAAA || AAAA     NNN    NNN NNN         IIII          AAAA    AAA
               SSSS    UUU        UUU    DDD        DDD    OOO        OOO    KXK   KXK         UUU        UUU      VVV    VVV       AAA  ||  AAA     NNN     NNNNNN         IIII          AAA      AAA
                SSS    UUU        UUU    DDD        DDD    OOO        OOO    KXK    KXK        UUU        UUU       VVV  VVV        AAA  ||  AAA     NNN      NNNNN         IIII          AAA      AAA          OOOO
                SSS    UUU        UUU    DDD        DDD    OOO        OOO    KXK     KXK       UUU        UUU       VVV  VVV       AAA   ||   AAA    NNN       NNNN         IIII         AAA        AAA         OOOO
     SSSS      SSSS    UUUU      UUUU    DDD       DDDD    OOOO      OOOO    KXK      KXK      UUUU      UUUU       VVV  VVV       AAA   ||   AAA    NNN        NNN         IIII         AAA        AAA
      SSSSSSSSSSSS      UUUUUUUUUUUU     DDDDDDDDDDDDD      OOOOOOOOOOOO     KXK       KXK      UUUUUUUUUUUU         VVVVVV        AAA   ||   AAA    NNN        NNN    IIIIIIIIIIIIII    AAA        AAA
        SSSSSSSS          UUUUUUUU       DDDDDDDDDDD          OOOOOOOO       KXK        KXK       UUUUUUUU           VVVVVV        AAA   ||   AAA    NNN        NNN    IIIIIIIIIIIIII    AAA        AAA
                                                                                                                                         ||
                                                           DDDDDDDDDDD       IIIIIIIIIIIIII       GGGGGGGG       IIIIIIIIIIIIII    TTTTTTTTTTTTTT       SSSSSSSS                            OOOOOOOO       FFFFFFFFFFFFFF
                                                           DDDDDDDDDDDDD     IIIIIIIIIIIIII     GGGGGGGGGGGG     IIIIIIIIIIIIII    TTTTTTTTTTTTTT     SSSSSSSSSSSS                        OOOOOOOOOOOO     FFFFFFFFFFFFFF
                                                           DDD       DDDD         IIII         GGGG      GGGG         IIII              TTTT         SSSS      SSSS                      OOOO      OOOO    FFF
                                                           DDD        DDD         IIII         GGG                    IIII              TTTT         SSS                                 OOO        OOO    FFF
                                                           DDD        DDD         IIII         GGG                    IIII              TTTT         SSS                                 OOO        OOO    FFF
                                                           DDD        DDD         IIII         GGG                    IIII              TTTT         SSSS                                OOO        OOO    FFF
     ------------------------------------------            DDD        DDD         IIII         GGG                    IIII              TTTT          SSSSSSS                            OOO        OOO    FFF
                                               \           DDD        DDD         IIII         GGG                    IIII              TTTT            SSSSSSSS                         OOO        OOO    FFFFFFFFF
     ---------------------------------------    \          DDD        DDD         IIII         GGG     GGGGGG         IIII              TTTT               SSSSSSS                       OOO        OOO    FFFFFFFFF
                                            \    \         DDD        DDD         IIII         GGG     GGGGGG         IIII              TTTT                   SSSS                      OOO        OOO    FFF
                                             \    \        DDD        DDD         IIII         GGG        GGG         IIII              TTTT                    SSS                      OOO        OOO    FFF
                                              \    \       DDD        DDD         IIII         GGG        GGG         IIII              TTTT                    SSS                      OOO        OOO    FFF
                                               \    \      DDD       DDDD         IIII         GGGG      GGGG         IIII              TTTT         SSSS      SSSS                      OOOO      OOOO    FFF
                                                \    \     DDDDDDDDDDDDD     IIIIIIIIIIIIII     GGGGGGGGGGGGG    IIIIIIIIIIIIII         TTTT          SSSSSSSSSSSS                        OOOOOOOOOOOO     FFF
                                                 \    \    DDDDDDDDDDD       IIIIIIIIIIIIII       GGGGGGGG GG    IIIIIIIIIIIIII         TTTT            SSSSSSSS                            OOOOOOOO       FFF
    +==================================+          \    \                                                                                 ||
    |        P U Z Z L E    B Y        |           \    \                                                        DDDDDDDDDDD       EEEEEEEEEEEEEE       SSSSSSSS       PPPPPPPPPPP           AAAAAA        IIIIIIIIIIIIII    RRRRRRRRRRR
    |                                  |            \    \                                                       DDDDDDDDDDDDD     EEEEEEEEEEEEEE     SSSSSSSSSSSS     PPPPPPPPPPPPP         AAAAAA        IIIIIIIIIIIIII    RRRRRRRRRRRRR
    | S K E P T I C A L      M A R I O |             \    \                                                      DDD       DDDD    EEE   ||          SSSS      SSSS    PPP       PPPP       AAA  AAA            IIII         RRR       RRRR
    +==================================+              \    \                                                     DDD        DDD    EEE\\ || //       SSS               PPP        PPP       AAA  AAA            IIII         RRR        RRR
    |         G U I D E    B Y         |               \    \                                                    DDD        DDD    EEE \\||//        SSS               PPP        PPP       AAA  AAA            IIII         RRR        RRR
    |                                  |                \    \                                                   DDD        DDD    EEE  \||/         SSSS              PPP       PPPP      AAA    AAA           IIII         RRR       RRRR
    |          ~-aRjIMikKaL-~          |                 \    ---------------------------------------------------DDD--------DDD----EEEEEEEEE----------SSSSSSS----------PPPPPPPPPPPPP-------AAAAAAAAAA-----------IIII---------RRRRRRRRRRRR----
    +==================================+                  \                                                      DDD        DDD    EEEEEEEEE            SSSSSSSS       PPPPPPPPPPP         AAAAAAAAAA           IIII         RRRRRRRRRRRR
    |   F B I    D I S C L A I M E R   |                   ------------------------------------------------------DDD--------DDD----EEE---------------------SSSSSSS-----PPP----------------AAA------AAA----------IIII---------RRR--RRR--------
    |                                  |                                                                         DDD        DDD    EEE                         SSSS    PPP                AAA      AAA          IIII         RRR   RRR
    |    THIS GUIDE IS PROVIDED FOR    |                                                                         DDD        DDD    EEE                          SSS    PPP                AAA      AAA          IIII         RRR    RRR
    |      YOUR PERSONAL USE ONLY      |                                                                         DDD        DDD    EEE                          SSS    PPP               AAA        AAA         IIII         RRR     RRR
    | I CANNOT BE HELD RESPONSIBLE FOR |                                                                         DDD       DDDD    EEE               SSSS      SSSS    PPP               AAA        AAA         IIII         RRR      RRR
    |   ILLEGAL DOWNLOADING OF FILES   |                                                                         DDDDDDDDDDDDD     EEEEEEEEEEEEEE     SSSSSSSSSSSS     PPP               AAA        AAA    IIIIIIIIIIIIII    RRR       RRR
    +==================================+                                                                         DDDDDDDDDDD       EEEEEEEEEEEEEE       SSSSSSSS       PPP               AAA        AAA    IIIIIIIIIIIIII    RRR        RRR
    </pre>

    <h1>Sudokuvania: Digits of Despair</h1>

    <h2>Introduction</h2>

    <p>Sudokuvania: Digits of Despair is a sudoku puzzle hunt that pays tribute to the classic gameplay of action-adventure games like Metroid and Castlevania: exploring a strange new place full of mystery and danger, then gradually coming to master it by defeating enemies and discovering new equipment and techniques to help you in your journey. It uses rules from a variety of common sudoku variants, primarily fog, thermometers, arrows, kropki dots, and German whisper lines, as well as a number of less established rules. It is widely considered very difficult, even for people well-practiced in variant sudoku solving.</p>

    <p>The puzzle was set by Skeptical Mario and <a href="https://logic-masters.de/Raetselportal/Raetsel/zeigen.php?chlang=en&id=000MQQ">first uploaded to logic-masters.de</a> on April 5th, 2025. You can find a link to the puzzle on that site, as well as a personal statement from the author.</p>

    <p>Sudokuvania: Digits of Despair uses the SudokuPad web-based solving software. Because Sudokuvania makes heavy use of fog mechanics, it is not possible to complete the "world map" as intended without using this software. As of the time of this writing (mid-July 2025), SudokuPad's support for puzzles the size of Sudokuvania continues to be more than a little janky. Please take the following advice (some of which is repeated in the game rules):</p>

    <ul compact>
        <li>You must turn on Experimental > Test Large Puzzle UI in order to be able to zoom and scroll the world map, which is required unless you're solving on a truly enormous screen or have very good eyesight. The current experimental UI requires a mouse or similar input mechanism and does not support mobile devices, so you can only really work on the world map on a laptop or desktop computer. Boss puzzles are ordinary 9&times;9 grids and can be solved on any device.</li>
        <li>You can zoom in and out of the world map using a mouse scroll wheel. On a MacBook, you can use a two-finger drag, but it doesn't work very well. The zoom mechanics can be somewhat unintuitive and frustrating, especially when zooming in or out near the edge of the map.</li>
        <li>You can scroll around the world map by dragging with the right mouse button. I do not believe there is an equivalent touchpad gesture.</li>
        <li>If you find yourself stuck or lost, you can always reset the current view of the world map by toggling Test Large Puzzle UI off. You'll need to toggle it back on before you can zoom or scroll again. This does not reset your solution at all.</li>
        <li>You should turn on Visual > Draw Arrows Above Lines or else several clues will be very difficult to read.</li>
        <li>Skeptical Mario also suggests turning on Visual > Disable Emoji Replacement.</li>
    </ul>

<h2>Spoiler-free overview and advice</h2>

    <p>In Sudokuvania: Digits of Despair, you are an adventurer exploring the mysterious castle of Sudokuvania. Sudokuvania is organized into a <i>world map</i> for the castle (the puzzle that the link above takes you to) and a set of <i>boss puzzles</i> (independent puzzles that are linked at various points from the world map). The world map can be further broken down into a set of partially-overlapping <i>grids</i>, which are NxN squares with heavy black outlines in which the standard rules of NxN sudoku hold, as if each grid were an independent puzzle. This information can be found as the first entry in the Learned Rules box, in the top-left corner of the world map. As you progress through Sudokuvania, you will discover new rules that will be added to the box. These rules generally hold only on the world map, and the boss puzzles will have their own rulesets.

    <p>When you have a cell selected on the world map, the text at the bottom of the puzzle description box (the green box in the top-right of the SudokuPad UI, beneath the puzzle title) will change to talk about what you've selected:
    <ul compact>
        <li>Selecting a cell in the Learned Rule box talks more about the rule.</li>
        <li>Selecting a cell in a grid describes the region as your character sees it. This is often just flavor text, but it sometimes contains clarifications for how the rules apply to the region. You will also find a link to the boss puzzle for the region; see below.</li>
        <li>Selecting a cell with a <fixed>!</fixed> mark reveals the explanatory text for a quest (this is meant to look like a quest marker, like you often see on NPCs in an MMORPG). If you aren't sure what to do with a quest, be sure to go back and read its quest text.</li>
    </ul>
    You can click on cells that you haven't yet revealed and read ahead, but you don't need to, and you'll only be spoiling things for yourself.

    <p>Boss puzzles are associated with specific cells in each of the major grids of the world map. These cells are marked with the "smiling face with horns" emoji (&#x1f608;) and never appear in the cells that overlap multiple grids. While you can solve boss puzzles immediately once you enter the region and can read the puzzle link in the description box, the instruction you receive after defeating the boss is always to place a specific digit in the boss cell. Therefore, you cannot actually progress on the world map by solving boss puzzles before you reveal its corresponding boss cell.

    <p>As you might expect, the boss puzzles in Sudokuvania are often quite challenging, but you should also not underestimate the difficulty of the world map. You will probably spend at least as much time trying to figure out the logic on the world map as you do on the bosses. Don't imagine you'll knock the whole hunt out in an afternoon, or even a day; my own personal solve time was close to 24 hours, spread over an entire weekend in which I fortunately didn't have many other responsibilities. Pace yourself and enjoy the experience. If nothing else, trying to solve while you're mentally fatigued will probably just lead to a lot of silly logic errors and frustration.

    <p>Just like in Metroid and Castlevania, you will often find parts of the world map that you cannot solve until you have worked on a different part of the puzzle. In fact, even the 6x6 entrance area cannot be solved until you've completed several other regions. Backtracking is an important part of the experience. Because the world map really can be quite a hard puzzle on its own, of course, you won't always be sure if you're <i>supposed</i> to be backtracking, or if you're just missing something.

    <p>This guide is written in a way that I hope will allow you to "incrementally" get yourself unstuck. Text that is not hidden by default (<span class="hidden">like this</span>) should provide a general outline of what parts of the puzzle to focus on. Additionally, each paragraph in the guide starts with a hint or prompt that is not an outright spoiler for any of the logic. This initial hint will sometimes itself be hidden, if I feel that finding it is an interesting part of the challenge, but you can safely reveal it without worrying that I'll be giving away the logic. This applies <i>only</i> to the first phrase in the paragraph, whether it is hidden or not. If that phrase trails off and leads into some hidden text, the hidden text is very likely to be at least a partial spoiler. Later hidden text in a paragraph generally builds on the conclusions reached earlier in the paragraph. The hidden text does cover every major leap of logic in Sudokuvania, and you <i>will</i> spoil the puzzle if you read it all.

    <p>Please don't imagine that I myself solved Sudokuvania in exactly the way I've presented it here. This guide leaves out an awful lot of details, like marking up the possible values of various cells and staring perplexedly at the screen, in favor of just presenting the core logic, which inevitably makes it seem like I found it all rather straightforward. This walkthrough was written during my second solution of the puzzle. While I did solve it on my own, both times from scratch, I found it a very challenging puzzle, and I frequently found myself making mistakes and unsure of how to make progress, even on the second time. I have also frequently re-ordered the logic from the way I originally discovered it, in order to present related conclusions together. My actual soluton was much more scatter-shot and inelegant.

    <p>The hiding of spoilers in this guide only works in a browser that supports CSS. If you have JavaScript disabled, you can read a spoiler by highlighting the text. If you have JavaScript enabled, you can also read a spoiler by clicking on it; you can then re-hide it by clicking on it again.

    <p>A very minor early spoiler, which you can read once you've revealed the first half of the Courtyard: <span class="hidden">clues don't always stay within grids. The rules for cells outside of grids are somewhat different, and you should not make deductions that assume that clues work the same way outside of grids as they do within them. Rest assured that the off-grid rules will eventually be explained</span>.

    <p>This guide will use several shorthands and pieces of jargon:
        <ul compact>
            <li>rX means row X of the current grid, with r1 being the top-most row.</li>
            <li>cY means column Y of the current grid, with c1 being the left-most column.</li>
            <li>rXcY means the cell in row X and column Y.</li>
            <li>rXcY = D means the digit in rXcY is D.</li>
            <li>bN means box N of the current grid, counting left-to-right, top-to-bottom. In a standard 9&times;9 sudoku grid, b1 is the top left box and b6 is the central box on the right side.</li>
            <li>X/Y/Z means "X, Y, or Z".</li>
            <li>"Sudoku" means the ordinary rules of sudoku. If I say that you should do sudoku, I mean that you can make some progress by just applying those rules for a bit, with the implication that it's not too tricky or else I'd be giving you more hints.</li>
            <li>A cell "sees" another cell if the rules of the puzzle would force them to have different digits, whether that's from the row/column/box restrictions of ordinary sudoku or from some other rule.</li>
            <li>A "set" means a group of N cells that all see each other and that are all restricted to the same set of N digits (or subsets of it). For example, the unfilled cells in r1 of this mini grid form a 1/2/3 set:
                <table class="grid">
                    <tr><td></td><td class="r"></td><td></td><td>4</td></tr>
                    <tr><td>4</td><td class="r"></td><td>2</td><td></td></tr>
                </table>
                r1c3 here is more constrained than 1/2/3 (it must be 1/3), but that's fine. If another cell saw all three of these cells, it would not be able to contain 1/2/3, because no matter how the digits were filled in, it would see each of them.
            </li>
            <li>A "pair" is just a set of two digits. The unfilled cells in r2 of the example above form a 1/3 pair.</li>
            <li>A "naked single" is a cell that only has one remaining possible digit.</li>
        </ul>

<h2>Chapter 1. Front Gate (grid 0)</h2>

    <p>Take a moment to familiarize yourself with both the UI and the shorthands I'll be using in this guide:
        <ul compact>
            <li>Zoom in so that you can clearly see the starting grid and read the rules text beneath it.</li>
            <li>Read what the puzzle description (green box in the top-right of the UI) has to say about the Front Gate. It's not much, but it's a good practice to get into.</li>
            <li>There are several given digits. One of them, r4c1 = 4, is in box b4.</li>
        </ul>

    <p>You can see a bit of a green line in r3c1. This is a clue, but you don't have a rule for it yet, so you have to ignore it for now.

    <p>The puzzle here is straightforward sudoku, but you will not be able to complete it yet. Note that you will have to place digits into cells that still have fog, and that's fine. You should end up having filled two of the three cells on the border with the grid to the lower-right (the Courtyard). You can get some interesting pencil-marks in the upper half of the grid, but there's not really anything else you can do here for now. On to the next grid!

<h2>Chapter 2. Courtyard (grid 1)</h2>

    <p>Note that we've gained a new rule, Guide THERMO. Read the description in the Learned Rules box, then click on one of the rule cells in that box and read more about it at the bottom of the puzzle description box. If you've done much variant sudoku, you've probably already seen this rule, but it's good to verify that there's nothing special about it in Sudokuvania. Note that cells on a thermometer always "see" the other cells on the thermometer: because the thermometer must <i>strictly</i> increase, digits may never repeat.

    <p>Click on one of the cells you've revealed in the new grid, then read the description of the Courtyard in the puzzle description box. You'll see that we also have a link to the boss puzzle. Since we can't see the boss cell yet, we'll put that off until later.

    <p>There's only one clue for how to make progress in this grid right now: the thermometer. <span class="hidden">We can see that there are at least three more cells on the thermometer.</span> <span class="hidden">There's a 6 in the bulb, and there are only three digits greater than 3, so we should be able to fill all three cells.</span>

    <p>That will reveal all of b4. <span class="hidden">We can't see the bulbs for the new thermometers.</span> <span class="hidden">There must be a 1 somewhere in b4.</span> <span class="hidden">Since the 1 must be in c1 in b4, r7c1 cannot also be 1.</span> <span class="hidden">What does that mean about the value of r6c2?</span> <span class="hidden">There must also be a 2 somewhere in b4.</span> <span class="hidden">Since the 2 is also in c1 in b4, what is the least possible value of r6c2 now?</span> <span class="hidden">r4c3 is the end of a thermometer.</span>

    <p>You've revealed your first boss cell!

<h2>Chapter 3. <a href="https://sudokupad.app/frudzw3n73">Thermomonster</a> (Courtyard boss)</h2>

    <p>This is a great introduction to one of the more important ideas from thermometer sudoku. A digit on a thermometer is always different from every other digit on the thermometer. When a thermometer both (1) crosses a box border and (2) shifts over to fill a different row or column, digits on the thermometer in the first box are often tightly constrained in the second. That happens three times in this puzzle:

        <ul compact>
            <li><span class="hidden">r2c2 and r3c2 in b4</span></li>
            <li><span class="hidden">r8c8 and r7c8 in b6</span></li>
            <li><span class="hidden">r9c3 in b8</span></li>
        </ul>

    <p><span class="hidden">Start with the thermometers on the sides.</span> <span class="hidden">r8c8 and r7c8 cannot be greater than 6, and </span><span class="hidden">at least one of them must be the end of one of the thermometers in b6, </span><span class="hidden">which is significant because these cells must be at least 5</span> <span class="hidden">and therefore the bulb can be at most 2.</span> <span class="hidden">Similarly, r2c2 and r3c2 cannot be less than 4, and at least one of them must be in a bulb in b4, so the end of that thermometer must be at least 8.</span> <span class="hidden">Those must be different thermometers: one goes from 1/2 to 5/6, and the other goes from 4/5 to 8/9.</span>

    <p>Can we constrain those further? <span class="hidden">What do we now know about r7c8?</span> <span class="hidden">If r7c8 = 6, c9 in b6 would have to be 7/8/9.</span> <span class="hidden">We know there's an 8/9 in this box, so that's impossible.</span> <span class="hidden">So these numbers are at most 5, but one of them has to be a thermometer end, which mean it's at least 5. Therefore, one of the thermometers is 1/2/3/4/5.</span> <span class="hidden">The same idea applies in b4: r3c2 cannot be 4 because that would force 1/2/3 in c1, which contradicts that one of the thermo bulbs is 1/2. So r3c2 and r2c2 must be at least 5, and one of them has to be in a thermo bulb, which means it's at most 5. Therefore, the other thermometer is 5/6/7/8/9.</span>

    <p><span class="hidden">It'd be nice to figure out which is which. Does one seem more constrained by other clues?</span> <span class="hidden">r9c3 is is at least 4.</span><span class="hidden">It must also be on the thermometer that runs along r7 in b8.</span> <span class="hidden">So if that's the 1/2/3/4/5 thermometer, it must be one of 2/3/4; but then b8 contains both 2 and 3 on both r7 and r8, which is a contradiction. So the thermometer starting in r6c3 must be the 5/6/7/8/9 thermometer, and the one starting in r4c3 must be 1/2/3/4/5.</span> Now let's revisit what we said before: <span class="hidden">remember that r3c2 and r2c3 must be in c3 in b4.</span> <span class="hidden">They are both at least 5, so they must be in r5c3 and r6c3, which means one of them is exactly 5, and it must be r3c2. This puts 2/3/4 in c1 in b4.</span> <span class="hidden">By the same logic, r7c8 must be 5, and c9 in b6 must be 6/7/8.</span> Remember that you can place those exactly because of the thermometer. <span class="hidden">Where can 1 be in b1? Only c1. Similarly, 9 in b9 can only be in c9.</span> <span class="hidden">This makes r3c9 and r7c1 naked singles.</span>

    <p>Now we can look at the remaining outer thermometers. <span class="hidden">All the cells in r8 in b8 are at most 5. r7c3 is at most 4, so r8c2 is at most 3. r8c8 is at most 4.</span> <span class="hidden">That makes five digits that are 5 or less, and 5 can only be on in b8, forcing it into r8c4.</span> <span class="hidden">r3c7 must be at least 6, so it is 6/7, r2c8 is 7/8, and r1c8 is 8/9.</span> <span class="hidden">r2c5 is at least 5, so r2c6 is at least 6. r2c4 cannot be less than 7. r2c2 cannot be less than 6. So there are at least five numbers greater than 5, and only r2c5 can be exactly 5, so it is.</span> <span class="hidden">This forces 5 in the other three boxes.</span>

    <p>Finally we can look at b5. <span class="hidden">If r4c6 is 6 or more, r5c5 must be 8 or more, and then r6c4 is impossible. So it is 2/3.</span> <span class="hidden">Similarly, if r6c4 is 4 or less, r5c5 must be 2 or less, and then r4c6 is impossible. So it is 7/8.</span> <span class="hidden">r4c8 can only be 2/3, so the only possible place for 2 in b5 is r4c6, which also gives r4c8 = 3.</span> <span class="hidden">The only place for 3 now in b5 is r6c6.</span> <span class="hidden">r8c6 = 1, which makes a 2/4 pair in r8c5 and r8c8, forcing r8c2 = 3 and r7c3 = 4.</span> <span class="hidden">r9c6 = 9 is a naked single.</span> <span class="hidden">r9c4 is the only possible cell for a 3 in b8.</span>

    <p>The remainder of the puzzle is straightforward. In case you need to refer back to it, the number to place in the boss cell is <span class="hidden">3</span>.

<h2>Chapter 4. Courtyard (grid 1)</h2>

    <p>You have now unlocked the Sum WHIP. Take a breather to read about the clue in the Learned Rules and the puzzle description. This is just arrow sudoku, but the clarification about what arrows can do in unrevealed fog cells is useful. You've also revealed some arrows in b5 and b6, and the lower arrow overlaps some thermometers.

    <p><span class="hidden">What digits can be on that lower arrow?</span> <span class="hidden">What digits can be on the thermometers leading there?</span> <span>They cannot be 4 or 5, and if either were 6+, the corresponding arrow cell would have to be 7+, forcing the arrow sum to be 9, which it cannot be. So r6c4 is 2/3 and r6c7 is 1/2/3.</span> <span class="hidden">The arrow sum cannot be greater than 8.</span> <span class="hidden">r5c5 must be at least 4, so r5c6 cannot be greater than 3.</span> <span class="hidden">Therefore r6c7 must be 1/2, which forces 3 into r6c4.</span> <span class="hidden">How is the other arrow constrained?</span> <span class="hidden">The 1 must be on it, but the other digit must be at least 4.</span> <span class="hidden">In fact, this is the only option that isn't contradicted.</span>

    <p>You can now see an arrow and a thermometer in box 8, although you can't see the end of either. <span class="hidden">There are at least three cells on the arrow.</span> <span class="hidden">The only way to make three cells sum to a single digit without using 1 is 2/3/4.</span> <span class="hidden">There is already a 3 in both columns, so there must be a 1, and it must be in either r7c5 or c8c5.</span> <span class="hidden">It cannot be in r7c5 because that is an intermediate cell on a thermometer.</span> <span class="hidden">r7c5 must be 2 or 6.</span> <span class="hidden">If it is 6, that forces a 9 into r8c4; but r8c1 must be 8/9, and that means r8c6 cannot be greater than 7, which breaks the thermometer.</span> <span class="hidden">With a 1/2 pair on the arrow, we know that the remaining cells must be either a 4/7 or 6/9 pair.</span> <span class="hidden">r4c4 must be either 6 or 9, so they must be 4/7.</span>

    <p>Take a moment to do some sudoku; you should be able to put a digit in <span class="hidden">r8c3</span>. This will reveal b7, but you can't do much with that information yet. Observe in particular that <span class="hidden">there's an arrow leading off the grid from r8c1, which must be at least 8; but it's also the end of an arrow, and if the adjacent cell were 9, that arrow wouldn't work. Something odd's going on. Just leave this alone.</span>

    <p>The clues in b9 are a little hard to read. There's one an arrow occupying at least r6c9, r7c9, and r8c8, and another occupying at least r9c9, r8c9, and r7c8. You can't see if the unrevealed cells are the circles of the arrows, though. <span class="hidden">The clues interact in interesting ways; you might find it helpful to mark the possibilities in the four thermometer cells.</span> <span class="hidden">r7c8 is at least 5, so r8c9 must be 2 or 3, and r7c8 cannot be greater than 7.</span> <span class="hidden">The only possible place for 9 in r7 is r7c7.</span> <span class="hidden">If r7c8 were 7, the sum on the arrow would already be 9 without including r9c9, so r9c9 would have be the circle, and it would have to be 9, which is a contradiction.</span> <span class="hidden">This creates a 5/6 pair in r7. You should be able to do a lot of sudoku now.</span> <span class="hidden">r6c9 must be 6/8/9, and the two other cells on its arrow sum to at least 4, so it cannot just be part of the sum; it must be the circle.</span> <span class="hidden">r8c8 must be 3/5/6, but only 5 actually makes a valid sum in r6c9.</span> This should let you fill all but two cells in boxes 4-9; you can mark your options in the other cells, but you can't do anything there yet. Off to the next grid!

<h2>Chapter 5. Quarters (grid 2)</h2>

    <p>Go ahead and read the description of the new area in the puzzle description. Because these two grids are offset by one cell vertically, the box lines can be a little tricky at first. <span class="hidden">There's a 1 in r3c1 which can see all three cells on this arrow, so its sum must be 9, and the circle must be in r2c4.</span> <span class="hidden">r2c5, the circle that was just revealed, cannot be greater than 5 because of the thermometer.</span> <span class="hidden">It has at least two cells on it, neither of which can be 1, so it must also be at least 5. You can fill in all the thermometer cells you can see.</span> <span class="hidden">The thermometer continues into r3c6, but this cell sees a 1, a 2, and a 3; it must be 4.</span> You should take a moment to fill in what you can, but you're locked out of the rest of this grid for now.

<h2>Chapter 6. Factory (grid 3)</h2>

    <p>If you filled in the possibilities right, you should be able to fill the other overlapping cell between these grids. And now you've unlocked WHISPER dash! Take the opportunity to read the grid description as well as the description of the new rule. This is the common "German whisper line" rule from variant sudoku. There are two general insights you should be able to figure out immediately about these lines: <span class="hidden">the digits on the line are never 5</span> and <span class="hidden">they alternate polarities between "high" (greater than 5) and "low" (less than 5).</span> Note that the clue in this grid doesn't actually tell us anything we don't know, because the thermometer already makes r8c2 at least 6!

    <p>There is some interesting logic you can do here to fill a few cells, but you won't make much headway beyond that. For now, you need to notice that a couple of whispers were also revealed back in the previous grid.

<h2>Chapter 7. Quarters (grid 2)</h2>

    <p>The new clues here are quite constrained. <span class="hidden">Both r4c7 and r4c9 cannot be greater than 3.</span> <span class="hidden">They also both see the 2 in r4c1, so you should be able to fill them in.</span> <span class="hidden">The newly-revealed line must have at least one digit less than 5 on it, but both cells see 1, 2, and 3, so it must be a 4/9 pair, which can be placed.</span>

    <p>This clue might be tricky to interpret. There is one line between r6c3 and r5c4, and there is a second line between r5c3 and r6c4; the fact that they cross doesn't matter. <span class="hidden">One of the digits on the first line must be greater than 5.</span> <span class="hidden">If the high digit is in r6c3, it must be 6, and r7c4 must be 1. If the high digit is in in r7c4, it must be 7, and r6c3 must be 1 because of r4c1.</span> <span class="hidden">So the second line cannot have a 1 (in either of the two cells you know of), which means the low digit cannot be r6c4: it would have to be at least 2, so r5c3 would have to be at least 7, and it can't.</span> <span class="hidden">r5c3 therefore must be 3 or 4, and if it were 4, r6c4 would have to be 9. Therefore these cells are 3 and 8.</span> <span class="hidden">The newly-revealed cell, r4c8, must be 8 by sudoku.</span>

    <p>You can see a new kind of clue, a red line, running off the grid. Curiouser and curiouser, but not much to be done with it yet. The other clues that just got revealed are more promising. <span class="hidden">These two lines meet in r7c8, so r6c7 and r6c9 must have the same "polarity", either high or low.</span> <span class="hidden">If they were low, r7c8 would have to be 9, which it cannot be.</span> <span class="hidden">r7c8 must be low. It cannot be 4 because both of the other cells would have to be 9. It cannot be 3 because they would have to be an 8/9 pair, but they both see an 8. It cannot be 2 by sudoku. So it must be 1.</span> <span class="hidden">r8c8 sees 8 and 9, and it cannot be 6 because it would force a 1 into r9c7, so it must be 7.</span> <span class="hidden">The 2 in r9c7 constrains 2 in b6 into r5c9, and the 7 in this box must be in r6c9.</span> <span class="hidden">The 3 in c8 must be in r9c8.</span> And... well that's interesting to learn.

    <p>You can do a little more in this grid before you run off to take advantage of the new rule. <span class="hidden">The 2 and 3 in r6 can only be in b5, which </span><span class="hidden">forces r6c7 = 9.</span> <span class="hidden">The 1 and 6 can only be in r6c2 and r5c3,</span><span class="hidden"> so r6c1 must be 4/5</span>. That seems to be it, though; about half the grid is still wide open. Back to the factory.

<h2>Chapter 8. Factory (grid 3)</h2>

    <p>Well, now that we have a knight's move restriction in this grid (and only in this grid), we can make some real progress. Consider the arrow. <span class="hidden">It cannot have a 1, and it cannot be a 2/3 pair because of r9c3, so it must sum to at least 6.</span> <span class="hidden">But its digit is constrained in b7: it cannot be on its own arrow, so it must be 6/7.</span> <span class="hidden">If r8c1 were 7, r6c1 would be forced to be 6, but r9c3 would also be forced to be 2, and it would be impossible to fill the arrow.</span> <span class="hidden">If r8c2 were 6, r9c3 would be forced to be 2 again, and either possibility for r6c1 leads to a contradiction.</span>  <span class="hidden">r6c1 is interesting.</span> <span class="hidden">The arrow cannot have a 1, and it cannot be a 2/3 pair because of r9c3, so it must sum to at least 6.</span> <span class="hidden">But its digit is constrained in b7: it cannot be on its own arrow, and it cannot be in r8c2 by the knight restriction, so it must be in one of the other three cells. And those cells are filled with 1, 2/3, and 5/6. So it must be 6.</span> You should be able to finish the thermometer and b7.

    <p>You can now see a relatively long thermometer in b5. <span class="hidden">r6c4 has at least two digits both less and greater than it, and it cannot be 4, 5, or 6, so it must be 3 or 7.</span> <span class="hidden">If it were 3, one of the ends of the thermometer would have to be 321, but both of the cells that a 2 could be in are a knight's move from r7c3. So it is 7.</span> <span class="hidden">That means one of the ends must be 789. If the 9 were in r6c6, there would be nowhere to place 9 in b8.</span> <span class="hidden">r6c5 must be less than 7 by the thermometer, but it cannot be 6 or 5, so it is 2/3/4.</span> <span class="hidden">The 3 in b8 must be in c6, so it must be in c5 in b5.</span> <span class="hidden">r5c3 must be low, but it cannot be 2 or 4, and it cannot be 3 because it would see all three possible positions of 3 in b5. Therefore it is 1.</span> <span class="hidden">r7c4 is now a naked single 6.</span> <span class="hidden">The only possible place for 1 in b8 is r8c5.</span> <span class="hidden">This forces 1 in b5 into r4c6.</span> And now we've found our second boss cell!

<h2>Chapter 9. <a href="https://sudokupad.app/ny34cxleh8">Disassembly Line</a> (factory boss)</h2>

    <p>This is a very clever exercise in both of those general insights about German whisper lines.

    <p><span class="hidden">Note that the whisper lines never occupy a complete column.</span> <span class="hidden">5 can never be on a whisper line, so it's heavily constrained here.</span> <span class="hidden">You should be able to place all nine 5s right away:</span> <span class="hidden">there's only 1 cell that's not on a whisper line in both c2 and c8, </span><span class="hidden">which only leaves one possible cell in c5, </span><span class="hidden">which restricts c4 and c6 via the knight constraint, </span><span class="hidden">which restricts c3 and c7 via the knight constraint, </span><span class="hidden">which finally resists c1 and c9.</span>

    <p>What can you deduce about where certain digits go on the lines? <span class="hidden">4 and 6 cannot be next to two cells on the same line, so the ends of the two long lines form a 4/6 pair, on both lines.</span> <span class="hidden">The 4 must be next to a 9, and the 6 must be next to a 1, so the next cells in must be a 1/9 pair, again on both lines.</span> <span class="hidden">Since 3 cannot be at an end, it must be next to the 8 and 9, and similarly 7 must be next to the 1 and 2. So the next cells in form a 3/7 pair, and the middle two cells must be 2/7.</span> From top to bottom, then, each long line is <span class="hidden">4/6, 1/9, 3/7, 2/8, 2/8, 3/7, 1/9, 4/6</span>.

    <p>Time for some coloring. If you're new to this, shading cells in different colors can be a very useful tool for reasoning about where certain digits must be even when you aren't sure of the exact digits. In this puzzle, it's going to be very useful to reason about high and low digits. You don't know whether the digit in r1c2 is high or low, but you know it's one of those; and you know that the cell in r2c2 is the opposite, and that the cell is r3c2 is the opposite of that, and so on. Use the color tool (in the bottom right of the SudokuPad UI) to shade r1c2 dark gray and r2c2 purple. Every cell you mark gray will have the same high/low polarity as r1c2, and every cell you mark purple will have the opposite. You can use whatever colors you like, of course, but I think these two look nice and are still readable on the light blue background that Skeptical Mario chose for this grid.

    <p>You can start by marking all of the cells on the line in c2, alternating down the line. What do you know about c8? <span class="hidden">r5c2 and r5c8 form a 2/8 pair, so they must have opposite polarity. That should let you mark the whole line in c8.</span> <span class="hidden">Note that both lines have the same sequence of polarities from top to bottom.</span> <span class="hidden">This means the lines are actually the exact same sequence of digits top to bottom: e.g. both r7c2 and r8c8 are either 1 and 9, and they have the same polarity, so they are either both 1 or both 9.</span>

    <p>What you're going to do now is basically play sudoku without knowing exactly which digits you're using. Essentially, you're exploring two hypotheses at once: the one where r1c2 is <span class="hidden">4 (so gray is low and purple is high)</span> and the one where it's <span class="hidden">6 (so gray is high and purple is low)</span>. Eventually you'll hit a constraint that only works with one or the other, and you'll be able to fill in a lot of actual digits very quickly. In the meantime, you can still reason about them as "abstract digits", because the combination of (1) constraining a cell to either a low or high digit (e.g. it contains either 3 or 7) and (2) giving it a specific color (e.g. it is purple) means that, under each hypothesis, you've narrowed it down to exactly one digit (e.g. if purple is high, it must be 7). So you can just do sudoku with "abstract digits": the purple 3/7 is a different digit from both the purple 4/6 and the gray 3/7.

    <p>Let's start by looking at r1c2. <span class="hidden">This is the gray 4/6, and it's in r1c2 and r2c8, so it must be in r3 in b2. It cannot be in r3c6 because of the knight restriction. It cannot be in r3c5 because it would be in the middle of a line, so both of the cells it's connected to would have to be the purple 1/9. So you can mark r3c4 as the gray 4/6.</span> <span class="hidden">Parallel logic places the purple 4/6 in r7c6. This puzzle has a lot symmetry, so whenever you figure something out about one digit, check to see if the same applies to its opposite.</span>

    <p>The middle row of boxes is very constrained. <span class="hidden">The gray 3/7 can only be in r5c4 in r5, and the purple 3/7 can only be in r5c6.</span> <span class="hidden">There is only one remaining cell for those in r6 and r4, respectively.</span> <span class="hidden">Where does the gray 1/9 go in r6? Only in c5 or c6, and it's a 1/9, so it cannot go in the center of a thermometer. Parallel logic puts the purple 1/9 in r4c4.</span> <span class="hidden">And of course they must be 1 and 9, respectively, which means purple is high and gray is low. You should be able to place an exact digit into every cell you've colored now.</span>

    <p>You should be able to finish the puzzle from here. The digit to place back in the boss cell is <span class="hidden">8</span>.

<h2>Chapter 10. Factory (grid 3)</h2>

    <p>You've revealed the rest of the factory, and you've unlocked a new rule: DOUBLE jump. Go ahead and read about the new rule. If you're used to variant sudoku, this is just a standard Kropki black dot, making one digit the double of the other. This means the lower digit must be 1, 2, 3, or 4, and the higher must be 2, 4, 6, or 8; so a digit adjacent to a dot can never be 5, 7, or 9.

    <p>But first, try to make some progress with the digit you just got. <span class="hidden">The 8 in b8 can only be in c6, so it must be in c5 in b2, which means it must be in r1c5.</span> <span class="hidden">In b4, it must be in c3, so it must be in c2 in b1, and therefore r2c2.</span> <span class="hidden">Now it can no longer be in r4c3, so it's in r6c3, which constrains it in b6 as well.</span>

    <p>Now we can use our new clue. <span class="hidden">The black dot tells us that r5c8 must be 4.</span> <span class="hidden">So the 4 in r6 can only be in r6c5.</span> <span class="hidden">r5c2 can only be 3, which means you can fill every cell in b5.</span> <span class="hidden">This makes r6c7 a naked single 3, which makes </span><span class="hidden">r8c6 a naked single 9.</span> <span class="hidden">There is only one remaining cell for 5 in b4.</span> <span class="hidden">r4c3 can only be 4.</span> <span class="hidden">r2c3 can only be 7.</span> <span class="hidden">That constrains 7 in b2 into c6, which means the only cell left for it in c5 is r7c5.</span> <span class="hidden">And that places the last two 8s in the grid.</span>

    <p><span class="hidden" b9 is a nice place to look next.</span> <span class="hidden">The remaining cells in r8 are 2/3/4, but </span><span class="hidden">knight constraints force r8c7 to be 4 and r8c9 to be 3.</span> <span class="hidden">The dotted cells in b3 now cannot have a 3 or a 4, so they must be a 1/2 pair.</span> The rest of the grid is straightforward, and you should have it completely filled.

    <p>Hmm. You can see some book clues (&#x1f4d6;) in the new grid, but you don't know what they mean. You must be missing something somewhere else.

<h2>Chapter 11. Front Gate (grid 0)</h2>

    <p>Did you forget that there was a bit of green line here? You know what that means now. Go ahead and place a <span class="hidden">1 in r2c1</span>, and a little sudoku from there will reveal the rest of the grid.

    <p>That black dot is interesting. <span class="hidden">You know that the left cell must be 4/6 and the right cell must be 1/2/3.</span> <span class="hidden">So it must be a 2/4 or 3/6 pair. But if it's a 2/4 pair, it'll be impossible to place a digit in r2c2.</span> That should let you finish the front gate at last.

<h2>Chapter 12. Battlements (grid 4)</h2>

    <p>Take a moment to read the description of the new grid. It might not look like you can do much here, but <span class="hidden">that black dot is more constrained that it might seem.</span> <span class="hidden">It cannot be a 1/2 or 3/6 pair, so it must be 2/4 or 4/8. Both have a 4, and the 4 cannot be in b7.</span>

    <p>An eye outside the grid? <i>Another</i> clue you can't do anything with yet. But there are a lot of other cells revealed. <span class="hidden">The dotted cells in c1 see a 3 and 4, so it must be a 1/2 pair.</span> <span class="hidden">r3c2 therefore has to be 1/2/4, but it cannot be 1 or 4.</span> <span class="hidden">5 cannot be on either a dot or a whisper, so the only possible cell for it in r3 is r3c9.</span> <span class="hidden">The remaining dots in r3 must separate 3/6 and 4/8 pairs, but </span><span class="hidden">the inner two dotted cells are on a whisper line with each other, and of 3/4/6/8, only 3 and 8 are at least 5 apart.</span> <span class="hidden">The outer two dotted cells are the 4/6, but if r3c7 were 6, r3c8 would have to be 1.</span> This should finish this row and unlock the new rule.

    <p>Alright, now you know what that eye means: it's a SCRY-PEEPER. Go ahead and read the details of the rule in the puzzle description; there's an important clarification for how the rule works on the world map. And you can test your understanding by counting the visible cells in r3: the eye can see the 1, 2, 7, 8, and 9, for a total of 5, exactly as the clue says. In variant sudoku, this is generally called a skyscraper rule.

    <p>What about that other eye? <span class="hidden">6 seems like a lot of cells.</span> <span class="hidden">What would happen if r6c1 were 9? or 7?</span> <span class="hidden">The general math for this is, if an eye can see <i>E</i> cells, the <i>K</i>th cell in that row or column can't be more than 9 - E + K. But you don't really need to memorize that; you can just puzzle it out.</span> <span class="hidden">r6c1 can't be more than 4 because the eye must see 5 more cells in addition to it. Since it can't be 1, 2, or 4, it must be 3.</span>

    <p><span class="hidden">7 also seems like a lot of cells. Where can the 9 be in c5?</span> <span class="hidden">It must be in r7 at the earliest. But if it were in r7, </span><span class="hidden">it wouldn't be possible to see the cell in r6, because it would be at most 4, and there are 5 cells before it in the column. So the eye would only be able to see at most 6 cells.</span> <span class="hidden">That means the 4 cannot be on the whisper segment in this column.</span> <span class="hidden">What digits can be in first two cells?</span> <span class="hidden">r1c5 cannot be more than 3, so it must be 1/2. r2c5 must be 1/2/4.</span> <span class="hidden">If they were both 1/2, there wouldn't be any low digit left that could be on the whisper; so r2c5 must be 4.</span> <span class="hidden">This means the 3 isn't visible, and the 1/2 on the whisper line can't be visible. So every other cell must be visible.</span> <span class="hidden">That means that they must be filled with digits in ascending order in the column! r1c5 can still be either 1 or 2, but r4c5 must be 5, r5c5 must be 6, the high digit on the whisper must be 7, r8c5 must be 8, and r9c5 must be 9.</span> <span class="hidden">Sudoku puts a 7 in r7c1, so the 7 in c5 must be in r6c5.</span>

    <p>Back to r6. <span class="hidden">This 7 is a fairly tight constraint.</span> <span class="hidden">r6c4 cannot be greater than 7 without breaking the eye, and it cannot be 3, 4, 5, or 6 by sudoku, so it must be 1/2.</span> <span class="hidden">Since r6c6 must also be 1/2 because of the whisper line, r6c3 is very constrained: it cannot be 1/2/3/4/7 because they are already placed in r6, it cannot be 5 because that is in c3 in b7, and it cannot be 8/9 because of the eye. Therefore, it must be 6.</span> <span class="hidden">So the eye can see at least the 3, 4, 6, and 7, and it must see two more, which must be the 8 and 9.</span> <span class="hidden">If the 9 were in r6c7, the eye would only see 5 cells. So it must be in r6c9.</span> Note that you can ignore this clue now: no matter how you fill the remaining cells, the eye will see the 8 and therefore see 6 cells. Note that placing this digit reveals some clues in the new grid. Don't try to use them yet;

    <p><span class="hidden">Where is the 8 in c8?</span> <span class="hidden">It cannot be lower than r5, which means the 8 in r6 can only be in r6c7.</span> <span class="hidden">Does the 5 in r6c8 onstrain the eye in c8?</span> <span class="hidden">It does: it cannot see both r5c8 and r4c8 anymore. The only possibility would be if the three cells in this box were 5/6/7, and that is impossible because of the 6 in r5c5.</span> <span class="hidden">But there are only five other cells before the 9. The eye must see all four cells in rows 6-9 and one of the cells in row 4-5.</span> <span class="hidden">To be visible over the 5 in r6c8, one of those last two cells must be 6/7.</span>

    <p>The eye in c7 <span class="hidden">can see the 8 in r6c7 and the 9 beneath it. There are only five cells above the 8, and it must see exactly four of them.</span> <span class="hidden">But you've already placed two digits from 5/6/7 in b6, which means one of r4c7 or r5c7 must be less than 4.</span> <span class="hidden">So the other three cells must be visible, which means the first two cells must be 1 and 2 in that order.</span> A short amount of sudoku later, and you'll find the third boss cell.

<h2>Chapter 13. <a href="https://sudokupad.app/xu2ai5oymi">Skysitter</a> (Battlements boss)</h2>

    <p>This puzzle is quite fun. There are quite a few clues here, and it can be a little intimidating to break in. The opposing eyes are an important constraint, since the numbers are very small. The arrows are also a powerful restriction; and of course there are also some black dots.

    <p>Begin with the place where these all interact most strongly. <span class="hidden">In both b1 and b7, there is a three-cell arrow at the start of a row observed by an eye with a count of 2.</span> <span class="hidden">An eye always sees the 9, but these arrows cannot have a digit greater than 6. Therefore the eye can see only the first cell in the row and the 9, wherever it appears. The first cell must be the largest digit on the arrow.</span> <span class="hidden">Therefore it must be 3, 4, 5, or 6; but it cannot be 5 because it is also on a black dot.</span> <span class="hidden">One of the two dots in c1 must be a 3/6 pair, and the other must be either 2/4 or 4/8, with the 4 sitting on the arrow.</span>

    <p>Now consider the arrows alone for a moment. <span class="hidden">There are five cells on the arrows in both b1 and b7.</span> <span class="hidden">The circles on the arrows must sum to at least 15, and so neither can be less than 6; but </span><span class="hidden">they also cannot sum to more than 18, and this means that at least the 1 and 2 must appear on the arrows.</span> <span class="hidden">The 1 and 2 in c1 must therefore be in b4: the 1 in r5c1, and the 2 on a dotted pair. Therefore the four dotted digits are 2/3/4/6.</span>

    <p><span class="hidden">So there are four options for the dotted cells in c1. Do all of them actually work?</span> <span class="hidden">Recall that the cell must be the largest digit on the arrow. If it is a 3, the other cells must be 1/2, and the circle must be 6.</span> <span class="hidden">But the 3 must be paired with a 6 for the black dot, which would be in the same row as the circle. Therefore the digits in c1 of the arrows must be 4/6, and the digits in b4 they are paired with are 2/3.</span> <span class="hidden">The other digits on the arrow with the 6 must be 1/2, and its circle must be 9. Therefore there is a 9 in either r4c4 or r6c4.</span> <span class="hidden">Where, then, can the 9 be in c6? Only in r2c6.</span> <span class="hidden">This means the 9 in r3 must be in b3.</span> <span class="hidden">There are therefore at least six cells to the left of the 9 in r3. If r3c1 is 4, at least one of these cells must have a digit higher than 4 and less than 9, making it visible to the eye. So r3c1 = 6.</span> <span class="hidden">Similarly, the 9 must be in r3c7, and the 7 and 8 must be in c8 and c9 &mdash; in that order, to satisfy the eye to the right.</span>

    <p><span class="hidden">Where can the 9 go in r7?</span> <span class="hidden">Because r7c1 = 4, the 9 in r7 cannot be further right than c5, which is also the furthest left it can appear. The cells between the 4 and 9 are 1/2/3 in some order.</span> <span class="hidden">The 1 must be on the arrow, or else the sum breaks.</span> <span class="hidden">If r8c1 = 7, then its arrow cells must be 2/5; but r2c1 = 8, and its arrow cells must be 3/5, and there is nowhere for 5 in c1.</span>

    <p>It's finally time to consider some of the other arrows. <span class="hidden">r7c6 must be 5/6/7/8.</span> <span class="hidden">It cannot be 8, so the 8 in r7 must be in b9.</span> <span class="hidden">The least the arrow-sum can be is 7, with a 5 and two 1s. But it cannot be 7 or 8 by sudoku, so it must be 9.</span> <span class="hidden">The other cells on the arrow cannot sum to more than 4, so they must individually be 3 or less.</span> <span class="hidden">If r8c7 = 3, it must be paired with 6, which forces a 6 onto the arrow and makes the sum at least 10. So it is 1/2.</span>

    <p><span class="hidden">The arrow starting in r1c8 is pretty constrained.</span> <span class="hidden">r1c8 cannot be greater than 6.</span> <span class="hidden">r3c6 cannot be less than 3, so the other digits on this arrow cannot sum to more than 3. Therefore they are both 1 or 2.</span> <span class="hidden">At least one of them must be 1, so r6c5 and r8c7 cannot both be 1; thus, r7c6 cannot be 7.</span> <span class="hidden">By the same token, though, they cannot both be 1, because then r6c5 and r8c7 would have to be 3 and 2, respectively.</span> <span class="hidden">Therefore they sum to 3, r3c6 = 3, and r1c8 = 6.</span>

    <p><span class="hidden">Where is 8 in b6?</span> <span class="hidden">It cannot be on the arrows, because the circle cannot be 9. Therefore it is in r5.</span> <span class="hidden">r5c6 must be at least 5, but it cannot be 8 or 9.</span> <span class="hidden">It cannot be 5 because neither arrow can be a 2/3 pair.</span> <span class="hidden">If it is 6, the bottom arrow is 1/5 and the top arrow is 2/4. But a combination of constraints forces r8c7 = 1, and therefore r8c8 = 2, which makes the 2 impossible to place on the top arrow.</span> <span class="hidden">Hence r5c6 = 7.</span> <span class="hidden">The 1/2 pair in c7 means that r4c7 and r6c7 are both at least 3.</span> <span class="hidden">r4c8 and r6c8 are thus both no more than 4.</span> <span class="hidden">r2c8 and r8c8 are also no more than 4, so these four cells are collectively 1/2/3/4. But the 3 can only be in r6c8.</span> This places digits in a number of other cells.

    <p><span class="hidden">Think about the other arrow in b7.</span> <span class="hidden">r8c3 must be at least 5, so r9c2 must be 4 or less; it can only be 2.</span> <span class="hidden">r2c3 = 3 because there is no way to make this arrow sum without a 3.</span>

    <p><span class="hidden">Pay attention to the eyes now.</span> <span class="hidden">In c6, if the bottom eye can see the 6, it can also see the 7 and the 9.</span> <span class="hidden">This means it will see four cells. Therefore the 6 must be blocked, which it can only be by the 8.</span> <span class="hidden">The 8 cannot be in r9c6 or else the eye will see only two cells, so r8c6 = 8.</span>

    <p>The rest of the puzzle can be solved with ordinary sudoku logic. The digit to place in the boss cell is <span class="hidden">2</span>.

<h2>Chapter 14. Battlements (grid 4)</h2>

    <p>Placing the 2 reveals a number of new eyes throughout the world map. You're not quite done with this grid yet, though. The boss digit exposes a number of opportunities for sudoku: <span class="hidden">one line of reasoning leads to r2c4 = 1</span>, <span class="hidden">there is only one possible cell for 6 in b8</span>, and <span class="hidden">there is only one possible cell for 8 in b9.</span>. And there's one that's <i>very</i> easy to miss: <span class="hidden">r1c1 = 4 in the factory actually sees r7c9 in this grid! That puts the 4 in r7 in r7c8</span>. As a result, <span class="hidden">r7c9 can only be 3/6, and since </span><span class="hidden">r1c9 and r2c9 can only be 3/6/7 and 6/7, respectively, </span><span class="hidden">the other three cells in c9 must be 1/2/4</span>.

    <p>This should unlock a flurry of sudoku, but you will not be able to finish this grid yet. You should have 5 of the 7 cells bordering the Hall of Illusions filled, with others being a pair: <span class="hidden">3, 7, 5, 1/4, 1/4, 9, 6</span>. Do not fill it any other cells in the Hall of Illusions yet; you have a sense of forboding about it.

    <p>Go look at the new eyes. Most of them don't appear immediately useful, but one of them deserves a second look.

<h2>Chapter 15. Quarters (grid 2)</h2>

    <p><span class="hidden">The new eye here restricts r9c1 quite a bit:</span> <span class="hidden">it cannot be greater than 6, so the 7 and 9 must now go in r7c1 and r8c1 (in that order, because of r8c8).</span> <span class="hidden">The whisper line leading into r8c5 forces it to be at least 7, but now it cannot be 7 or 9.</span> This triggers some useful sudoku, most importantly that <span class="hidden">r7c7 = 8</span>. <span class="hidden">The 8 in r9 must be in b7, but it cannot be in r9c2 without limiting the eye to only seeing three cells.</span> And this shows us our fourth boss cell!

    <p>You've now finally filled the border with the Courtyard, but we still can't finish that grid. Time for the boss.

<h2>Chapter 16. <a href="https://sudokupad.app/qs2zx7uynr">Keymaster</a> (Quarters boss)</h2>

    <p>Be sure to read the rules carefully. The clues outside the grid here are <i>not</i> eyes; they are "numbered room" clues. The digit in the door must go into the <i>n</i>th cell away in the same row or column, where <i>n</i> is the digit in the immediately adjacent cell (its "index cell"). This can be hard to grasp from a description, so it might be more helpful to see a few examples of valid placements according to this rule alone:

    <table class="grid"><tr><td class="sr tan">5</td><td>3</td><td></td><td class="r">5</td><td></td><td></td><td class="r"></td><td></td><td></td><td></td></tr></table><br>
    <table class="grid"><tr><td class="sr tan">5</td><td>5</td><td></td><td class="r"></td><td></td><td>5</td><td class="r"></td><td></td><td></td><td></td></tr></table><br>
    <table class="grid"><tr><td class="sr tan">5</td><td>8</td><td></td><td class="r"></td><td></td><td></td><td class="r"></td><td></td><td>5</td><td></td></tr></table>

    <p>The second of these, of course, violates the standard rules of sudoku and so wouldn't be legal in the actual puzzle.

    <p>The rules in the puzzle description aren't completely clear about this, but in numbered room sudoku, "<i>n</i>th" is always a <i>relative</i> index, i.e. the cell <i>n</i> cells away from the clue (as opposed to an absolute index that always starts from the top or left side, like I've been using with "r6" or "c7"). For example, these are legal placements for clues on the right side:

    <table class="grid"><tr><td></td><td></td><td class="r"></td><td></td><td></td><td class="r"></td><td>5</td><td></td><td>3</td><td class="sl tan">5</td></tr></table><br>
    <table class="grid"><tr><td></td><td></td><td class="r"></td><td></td><td>5</td><td class="r"></td><td></td><td></td><td>5</td><td class="sl tan">5</td></tr></table><br>
    <table class="grid"><tr><td></td><td>5</td><td class="r"></td><td></td><td></td><td class="r"></td><td></td><td></td><td>8</td><td class="sl tan">5</td></tr></table>

    <p>Again, the second example violates the standard sudoku rules and wouldn't be legal in the actual puzzle.

    <p>There's an interesting property that's generally true for numbered room clues at opposite ends of the same row or column: <span class="hidden">when the index cells sum to 10, the clues end up talking about the same cell. If the digits in the clues are different, this has to be impossible. (If the digits in the clues are the same, this is <i>required</i>, but that doesn't happen in this puzzle.)</span>

    <p>Anyway, the triple clues are the natural places to start. <span class="hidden">The three 2 doors on the top side of the grid are aligned with the box borders.</span> <span class="hidden">This means that, if one of them goes in b8, the other two cannot. There are three clues and three possible boxes, thus one clue per box.</span> <span class="hidden">As such, one of the digits in r1 in b2 is 1/2/3, one is 4/5/6, and one is 7/8/9.</span> <span class="hidden">The index cells for these three clues are also a cage with sum 18, which they can only reach if they contain 3, 6, and 9.</span> <span class="hidden">Accordingly, there must be a 2 in r3 in b2, in r6 in b5, and in r9 in b8.</span> <span class="hidden">Since the 2 in r6 is in b5, r6c9 must be 4/5/6 because of the 2 door.</span>

    <p><span class="hidden">As for the three 5 doors on the left side of the grid, </span><span class="hidden">the same logic applies except that there's a single degree of freedom: it's 3/6/9 except that one of the digits is one less, i.e. 2/5/8. This ends up being very open-ended in terms of marking the grid, and it's not worthwhile; but it'll be important, and you'll need to keep it in mind.</span>

    <p><span class="hidden">Consider the 31 cage.</span> <span class="hidden">The 2 in b5 must be in r6, which puts it in the cage.</span> <span class="hidden">So the other 4 cells in the cage must sum to 29, making them 5/7/8/9.</span> <span class="hidden">You know that the 5 in this box is not in r6c4 because this would make the 17 sum in c1 impossible. It also cannot be in r6c5 because then 5 would also have to be in r6c1. So you know that it must be in c6, and therefore one of the digits in the cage in c1 is 6.</span> <span class="hidden">r9c6 must be 4/5/6 because of the door, but it cannot be 5 by sudoku: the 5 in b5 is already in c6.</span> <span class="hidden">This also means that r5c6 is not 5, and so r5c1 is not 6.</span> <span class="hidden">Finally, since neither possible digit in r9c6 is 2, r1c6 cannot be 9.</span>

    <p><span class="hidden">Can r1c6 be narrowed further?</span> <span class="hidden">If it were 6, r9c6 would have to be 4. This creates that situation I mentioned above: the clue at the top of the column would make r6c6 = 2, but the clue at the bottom would make r6c6 = 5. So this is impossible, and r1c6 = 3.</span> <span class="hidden">Therefore r6c9 must be 5/6.</span> <span class="hidden">This means that r6c1 can no longer be 6, because this would make r6c6 = 5, and r6c9 would be impossible to fill. So r4c1 = 6.</span> <span class="hidden">By putting a 5 in r4c6, this also puts a 6 in r9c6.</span> <span class="hidden">This puts a 6 in c3 in b7, since it cannot go in the 12 cage; and that puts a 6 in the 9 cage in b1, making the sum 1/2/6. (There is also a much more interesting way to prove this directly with the 3 clues.)</span>

    <p>Consider the 15 cage in b8. <span class="hidden">To sum to 15 in four distinct digits without 1 requires 2/3/4/6; but r9c6 is 6, so this is impossible, and there must be a 1 in the cage.</span> <span class="hidden">The 1 in c6 can now only be in r2c6, and the 4 must be in b8. The digits in the 9 cage can be placed by sudoku.</span>

    <p><span class="hidden">Where is the 3 in c2? The index cell, r1c2, can only be 4/5/7/8.</span> <span class="hidden">One of the index cells in b4 must be either 2 or 3 to make the cage sum work.</span> <span class="hidden">If r1c2 is 4 or 5, the index cells in b4 can no longer be 3, and one of them must be 2. But only r5c1 can be 2, and this would make r5c2 = 5.</span> <span class="hidden">So if r1c2 = 5, there's an immediate contradiction: r5c2 must be both 3 and 5.</span> <span class="hidden">And if r1c2 = 4, r4c2 = 3; but this means the 12 cage in b7 sees all three of 3, 4, and 5, making it impossible to fill.</span> <span class="hidden">So r1c2 must be 7/8, putting the 3 into the 12 cage either way and making it a 3/9 pair.</span>

    <p>Now consider the 15 cage in b6. <span class="hidden">By sudoku, there is no 6 in this cage.</span> <span class="hidden">Again, to sum to 15 in four distinct digits without 1 requires 2/3/4/6; since this is not possible, there must be a 1 in the cage.</span> <span class="hidden">Therefore the only place for a 1 in r6 is r6c3.</span> <span class="hidden">As a result, r6c1 cannot be 3; it must be 8/9, and r5c1 must be 2/3.</span> <span class="hidden">This creates a 2/7/8/9 set in r6.</span> <span class="hidden">The remaining digits are 3/4/5/6; of these, r6c2 can only be 4. The other three must go in b6.</span> <span class="hidden">There is only one way to sum 4 distinct to 15 without 3/5/6: 1/2/4/8. The other two cells in b6 must be a 7/9 pair.</span>

    <p><span class="hidden">What digits remain to be placed in c2?</span> <span class="hidden">The 2 cannot be in r1c2 or r9c2, so it must go in b4.</span> <span class="hidden">This forces r5c1 = 3 and r6c1 = 8, as well as the corresponding 5s.</span> <span class="hidden">There's a lot of sudoku to do now; you should be able to finish b4, as well as b6 outside of the cage.</span>

    <p><span class="hidden">Now we can look at the 3 in r2 again.</span> <span class="hidden">It must be 7/8/9, but it cannot be 7/8 because r2c7 sees both 3 and 9.</span> <span class="hidden">So it must be 9, which sets r2c9 = 3.</span>

    <p><span class="hidden">Consider the digits 3, 6, and 9. They've already been placed, or at least heavily constrained, in most of the boxes, rows, and columns.</span> <span class="hidden">One of the exceptions is c8, about which you seem to know almost nothing.</span> <span class="hidden">3/6/9 cannot be in r1c8 or r2c8, or in b6. This leaves only four cells for three digits.</span> <span class="hidden">At least one of 3/6/9 must be in the 14 cage in b9.</span>

    <p>It's finally time to look at the last door. <span class="hidden">The 8 in r8 cannot go in r8c1 or r8c6 by sudoku.</span> <span class="hidden">It cannot go in the 15 cage in b8 because the cage would have to be 1/2/4/8, and the 4 is known to be in c9 in this box.</span> <span class="hidden">It cannot go in r8c7 because r8c9 would have to be 3.</span> <span class="hidden">It cannot go in r8c9 because r8c9 would also have to be 1.</span> <span class="hidden">If r8c8 = 8, r8c9 = 2, so r9c8 = 4 to make the cage work; but then it becomes impossible to place all of 3/6/9 in c8.</span> <span class="hidden">Therefore r8c3 = 8, making r8c9 = 7.</span>

    <p>The remainder of the puzzle is straightforward. The digit to place in the boss cell is <span class="hidden">1</span>.

<h2>Chapter 17. Quarters (grid 2)</h2>

    <p>You just learned two rules, one of which is tied to a quest.

    <p>The first rule is CODEX, which you're going to need when you start the Library grid. You won't need this quite yet, but we'll come back to it very soon.

    <p>The second rule is collectible coins. You might as well read about this rule now:
    <ul compact>
        <li>First, read the main rule description in the puzzle description box. Okay, so if you ever put, say, a 4 in a coin cell, that means there are exactly 4 coin cells in the entire map with a 4.
        <li>Second, click on the cell with the red exclamation mark beneath the Quarters grid. The puzzle description box will tell you that there's exactly 45 coin cells on the map. That means the map isn't missing any coin digits, because the sum of the digits from 1 through 9 is 45.
        <li>Finally, scroll the map to the bottom right corner to find the Quest Progress box. You probably forgot this was there. You'll see that you've solved four bosses and one of the grids on the map, and there's a space to record how many coins you've found for each digit.
    </ul>

    <p>You <i>do not</i> need to count the collectible coins as you go. I recommend that you don't. You will not use these counts until Chapter 39, which is a very, very long time from now. You will frequently find yourself backtracking in Sudokuvania, and you will not always be able to fill these cells as you progress, and it will be very easy to lose track of which coins you've counted. Again, I recommend you just ignore the coins until Chapter 39.

    <p>But if you really want to keep track of the coins as you go, perhaps because you are obsessively compelled to do so, I definitely recommend that you don't just count them in these boxes. In general in life, whenever you're doing a particularly long or complicated count, you always want to <i>collect</i>, not <i>count</i>. Break the problem down into a set of facts that you can easily verify but also more easily summarize into the count that you'll ultimately need. In this case, instead of writing down how many 5s you've found in the whole map, you should write down what coins you found in each grid. The number of 5s is a fact you can only verify by searching the entire map again looking for coin cells with 5s in them. The set of coins in a grid is a fact you can quickly verify by looking at that specific grid. And if you write that down on a piece of paper like folows, you can easily verify each grid independently and then total up the number of coins in each column:

        <table class="worksheet">
            <tr><th>Grid</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>8</th><th>9</th></tr>
            <tr><td>1</td>   <td> </td><td> </td><td> </td><td> </td><td> </td><td> </td><td> </td><td> </td><td>X</td></tr>
            <tr><td>2</td>   <td> </td><td> </td><td> </td><td> </td><td> </td><td> </td><td> </td><td>X</td><td> </td></tr>
            <tr><td>3</td>   <td> </td><td> </td><td>X</td><td> </td><td> </td><td> </td><td> </td><td>X</td><td>X</td></tr>
        </table>

    <p>I'll tell you right now that you only need space for 9 grids. Most of the grids have exactly 3 coins on them, always of different values, and they're never in the border areas. You don't need to <i>assume</i> any of that, but the fact that it turns out to be true will make your bookkeeping a lot easier. But again, you don't actually need to do the count as you go, and you can just ignore the coins until Chapter 39.

    <p>Filling the boss cell lets you finish the Quarters grid; this is generally straightforward. <span class="hidden">1 is forced into r6c3, which makes r5c4 = 7.</span> <span class="hidden">The only possible cell for 7 in c6 is r9c6; the whisper line puts a 2 in r8c6.</span> Sudoku will complete the grid except for a few pairs that can be resolved by <span class="hidden">remembering the eye in r9, which can only be satisfied by putting the 4 in r9c1</span>.

    <p>Taking a look around before you move on, it's interesting that you've finished this area with so much fog still uncleared. Perhaps there's something hidden under the fog still. There's also a pair of whisper lines leading off the bottom of the grid that clearly cannot be satisfied by any digit, and a mysterious red line leading off to the right that you're starting to see pop up elsewhere. Very odd. Anyway, off to the library.

<h2>Chapter 18. Library (grid 5)</h2>

    <p>Time to read up about the CODEX rule. This is a column-indexing rule, which may be new to you unless you play a lot of variant sudoku (or even if you do; indexing rules are often different from puzzle to puzzle, as in fact we're seeing right now). Much like the doors from the Keymaster boss you just finished, the idea is that you are placing a fixed digit according to the digit in a specific cell. Unlike that rule, however, the digit you are placing is the column number of a cell with the book emoji in it (&#x1f4d6;), and the digit in that cell is the column number where it goes. Columns are numbered starting from the left side, just like I've been writing with e.g. "c8". It might help to look at some legal placements:

    <table class="grid"><tr><td>4</td><td></td><td class="r"></td><td class="blue">1</td><td></td><td class="r"></td><td></td><td></td><td></td></tr></table><br>
    <table class="grid"><tr><td></td><td></td><td class="r"></td><td class="blue">7</td><td></td><td class="r"></td><td>4</td><td></td><td></td></tr></table><br>
    <table class="grid"><tr><td></td><td></td><td class="r"></td><td class="blue">4</td><td></td><td class="r"></td><td></td><td></td><td></td></tr></table>

    <p>Unlike the numbered room rule, where certain digits in the index cell can just never work for certain clues, these clues never restrict cells by themselves: any cell in the row could be a legal place to put the column number of the clue cell. It's only in interaction with other clues, or with digits you've already placed, that the rule comes into its own.

    <p>Right, so, let's get started. You can see three codex clues. <span class="hidden">They are in c2, so the digit in the clue is the column number of the 2 in that row.</span> <span>Since r6c1 = 2, r6c2 = 1.</span> That reveals more of the grid, but there's something else to notice first. <span class="hidden">Just like you saw with the Keymaster, these clues are aligned within a single row of boxes.</span> <span class="hidden">Since they are placing the 2, they must be placing it in the different boxes.</span> <span class="hidden">The placement in b5 cannot be in c4, and the placement in b6 cannot be in c7, so you've narrowed the 2 down to four cells in each box.</span>

    <p>Now you can check out the clues in b5. <span class="hidden">The arrows use a lot of cells in this box.</span> <span class="hidden">The least that a 5-cell set can sum to is 15.</span> <span class="hidden">The arrows also require a cell outside the box, so their circles must sum even higher than that.</span> <span class="hidden">They must be at least 16, and r5c7 cannot be greater than 2.</span> <span class="hidden">It cannot be 2 because that would require the clue in r5c2 to be 7, so it is 1.</span> <span class="hidden">r4c5 and r4c6 cannot be 2 and still sum to at least 16.</span> <span class="hidden">r5c2 must be 5/6, and r4c2 must be 8/9.</span> <span class="hidden">r4c5 and r4c6 must contain a 9, so r4c2 = 8.</span> <span class="hidden">The arrows sum to 16, so the arrow cells in b5 sum to 15.</span> <span class="hidden">By the codex clues, r4c8 = 2, and the other two cells in this row and box are 5/6.</span> <span class="hidden">You can place the 1/3 in this row by sudoku.</span>

    <p>Both of these arrows have 1s on them. <span class="hidden">The other cells are a 2/3/4/5 set; the 7-sum arrow must be 1/2/4, so the 9-sum arrow must be 1/3/5.</span> <span class="hidden">Since the 2 must be in r5, the 4 must be in either r6c5 or r6c6.</span> <span class="hidden">Since these cells are both codex clues, the digit in r6c4 must be 5/6.</span> <span class="hidden">You know that 5 is on the arrows in this box, so it must be 6, and therefore r6c6 = 4.</span> <span class="hidden">This also determines the 7, 9, 2, and 6 in this box.</span> <span class="hidden">Placing the 7 and 9 finishes r4 via the codex clues.</span> <span class="hidden">The remaining codex clues here are 3/5, but r5c6 = 5 would force r5c5 = 6 when we already know it is 2.</span> <span class="hidden">The 2 in r5 is in r5c5, so r5c2 = 5.</span>

    <p>The puzzle suggests looking at these new cells in b8, and so do I. <span class="hidden">Again, you have two codex cells in the same column and the same row of boxes, so they must be cells in different boxes.</span> <span class="hidden">They also have the same high/low polarity because of the whisper line.</span> <span class="hidden">If they were 1/2/3/4, one of them would have to be a 4 or else they'd be in the same box, but r6c6 = 4 already. Therefore they are 6/7/8/9, and one of them must be a 6.</span> <span class="hidden">r8c7 cannot be 1, so r9c6 cannot be 6; r8c6 = 6 (indexing itself, which is fine), and r9c5 = 1.</span> <span class="hidden">r9c1 means that the only remaining value for r9c6 is 7, which sets r8c7 = 2.</span> <span class="hidden">And r9c7 = 6 aaaaaaaaaaaaaaaaahhhhhhhhhhhhhhhhhh</span>

<h2>Chapter 19. Maintenance (grid 6)</h2>

    <p>Well, dust yourself off. You're in a new grid, but there's also a new rule. Go ahead and read about it in the puzzle description box. <span class="hidden">Every cell has a digit &mdash; that must mean outside of grids, too.</span> <span class="hidden">There are cells you can't see, but surely the line can't have two different endpoints in the same cell. So this line between the library and the maintenance must be continuous, and you can see both ends of it. Go ahead and fill it in as best you can.</span> <span class="hidden">You should have everything except a pair of cells, the third from each end.</span> <span class="hidden">And you have one cell in the maintenance grid, it's a 6, and it's next to a black dot. r9c8 = 3.</span> <span class="hidden">r9c7 is 8/9, but it's also on a black dot, so it must be 8.</span> <span class="hidden">r9c6 = 4 (by the dot).</span> <span class="hidden">r9c5 = 9 (by the whisper).</span> <span class="hidden">Uh oh.</span>

<h2>Chapter 20. <a href="https://sudokupad.app/84lyno986x">Prism Break</a> (Maintenance boss)</h2>

    <p>This is a really fun and unique puzzle.

    <p>The first rule to learn here is the shading. You're going to have to shade the entire grid, making every cell either a cave or a wall. The cave cells all have to have some orthogonal path to each other. (Orthogonal means passing through the edges between adjacent cells, not through diagonals.) They form one unified group. The wall cells all have to have some orthogonal path to one (or more) of the edges of the grid, but they can be in multiple groups. So this would be a valid shading of a grid:

    <table class="grid">
        <tr><td class="wall"></td><td class="cave"></td><td class="cave"></td><td class="cave"></td><td class="wall"></td><td class="wall"></td><td class="cave"></td></tr>
        <tr><td class="wall"></td><td class="wall"></td><td class="cave"></td><td class="cave"></td><td class="wall"></td><td class="cave"></td><td class="cave"></td></tr>
        <tr><td class="cave"></td><td class="wall"></td><td class="cave"></td><td class="cave"></td><td class="wall"></td><td class="wall"></td><td class="cave"></td></tr>
        <tr><td class="cave"></td><td class="cave"></td><td class="cave"></td><td class="wall"></td><td class="wall"></td><td class="cave"></td><td class="cave"></td></tr>
        <tr><td class="wall"></td><td class="cave"></td><td class="cave"></td><td class="cave"></td><td class="wall"></td><td class="cave"></td><td class="wall"></td></tr>
        <tr><td class="cave"></td><td class="cave"></td><td class="wall"></td><td class="cave"></td><td class="cave"></td><td class="cave"></td><td class="cave"></td></tr>
        <tr><td class="cave"></td><td class="wall"></td><td class="wall"></td><td class="wall"></td><td class="wall"></td><td class="wall"></td><td class="cave"></td></tr>
    </table>

    <p>Rules like this, with different shadings of orthogonally-connected cells, come with an extremely handy little theorem about every 2&times;2 portion of the grid:

    <table class="grid">
        <tr><td class="wall"></td><td class="cave"></td></tr>
        <tr><td class="cave"></td><td class="wall"></td></tr>
    </table>

    <p><span class="hidden">They can never have a checkerboard pattern like this. There must be an orthogonal path between the diagonally-opposite cave cells, but the wall cells must themselves be orthogonally connected to the edges of the grid, which the cave path cannot possibly get around. So if you ever see two cells of the same color across a diagonal from each other, you know at least one of the adjacent has the same color, too.</span>

    <p>I suggest using dark grey for wall cells and light grey for cave cells, because I think it looks nice on this puzzle. You might reasonably decide that the contrast isn't good enough, though, especially between the light-grey-and-pink and the default pink background.

    <p>The second rule is the akari rule. (This comes from a completely different kind of logic puzzle called <a href="https://en.wikipedia.org/wiki/Light_Up_(puzzle)">"light up" or <i>akari</i></a>.) Some of the cave cells are going to be "lanterns". Lanterns casts light in all four orthogonal directions, illuminating any cave cells. Light only travels in straight orthogonal lines, never travels along diagonals. Light is also blocked by wall cells and doesn't illuminate cells on the other side. The big constraint in akari is that no two lanterns are ever permitted to illuminate each other, so if two lanterns are in the same row or column, there must be at least one wall cell between them. Since lantern cells are always cave cells, there's a bit of a visual collision when it comes to marking them in the grid. I suggest marking lantern cells by coloring them yellow rather than the light grey of a cave. As long as the cave and lantern cells are both light colors and the walls are a dark color, you probably won't have trouble remembering that lantern cells are also cave cells. With that in mind, this would be a valid placement of lanterns in the grid above:

    <table class="grid">
        <tr><td class="wall"></td><td class="lamp"></td><td class="cave"></td><td class="cave"></td><td class="wall"></td><td class="wall"></td><td class="cave"></td></tr>
        <tr><td class="wall"></td><td class="wall"></td><td class="cave"></td><td class="lamp"></td><td class="wall"></td><td class="lamp"></td><td class="cave"></td></tr>
        <tr><td class="lamp"></td><td class="wall"></td><td class="cave"></td><td class="cave"></td><td class="wall"></td><td class="wall"></td><td class="cave"></td></tr>
        <tr><td class="cave"></td><td class="lamp"></td><td class="cave"></td><td class="wall"></td><td class="wall"></td><td class="cave"></td><td class="lamp"></td></tr>
        <tr><td class="wall"></td><td class="cave"></td><td class="lamp"></td><td class="cave"></td><td class="wall"></td><td class="lamp"></td><td class="wall"></td></tr>
        <tr><td class="cave"></td><td class="cave"></td><td class="wall"></td><td class="cave"></td><td class="lamp"></td><td class="cave"></td><td class="cave"></td></tr>
        <tr><td class="lamp"></td><td class="wall"></td><td class="wall"></td><td class="wall"></td><td class="wall"></td><td class="wall"></td><td class="lamp"></td></tr>
    </table>

    <p>Note that it's fine if two different lanterns see the same cell; it's only a problem if they see each other. There are many different possible valid placements of lanterns in this grid, at least according to the rules of akari alone.

    <p>The third rule, which is special to this puzzle, is that the digit in a lantern cell tells you how many cells it illuminates, including itself. With the placements above, the digits would have to be:

    <table class="grid">
        <tr><td class="wall"></td><td class="lamp">3</td><td class="cave"></td><td class="cave"></td><td class="wall"></td><td class="wall"></td><td class="cave"></td></tr>
        <tr><td class="wall"></td><td class="wall"></td><td class="cave"></td><td class="lamp">4</td><td class="wall"></td><td class="lamp">2</td><td class="cave"></td></tr>
        <tr><td class="lamp">2</td><td class="wall"></td><td class="cave"></td><td class="cave"></td><td class="wall"></td><td class="wall"></td><td class="cave"></td></tr>
        <tr><td class="cave"></td><td class="lamp">5</td><td class="cave"></td><td class="wall"></td><td class="wall"></td><td class="cave"></td><td class="lamp">5</td></tr>
        <tr><td class="wall"></td><td class="cave"></td><td class="lamp">7</td><td class="cave"></td><td class="wall"></td><td class="lamp">3</td><td class="wall"></td></tr>
        <tr><td class="cave"></td><td class="cave"></td><td class="wall"></td><td class="cave"></td><td class="lamp">4</td><td class="cave"></td><td class="cave"></td></tr>
        <tr><td class="lamp">2</td><td class="wall"></td><td class="wall"></td><td class="wall"></td><td class="wall"></td><td class="wall"></td><td class="lamp">2</td></tr>
    </table>

    <p>This, of course, interacts with the rules of sudoku, because it means you can never have two lanterns in the same row or column that illuminate the same number of cells. Our lantern placement violates that, so it would not, in fact, be a legal lantern placement under these rules combined. You can fix it by just moving the lantern in r7c1 to r6c1: all the cave cells are still illuminated, but now that lantern contains the digit 3 and doesn't violate sudoku.

    <p>The final rule is the cages. Cages in this puzzle are always in wall cells, and the digit in a cage is the number of lanterns in the orthogonally adjacent cells. So if there were a cage in r5c5 in my little example, it would have to be filled with 2. This will be a key rule for breaking into the puzzle.

    <p>Start by shading all of the cages as walls. Remember that all of these will have to connected to an edge of the puzzle. <span class="hidden">This means the digit in a cage can never be 4, because a lantern cell is always a cave cell, and a wall completely surrounded by cave cannot be connected to an edge. But of course it's fine for a cage that's sitting directly on an edge to be surrounded on all its other sides.</span>

    <p><span class="hidden">The key to breaking into this puzzle is placing lantern cells, which give you a lot of information.</span> <span class="hidden">The lantern cells that share a row or column are particularly constrained.</span> <span class="hidden">You have to place 6 lanterns around the cages in r9, in a total of 8 total cells.</span> <span class="hidden">The gaps between these lanterns are only two cells, and you can never place two lanterns in the same gap because they would illuminate each other.</span> <span class="hidden">So these two gaps must each contain a cell that does not contain a lantern.</span> <span class="hidden">Since there are 6 lanterns to place, the 4 cells that are not in the gaps must be lanterns, and the two gaps <i>must</i> contain a lantern.</span>

    <p>Recall that each lantern contains the number of cells that it illuminates. <span class="hidden">If r3c9 were a lantern, it could illuminate no more than 3 cells, but 1/2/3 are impossible by sudoku.</span> <span class="hidden">Therefore r4c9 cannot be 3, and the 3 must be r7c9.</span> <span class="hidden">This puts a lantern into r6c9, which means r5c9 cannot have one, so r4c9 = 1 and r1c9 = 2.</span> Be sure you don't try to mark cells that don't have lanterns specifically as cave or wall cells! You don't necessarily know that; all you know is that it isn't a lantern. I found that I could get by without marking non-lantern deductions, but you might consider finding another way to mark them if you want.

    <p>There's another place that's restricted in its illumination. <span class="hidden">r8c9 has a lantern, and it can illuminate at most four cells, but it cannot be 1/2/3 by sudoku. Therefore it is 4.</span> Mark the cells it illuminates as cave. <span class="hidden">r8c6 cannot be 3 anymore.</span> <span class="hidden">It must be adjacent to at least one lantern, though.</span> <span class="hidden">If r8c5 = 3, both of r8c6's remaining adjacent cells would be adjacent to lanterns.</span> <span class="hidden">Therefore r8c1 = 3.</span>

    <p>Don't forget the theorem I explained above. <span class="hidden">r2c8, r6c8, r7c2, and r9c2 all must be cave cells because they would make the cave disconnected if they were walls. They cannot be lanterns, so you can mark them as ordinary cave.</span> <span class="hidden">This brings the lanterns in c8 perilously close to illuminating one another; r3c8 and r5c8 must be walls.</span> <span class="hidden">Therefore r3c9 and r5c9 must also be walls by the checkerboard theorem.</span> <span class="hidden">This makes r4c6 a cave cell.</span>

    <p>These new cave cells make illumination tricky again. <span class="hidden">You now have two lanterns in c9 that must have a digit of at least 5 but only illuminate in one direction.</span> <span class="hidden">The digit in r3c7 can only be 1 now: it is surrounded by ordinary cave on two sides and a wall on a third. r3c6 is a lantern.</span> <span class="hidden">r4c6 is ordinary cave.</span>

    <p>You haven't done much with the lanterns in c8 yet. <span class="hidden">r1c8 cannot be 2, so it must illuminate at least one cell to its left; that's all you can do with this for now.</span> <span class="hidden">r7c8 cannot be 3/4, so it must also illuminate at least one cell to its left.</span> <span class="hidden">That means r7c6 cannot be a lantern.</span> <span class="hidden">r8c6 = 1 and r8c5 = 2. r9c6, r7c5, and r8c4 are lanterns.</span> <span class="hidden">r7c6 and r8c3 must be walls to prevent lanterns from illuminating each other.</span> <span class="hidden">r7c4 must be a cave by the checkerboard theorem, so r7c3 must also be a wall.</span> <span class="hidden">r9c5 must be a wall or the cages will not be connected to an edge.</span> <span class="hidden">The illumination of r7c8 now cannot be more than 5, so it is 5.</span>

    <p>You just added a bunch of new lanterns. <span class="hidden">The lantern in r9c6 must be at least 3 by sudoku, so it must illuminate at least r9c7 and r9c8, but that means it also illuminates r9c9; it is 4.</span> <span class="hidden">r7c5 must be at least six, so r5c5, r4c4, and r3c5 must be cave. You already know that r2c5 is cave, so r7c5 is 8/9.</span> <span class="hidden">Making r4c5 cave means that r4c8 is at least 4, but it cannot be 5 by sudoku, and it cannot be more than 5 because of the wall in r4c3. So it is 4 and r4c4 is a wall.</span> <span class="hidden">r8c4 must be at least 5 by sudoku, but it can only possibly illuminate 5 cells now, so it is five and all of those cells are cave.</span>

    <p>Time to look at the left side of the puzzle for a chanege. <span class="hidden">If r9c3 were cave, r9c1 would illuminate 4, which breaks sudoku; therefore r9c3 is wall and r9c1 = 2.</span> <span class="hidden">r8c2 must be at least 6, so you can shade cave up to at least r3c2.</span> <span class="hidden">This means r4c3 can no longer be 3, so it is 2, with lanterns above and below.</span> <span class="hidden">The only remaining paths that can connect r4c3 to an edge of the puzzle require r3c4 and r2c4 to be walls.</span> <span class="hidden">This forces r2c9 = 5.</span>

    <p><span class="hidden">How constrained is c1 now?</span> <span class="hidden">r7c1 must be at least 4, so r6c1 and r5c1 must be cave.</span> <span class="hidden">If r2c1 were a lantern, it would have to be at least 4 by sudoku, but there would also need to be a wall between it and r7c1.</span> <span class="hidden">The most it could be is 4, but then it would make r7c1 = 4, which would break sudoku. So the lantern is in r1c2.</span>

    <p>That creates interesting constraints in r1. <span class="hidden">r3c2 must be cave by the checkerboard theorem, so r2c2 must be wall to prevent the lanterns from illuminating each other.</span> <span class="hidden">r1c2's illumination must therefore run strictly to the right, and it must be at least 3.</span> <span class="hidden">So the only way of connecting the wall in r2c4 to an edge of the puzzle is if r2c3 and r2c1 are also wall.</span> <span class="hidden">That means r1c5 must be cave, or else that stretch of cave will be disconnected. r1c6 must then be wall to separate the lanterns.</span> <span class="hidden">r1c2 = 4. r1c8 = 3.</span>

    <p>You're very close to finishing the shading. <span class="hidden">r3c1 must be cave so that r3c3 can illuminate more than 2; r3c3 = 3.</span> <span class="hidden">r3c6 must be at least 6, which is the most it can be; r5c6 is cave.</span> <span class="hidden">r7c5 is now known to be 8. r8c2 = 7.</span> <span class="hidden">If r5c3 = 8, r6c9 is also forced to be 9, and there is no remaining digit that can be placed in r5c9.</span> This still doesn't finish the shading, but the rest of the grid can be solved with sudoku, and you'll shade the last cells along the way.

    <p>The digit for the boss cell is <span class="hidden">5</span>.

<h2>Chapter 21. Maintenance (grid 6)</h2>

    <p>You've unlocked the AKARI LANTERN rule. This is completely useless; there are no akari lanterns on the world map, and in fact the rules box doesn't even bother to list it. But you've also unlocked the DARK rule, and the rules box does cover that; go and read about it in the puzzle description box. Unlike the earlier rules, this one doesn't build out of the rules of the puzzle you just solved; it's just its own new thing. It's a little weird, don't worry about it. Anyway, the rule is just that dark-shaded cells have a lower value than all of the non-dark cells they're adjacent to; that's going to be the key to finishing the maintenance grid. The rule also mentions that fog doesn't clear easily around dark cells, but you can't control the fog clearing anyway, so it's not anything new.

    <p>I used to play a lot of greater-than sudoku puzzles, and this rule has a lot of the same characteristics. Generally, you tackle rules like this by thinking about how they rule out digits, keeping in mind that they give you the most information about the smallest and biggest digits that you haven't placed yet. <span class="hidden">What digits remain to be placed in r9?</span> <span class="hidden">The 1 cannot go in r9c2 or r9c4 without making it impossible to place a digit in r9c3.</span> <span class="hidden">The 1 in b8 must go in r7c4 or r7c6 by the same logic.</span> <span class="hidden">So the 1 in b9 must be in r8, and that means it must be in r8c8.</span> <span class="hidden">The 2 in b9 cannot in r8 because both of the remaining cells are greater than two other cells in the box.</span>

    <p><span class="hidden">That puts some interesting constraints on the arrow in b7.</span> <span class="hidden">It has at least three cells, so these two cells cannot sum to more than 8.</span> <span class="hidden">These two must be at least 3, but they cannot be 5 because it is in r9 in this box, so they must be a 3/4 pair, and </span><span class="hidden">the dark clue forces the 4 into r7c2.</span>

    <p>The dark cells in b8 are getting a little tight now. <span class="hidden">What digits are actually possible?</span> <span class="hidden">Neither r7c4 or r7c6 can be greater than 6 because they are less than two cells in the box, neither of which is 9. But they also cannot be 2/3/4/5, so they must be 1/6.</span> <span class="hidden">Because one of them is 6, its adjacent cells must be 7/8.</span> <span class="hidden">So r9c4 can now only be 2, which places r9c3 = 1.</span> <span class="hidden">Where is the 2 in b7? Only r8c1 is possible.</span> <span class="hidden">The arrow cells in b4 are either 1/8 or 2/9.</span>

    <p>This next leap is quite good. <span class="hidden">How do the constraints in b8 affect r6?</span> <span class="hidden">If r7c4 = 1, r6c4 must be at least 6.</span> <span class="hidden">That forces r6c5 to be at least 7, but it cannot be 9.</span> <span class="hidden">Meanwhile, r7c6 = 6, so r6c6 must be at least 7, but cannot be 9 because of the arrow.</span> <span class="hidden">That creates a 6/7/8/9 set in the row, and only r6c3 can be 9.</span> <span class="hidden">On the other hand, if r7c4 = 6, then r6c4 = 1.</span> <span class="hidden">So in either case, r6c3 = 9 and r6c2 = 2.</span> The revealed cells force the choice. <span class="hidden">If r7c4 = 1, there's a 6/7/8 set in r6 in b5, so </span> <span class="hidden">r5c4 = 9 by the dark rule.</span> <span class="hidden">The 7/8 in r6c6 would be on the arrow, </span><span class="hidden">and the circle of that arrow would have to be in r4c6 because otherwise the sum would have to be at least 10, </span><span class="hidden">but there is no longer a digit in b5 greater than r6c6 that can go in it.</span> So <span class="hidden">r7c4 = 6, r6c4 = 1, r7c6 = 1, and r8c6 = 3.</span>

    <p>Back to the arrows. <span class="hidden">The arrow in c6 has at least two cells on the arrow in that column, but </span><span class="hidden">you can never put more than one cell greater than 4 on an arrow, and you've already placed 1/3/4 in c6, so </span><span class="hidden">r4c6 must be the circle, and </span><span class="hidden">r5c6 = 2 by the dark rule.</span> <span class="hidden">r6c9 cannot be less than 3, so r8c9 must be at least 6.</span> <span class="hidden">That forces r8c7 = 4.</span> <span class="hidden">By the dark rule, r7c7 = 2.</span> <span class="hidden">r7c9 must now be at least 5, and if it were any greater the arrow sum would be broken, so r8c9 = 9, r7c9 = 5, and r7c9 = 3.</span>

    <p>Remember what I said about the general approach to greater-than rules. <span class="hidden">1 in b4 can only be r4 by the dark rule.</span> <span class="hidden">That forces r5c7 = 1.</span> <span class="hidden">The 2 in b6 can only be in r4c8 or r4c9.</span> <span class="hidden">It cannot be in r4c9 because the dark rule would force r4c8 = 1.</span> <span class="hidden">r4c9 is on a whisper line, but now it cannot be a low cell: it sees 1/2/3, and if it were 4, r3c9 would have to be 9, but that is already in r8c9.</span> <span class="hidden">So r2c9 and r4c9 are a 7/8 pair.</span> <span class="hidden">r5c9 = 4 is a naked single.</span>

    <p>Time to look at b5 again. <span class="hidden">r5c5 can only be 3/6/7 by sudoku.</span> <span class="hidden">It cannot be 7 because r6c5 would be impossible to fill by the dark rule.</span> <span class="hidden">If it were 6, r6c5 = 7, but </span><span class="hidden">this makes it impossible to fill the arrow in c6: r6c6 could only be 5, but the circle in r4c6 cannot be 7.</span> <span class="hidden">So r5c5 = 3, which makes creates a 1/3 pair in r4c1 and r4c2.</span> <span class="hidden">r4c3 and r4c5 see each and are at least 4, so by the dark rule, r4c4 must be at least 6; but it cannot be 6/7 by sudoku.</span> <span class="hidden">Since the arrow sum in r4c6 must be at least 7, there is a 7/8/9 set in r4c4, r4c6, and r4c9.</span> <span class="hidden">The remaining cells in r4 must be 4/5/6.</span> <span class="hidden">The only possible cell for 9 in b6 is r5c8.</span>

    <p>There's an arrow you haven't done much with. <span class="hidden">r3c4 must be at least 3 by sudoku.</span> <span class="hidden">It cannot be 3 because the dark rule would force a 1/2 into r2c4, so it is at least 4.</span> <span class="hidden">r4c5 must be 4/6 by sudoku, but it can no longer be greater than 5 by the arrow sum, so it is 4.</span> <span class="hidden">r3c4 cannot be greater than 5 by the arrow sum, and if it were 5, the circle would have to be in r3c3, and it would have to contain 9, which breaks sudoku. So r3c4 = 4.</span> This reveals a few more cells and permits some sudoku. <span class="hidden">r3c7 is the only possible place for 9 in r3.</span> <span class="hidden">r2c4 = 3 by the dark rule, which also forces r1c7 = 3.</span> <span class="hidden">r4c7 = 6, so the 5 in b6 must be in r6.</span> <span class="hidden">This means r6c6 must be at least 6, so r4c6 must be at least 8, creating an 8/9 pair in r4 and forcing r4c9 = 7.</span>

    <p>Now think about small digits in b3. <span class="hidden">r1c9 and r3c9 are a 1/2 pair, and you've placed 3 already.</span> <span class="hidden">4 must be in c8, but there are no remaining digits smaller than it, so by the dark rule it must be in r2c8.</span> <span class="hidden">This forces 4 into r1c3, whicihi reveals a few more cells.</span> <span class="hidden">9 in b1 can only be in r1c2 by the dark rule.</span> The rest of the grid is finishable with sudoku.

    <p>Okay! You revealed a short roaming line that leads back to the rest of the map, and the AKARI LANTERN has revealed a bunch of cells all around. You can zoom out and repeatedly undo/redo your last few digits to see exactly what changed, but here's the rundown:

    <ul compact>
        <li>The top boxes of the Courtyard (grid 1) have been revealed, including a whisper line and an eye on top of the grid.</li>
        <li>A few cells in r9 of the Courtyard (grid 1) have been revealed, including a couple of clues that run off the bottom edge.</li>
        <li>There's an eye clue on top of Quarters (grid 2).</li>
        <li>There's a whisper line running off the bottom edge of Quarters (grid 2).</li>
        <li>The rest of the Battlements (grid 4) have been revealed, including an extension of the whisper line in c6 and a book clue in r8c7.</li>
        <li>Several boxes in the Library (grid 5) have been revealed, including a whisper line in b2.</li>
        <li>There are some strange 5s outside of Maintenance (grid 6).</li>
        <li>Several boxes have been revealed in the Hall of Illusions (grid 8), including a few more clues.</li>
        <li>You can finally see a few cells in the Golden Temple (grid 9).</li>
    </ul>

    <p>Let's try to mop up the unfinished business in the earlier grids before heading back to the Library.

<h2>Chapter 22. Courtyard (grid 1)</h2>

    <p>The whisper line in r2 lets you finish this grid. <span class="hidden">r2c8 must be 1/3, so r2c7 must be at least 6, which is the highest it can be; therefore r2c7 = 6 and r2c8 = 1.</span>

    <p>The eye above r1c9 is now looking at a fully-filled-in column, and you can just compute the right value for it. Go ahead and fill it in! <span class="hidden">It sees the 4, 7, and 9, so has a value of 3.</span>

    <p>The new clues off the bottom of the grid are somewhat interesting, but there isn't much you can do without knowing how rules work off-grid. Hmm. Keep it mind for later.

<h2>Chapter 23. Quarters (grid 2)</h2>

    <p>There's clearly no way to fill a digit in the cell on the whisper line beneath r9c4. Hmm indeed.

    <p>The only other new thing here is the eye above r1c5. As before, it's looking at a completed column, so you can just compute the right value: <span class="hidden">it sees the 7, 8, and 9, so it's 9.</span> You can fill that in, and assuming you also filled the eye clue in grid 1... oh hey.

<h2>Chapter 24. Serpent (hidden puzzle 2)</h2>

    <p>This sure looks like a grid, and if you click on a cell in it, the puzzle description box confirms that it's a 4&times;4 sudoku. It has no given digits, but it does have four eyes and a ROAMING palindrome line.

    <p>Reasoning about the palindrome is the key here. The center of the palindrome is the pair of r4c1 and the cell immediately beneath it, the one with the eye clue. Cells that are an equal distance away from this will be the same. You'll be thinking about which cells are the same or different without knowing exactly which values they have, so this is a great place to use color (or, if you'd prefer, SudokuPad's letter tool, which will let you mark cells A/B/C/D; you can enable it in the gear menu, then hit the <code>9/A</code> button in any of the number-entry modes).

    <p>The palindrome has length 14, so you get 7 pairs from it. Two of them, of course, are just the 3s at the endpoints. Some of the pairs are more immediately helpful than others, but you can really start anywhere.

    <p>Looking at the center: <span class="hidden">the palindrome is saying that an eye clue and the first cell it sees must be the same.</span> <span class="hidden">This cannot be 4: the 4 is the highest digit in the grid, so if the first digit is 4, the eye clue must be 1 because no other cells are visible behind it.</span> <span class="hidden">It also cannot be 3, because the eye clue would have to be 2.</span> <span class="hidden">And it cannot be 1, because the eye would have to see at least the 1 and the 4. Therefore it is 2.</span>

    <p>Looking at the ends: <span class="hidden">you can't do much with the eye clues, but you can color the cells in r2c1 and r4c3 the same; I picked blue.</span> <span class="hidden">Sudoku then places the blue digit in r3c2 and r1c4.</span> <span class="hidden">And the palindrome therefore also places it in the eye beneath r4c2.</span>

    <p><span class="hidden">The next cells in from blue are definitely a different digit by sudoku, so you can shade it a different color; I picked purple.</span> <span class="hidden">It must be r2c4 and r4c1 by sudoku, which means it's 2.</span> <span class="hidden">The last cells on the palindrome within the grid are r2c3 and r4c2. Again, these are different digits from the others by sudoku, so you can color them differently; I picked green. Sudoku also puts them in r1c1 and r3c4. And the last four cells can be orange.</span>

    <p>Alright, you've got the pattern of digits set, even if you mostly don't know which is which. How do the eyes constrain the colors? <span class="hidden">Blue cannot be 4 because putting a 4 in r3c2 would force the eye in c2 to see 2 cells, but this is also a blue cell by the palindrome.</span> <span class="hidden">Green cannot be 4 because putting a 4 in r1c1 would force the eye in c1 to see 3 cells.</span> <span class="hidden">Orange being 4 means that the eye in r2 must see 2 cells.</span> <span class="hidden">If blue were 1, the eye in c3 would see four cells, but the palindrome forces its digit to be 2. So blue is 3 and green is 1.</span>

    <p>If you fill all of the cells, including the eyes, you should see the hidden puzzle get checked off in the quest progress box (in the bottom right of the map).

<h2>Chapter 25. Battlements (grid 4)</h2>

    <p>Just a little to mop up here. The new whisper line forces <span class="hidden">r5c6 = 9</span>, which should fill everything except 2-cell and 3-cell sets in each of the bottom six boxes.

    <p>It's been a bit since you've used a codex clue, and you're about to head back to the library, so r8c7 is a nice refresher. <span class="hidden">You're placing the 7 in this row. Sudoku forces the digit to be 5/7/9, but r8c5 and r8c9 are already filled with a non-7 digit, so r8c7 = 7.</span>

    <p>Three pairs remain, but there's no way to resolve them for now. Don't get tempted by the Hall of Illusions; time to hit the books.

<h2>Chapter 26. Library (grid 5)</h2>

    <p>Alright, there are two new codex clues in c4, and they're on a whisper line. <span class="hidden">The codex clues have the same high/low polarity.</span> <span class="hidden">If they were high, they'd have to be a 7/9 pair by sudoku.</span> <span class="hidden">r1c5 is adjacent on the whisper line to both, so it would have to be 5 away from a 7, but it cannot be 1 or 2 by sudoku.</span> <span class="hidden">So the codex clues are low, and the other cells on the whipser are high. This puts 7/8 in r2c3.</span>

    <p>Can you constrain that more tightly? <span class="hidden">A 2 eye is very constrained: it must only be able to see the first cell and the 9.</span> <span class="hidden">The 9 is in r6c3, and the 8 must be in c3 in b1, so it is definitely visible in front of the 9. Therefore it must be in r1c3, putting r2c3 = 7.</span> <span class="hidden">This means r1c4 = 2 because of the whisper line.</span> <span class="hidden">This is a codex cell, so r1c2 = 4.</span> <span class="hidden">r1c5 must be at least 7, but it cannot be 7/8 by sudoku, so it is 9.</span> <span class="hidden">r2c4 is 3/4, but it cannot be 3 because it's a codex clue and r2c3 = 7. So it is 4.</span>

    <p>There's some sudoku to be done. <span class="hidden">r3c3 is the last possible cell for 1 in b1.</span> <span class="hidden">This creates a 1/5 pair in c6 in b2.</span> Back in b1, <span class="hidden">the open cells in c2 are 2/9, which makes the open cells in c2 in b7 3/7, which can be placed.</span> <span class="hidden">The 2 in b7 must be in r9c3.</span> <span class="hidden">That means the 4 in r9 must be in r9c8 or r9c9.</span> <span class="hidden">The 4 in c7 can only be in r3c7, which </span><span class="hidden">puts the 9 in c7 into r2c7.</span>

    <p>Aha, the boss cell. Tidy up here with a little sudoku and then head in to find...

<h2>Chapter 27. <a href="https://sudokupad.app/ofvhfxebg3">Book Constrictor</a> (Library boss)</h2>

    <p>Be sure to read the rules, because there's a lot of them. You've got three full columns of codex clues, six killer sudoku cages, and three circled cells that have to contain odd digits. But you've also got to place a snake: a non-branching, orthogonally-connected path through the grid. That's new, so let's spend some time on it.

    <p>You're going to want to mark cells for this. I suggest coloring cells that you know the snake doesn't pass through grey, and then you can use yellow for the snake cells. (Green doesn't show up well against the green background.) The rules tell you five things about the snake:

    <ol compact>
        <li>The snake starts and ends in the circled cells in b6. You can go ahead and mark these two cells yellow.</li>
        <li>The snake never passes through cages. You can go ahead and mark all of the cage cells grey.</li>
        <li>The snake passes through all of the cells that index themselves: that is, all of the codex cells that contain their own column number. <span class="hidden">By sudoku, there must be a 1 in c1, a 5 in c5, and a 9 in c9, so since every cell in those columns is a codex clue, the snake must visit these three columns for at least one cell.</span></li>
        <li>The snake never touches itself, even diagonally. So if two orthogonally-adjacent cells are both snake cells, they must be consecutive cells on the snake; and if two diagonally-adjacent cells are both snake cells, the snake must make a corner between them. This also means the snake cannot "turn around" in less than three cells:

            <table class="grid">
                <tr><td class="snake"></td><td class="snake"></td></tr>
                <tr><td class="snake"></td><td              ></td></tr>
                <tr><td class="snake"></td><td class="snake"></td></tr>
            </table>
        Otherwise it would touch itself diagonally.</li>
        <li>The snake contains only odd cells. <span class="hidden">So there can be at most five snake cells in a row, column, or box.</span></li>
    </ol>

    <p>You can make some immediate inferences about the snake from all this. The snake cannot pass through the cage in c1, <span class="hidden">but there are only two cells above it, so if the snake entered either of them, it would not be able to turn around and would have to dead-end there, which it cannot.</span> <span class="hidden">Similarly, the snake cannot enter either of the cells beneath the cage in c9.</span> <span class="hidden">If the snake was in either r5c8 or r5c9, it would have to be a four-cell snake, so it could never visit c1 or c5; so these are non-snake cells, and the snake must also be in r3c9.</span> But the snake does have to enter c1 at some point. <span class="hidden">If it did not enter r6c1 (that is, go around the cage in r6), it would have to turn around in b7, but this would require at least 7 cells in the box to be snake, violating the only-odds rule. So it does have to pass through r7c1, r6c1, r5c1, and r5c2.</span> <span class="hidden">If it passed through r4c3, that would be all five odd cells in b4, so both cells in the 11 cage would have to be even, which is not possible.</span> <span class="hidden">Similarly, if it passed through r9c1, that would require all five odd cells in c1, but the 5 cage also needs one.</span> The snake must leave this corner somehow; you can actually constrain it already, but it's not particularly elegant, so let's leave it for now.

    <p>Recall what you learned about codex clues in earlier grids: <span class="hidden">three codex clues in the same column <i>and</i> box must contain one apiece of 1/2/3, 4/5/6, and 7/8/9.</span> <span class="hidden">So the only way to fill the cage in b2 is a 6/9 pair. And these are codex clues, so you've constrained the 5 in b2, b3, and b1.</span> <span class="hidden">The 10 cage must have a 2/8 or 3/7 pair, which means the 5 cannot be in b8 in these two rows; so it must be in r9c4 or r9c5, making r9c5 4/5.</span>

    <p>The snake must pass through self-indexing cells. <span class="hidden">So they cannot be in cages, meaning the 5 cage cannot be 1/4.</span> <span class="hidden">Making it 2/3 restricts the 1 in both b1 and b4.</span> <span class="hidden">If r4c1 = 3, r4c3 = 1; but that only leaves three other odd cells for the snake in the box, which is not enough for it to escape. So r4c1 = 2, r4c2 = 1, r3c1 = 3, and r3c3 = 1.</span> <span class="hidden">Since there is an odd digit in the 11 cage, the snake must pass through the other four odd digits in order to leave the box, so it must pass through r4c2 and r3c2.</span> <span class="hidden">If it did not pass through the 1 in r3c3, there would only have three odd digits left in b1, </span><span class="hidden">so it would have to leave b1 through r2c2 and r2c3, but then its three cells could not include the 5, which must be in r1 in this box. Three cells in a box cannot all be 7/9.</span>

    <p>How does the snake you've been building connect to its ends in b6? <span class="hidden">The end in b1 must connect to r4c9, since otherwise the other end would be cut off.</span> <span class="hidden">If it doesn't go through r1c5, it must go around the 15 cage the other way.</span> <span class="hidden">So it would have to occupy at least r3c4 and r3c6, but that would put 6 odd cells in r3.</span> <span class="hidden">Therefore r1c4, r1c5, and r1c6 must be snake cells; more specifically, </span> <span class="hidden">they must be 1/3/7, because 5 and 9 are already restricted in b2.</span> <span class="hidden">This means r2c4 and r3c4 must be even, so they cannot be snake cells.</span> <span class="hidden">Forcing the snake through r2c3 and r1c3 means there are four snake cells in b1, which means the 5 must be in r1c3.</span> <span class="hidden">There are already four odd cells in r1, so the snake cannot pass through r1c8 or r1c9.</span> Similarly, <span class="hidden">there are four odd cells in r3, so the snake cannot pass through r3c6 or r3c7.</span> <span class="hidden">So it must pass through at least r2c7 and r2c8.</span>

    <p>All these restrictions mean something for the codex clues. In b1, <span class="hidden">the 1 in r1 must be in b2, so r1c1 must be 4/5/6, and it cannot be 5.</span> <span class="hidden">The 1 in r2 must be in b3, so r2c1 must be 7/8/9, and it must be 8.</span> The 5 you placed earlier tells you two things: <span class="hidden">r1c5 = 3, and </span><span class="hidden">the 10 cage in b8 cannot be 3/7.</span>

    <p>You've constrained digits interestingly in r1. <span class="hidden">r3c2 and r2c3 are 7/9, so the 9 in r1 must be in b9.</span> <span class="hidden">It cannot be in r1c7 because that would make r1c9 = 7, but the 7 in r1 is already in b2.</span> <span class="hidden">It cannot be in r1c9 because it would be self-indexing, and the snake cannot pass through this cell.</span> Well, hold on, what does that mean? <span class="hidden">The 9 in b3 must be in r1c8, which means it sees every possible snake cell in c9 except r4c9. For the snake to pass through the self-indexing 9, then, it must be true that r4c9 = 9.</span> <span class="hidden">There's also now an odd cell in b1 which isn't on the snake, so there can only be four snake cells in this box, forcing the snake through r2c6 and making that cell 5.</span> <span class="hidden">This makes r2c5 = 6 by the indexing rule, so r3c5 = 9 by the cage, and finally r3c9 = 5.</span> <span class="hidden">This makes r2c3 = 9, so r2c9 = 3 by indexing; that must be a snake cell, and the last snake cell here, r2c7, is 7.</span>

    <p>There's a cage you've been neglecting. <span class="hidden">The 11 cage in c9 must be 4/7 by sudoku, and </span><span class="hidden">the 7 cannot be in b6 or there'll be two 9s in the box. That places those digits; don't forget the 9s.</span> <span class="hidden">The 11 cage in r6 now sees a 4 and 9 in the row and a 5 in both of its columns, so it must be 3/8.</span> <span class="hidden">The snake cells in b4 must be 5/7/9, and r5c2 can only be 9.</span> <span class="hidden">r7c1 can only be 1.</span> <span class="hidden">r6c8 must be odd, but it cannot be 1/3/9 by sudoku, and </span><span class="hidden">it cannot be 5 because of indexing from the 10 cage in b8.</span> <span class="hidden">The 13 cage now sees a 7 and 9, so it must be 5/8, and the 5 must be in r4c7.</span> <span class="hidden">Therefore r4c5 must be 7.</span>

    <p>The snake's path is constrained now. <span class="hidden">The 3 and 7 in b5 are in r4 and cannot be visited by the snake.</span> <span class="hidden">So the snake can use at most 3 cells in this box; if it enters r6c4, it must exit as quickly as possible by passing through r6c5 and r6c6, but there simply aren't three odd digits left unplaced in r6.</span> <span class="hidden">Therefore the snake passes through r9c5, as well as r9c4 and r9c6.</span> <span class="hidden">r9c5 must be 5.</span> At this point, sudoku will finish most of the top two-thirds of the puzzle. <span class="hidden">The remaining cells in c5 are 1/4, and the 4 cannot be in r6c5. This eventually sets r3c6 = 4, which forces r1c1 = 6. This puts r1c6 = 1 using the codex clue.</span>

    <p>After you're done up there, get back to the snake. <span class="hidden">The snake must move down into r7c8, which can only be 5.</span> <span class="hidden">That's the last odd digit in c8, so it must turn left into r7c7.</span> A little sudoku will fill in the last of the codex cells; be sure to place the indexed digit appropriately. <span class="hidden">The only legal place for 7 in r9 is r9c3.</span> <span class="hidden">You can finally use the circle clue in r8c3: it is forced to be 3.</span> <span class="hidden">Sudoku forces r8c7 = 8, so the snake must pass into r7c6 and r8c6, using all of the odd digits in b8. Its path through b7 is also completely determined.</span> Sudoku will take care of the last few cells. The boss cell should be filled with <span class="hidden">9</span>.

<h2>Chapter 28. Library (grid 5)</h2>

    <p>Placing that digit reveals the rest of the library grid, but it also reveals a new quest: Wall Sandwiches. This is optional, and frankly it's not much of a puzzle; on the one hand, you can skip it, and on the other hand, it's not really a burden to do it anyway. The reward for completing it is some extra clues for the next few grids. These extra clues can all easily be ignored, so if you don't want them, you can just pretend they're not there either way. This walkthrough will be explaining how to solve the puzzles without them. It's really up to you.

    <p>Anyway, to do Wall Sandwiches, you need to click the quest marker (just below r9c9 in the library) and read the description in the puzzle description box. This will explain the puzzle, and more importantly, it will tell you how to report the answer in a way that will show you the remaining clues. Basically, there are some sandwich icons in the walls outside certain grids; for example, there's a 17 sandwich outside r3 in the Quarters (grid 2). This number is the sum of the cells between two unknown digits in that row or column; the puzzle is to deduce the two digits. Once you've figured them out, you put them, in increasing order, on the appropriate cells in the quest progress box (in the bottom-right of the world map). This will reveal another set of sandwich icons, which you solve the same way. Complete walkthrough:

    <ul compact>
        <li>General idea: <span class="hidden">once you have all the digits placed in a row or column, there's an efficient algorithm for finding the possible sandwich digits for a given sum. Just scan down the row or column. For each cell, sum the following cells until you reach or exceed the target number. If you reach it exactly, you have a pair of possible sandwich digits; otherwise, that digit cannot work.</span></li>
        <li>First sandwich: 17. <span class="hidden">r3 in grid 2 only has only possible set of sandwich digits, 3/8 (which surround 4/7/6). You can check that this also works for the other two clues in grid 1 and grid 4. Enter <code>3 8</code> in the quest progress box.</span></li>
        <li>Second sandwich: 19. <span class="hidden">c2 in grid 5 is ambiguous and allows either 3/8 or 4/5, but only 4/5 works in r9 of grid 6. Enter <code>4 5</code> in the next line of the quest progress box.</span></li>
        <li>Third sandwich: 9. <span class="hidden">r3 in grid 2 works with either 2/9 or 5/7. c6 in grid 2 works with either 2/9, 3/5, or 1/9. Enter <code>2 9</code> in the last line of the quest progress box.</code></span></li>
        <li>The second and third sandwiches also provide some clues for row and columns you haven't fully solved yet; these are the extra clues. If you really don't want them, you can always just delete the answers from the progress box and they'll disappear.</li>
    </ul>

    <p>Back to the normal library grid. Filling the boss cell immediately creates a few sudoku opportunities. It also gives you an arrow, which can be easily solved (<span class="hidden">it's 1/8 because every other option runs afoul of digits already in b9</span>), and that resolves the rest of the grid.

<h2>Chapter 29. Portal (grid X)</h2>

    <p>This is a fun little interlude. The "portal" is a 5&times;6 grid connecting the library grid to the "elsewhere" grid on the right edge of the map. The portal is <i>not</i> a sudoku grid; it's a completely different kind of puzzle called fillomino. In a fillomino puzzle, you are responsible for dividing the grid into orthogonally-connected regions. Regions of the same size can never touch orthogonally. Every cell in a region is filled with the size of the region. So, for example, this is a valid division of a 4&times;3 fillomino grid:

        <table class="grid">
            <tr><td class="l t r b">1</td><td class="  t    ">4</td><td class="  t r b">4</td><td class="  t r  ">2</td></tr>
            <tr><td class="l     b">4</td><td class="    r b">4</td><td class="    r  ">3</td><td class="    r b">2</td></tr>
            <tr><td class="l     b">2</td><td class="    r b">2</td><td class="      b">3</td><td class="    r b">3</td></tr>
        </table>

    <p>This grid is seeded for you by a 1 and a 2... and by the five digits that overlap c9 of the library grid. So e.g. r2c1 is part of a nine-cell region, each cell of which must be filled with 9. You're going to get started here by applying one of the basic ideas of fillomino: find a region that needs to grow but is constrained in an interesting way, then try to grow it one cell at a time. In this case, <span class="hidden">every region in c1 except the 1 has to grow, and they can all only grow to the right.</span> <span class="hidden">Now, all of those regions except the 1 and the 2 still need to grow. The 3 region can grow in two directions, so you can ignore for now; but the 6-region and 9-region have no choice but to grow another cell to the right.</span> <span class="hidden">Now the 6-region has to take its fourth cell in r2c4, but the 9 region can only grow by taking r4c3. This finally tells us how the 3-region has to grow: it must take r5c2.</span>

    <p>This next step is pretty neat. Hint: <span class="hidden">don't forget how you started.</span> <span class="hidden">c6 of the portal grid overlaps c1 of Elsewhere (grid 7).</span> <span class="hidden">This is a sudoku grid again, and digits can't repeat in it! This is actually mentioned in the rules for the portal grid, but it's easy to overlook.</span> <span class="hidden">Because digits can't repeat in c6, there must be 5 different digits, which must be 5 different regions.</span>

    <p>Do some <span class="hidden">counting</span>. <span class="hidden">There are 5 &times; 6 = 30 cells in this grid.</span> <span class="hidden">The regions that overlap c1 account for 2 + 6 + 9 + 3 + 1 = 21 cells.</span> <span class="hidden">There are also at least two regions in the center of the grid because of the given 1 and 2, and they must be different regions from the c1 regions; so that's 24 cells spoken for.</span> <span class="hidden">So there are only 6 cells at most that can go into new regions that overlap c6.</span> <span class="hidden">Only two of the existing regions can reach c6: the 6-region and the 9-region. You will have to add at least 3 new regions that overlap c6.</span> <span class="hidden">Thos regions must have different sizes, and the least number of cells that can be in three regions of different sizes is 1 + 2 + 3 = 6, which is exactly the number of cells left unaccounted for. To add more than three new regions, you would need at least 10 unaccounted-for cells, which is more cells than there are in the grid. Therefore, the 6-region and 9-region must reach c6, and the other cells there must be part of a 1-region, a 2-region, and a 3-region.</span>

    <p>That constrains the regions a lot. <span class="hidden">The 6-region can only reach c6 by being a horizontal line from r2c1 to r2c6.</span> Don't forget that you've <span class="hidden">accounted for all 30 cells, so you cannot add any more regions that don't overlap c6.</span> <span class="hidden">So the only way to fill r1c4 is to put the new 3-region up there.</span> <span class="hidden">The remaining new regions are a 1-region and a 2-region that must overlap c6, so only the 9-region can be in r5c3 and r5c4. That's 6 of its 9 cells placed.</span> <span class="hidden">Wherever the new 2-region in c6 is placed, it must extend leftwards into c5.</span> <span class="hidden">It cannot be in r3 without touching the 2-region in r3c4, which would put two regions of the same size orthogonally adjacent.</span> <span class="hidden">It cannot be in r4 without making it impossible to place the second cell of the 2-region in r3c4. So it is in r5c5 and r5c6.</span> There is only one way to fill out the remaining regions: <span class="hidden">the 9-region floods right until it reaches r4c6, and then the new 1-region goes in r3c6.</span>

<h2>Chapter 30. Elsewhere (grid 7)</h2>

    <p>Finishing the portal reveals most of the next grid. This is an irregular sudoku grid: it follows the normal row and column restrictions of sudoku, but instead of having a regular 3&times;3 array of 3&times;3 boxes, it has arbitrary regions of 9 orthogonally-connected cells. These regions still have the same restriction as boxes, though: they must contain all the digits from 1-9, which means digits cannot repeat within the region.

    <p>You can see the borders of 7 of the regions. The border between the other two can be easily deduced: the region that contains r5c5 must also contain the 5 cells to its top, bottom, and left, and running right, it reaches 9 cells at r5c8. If you want to draw the line between these regions, you can use SudukuPad's pen tool: click on the gear icon above the number pad, then click on Enable Pen Tool. This adds a fifth entry mode to the right of the number pad; make sure the drop-down box says either "Edge Only" or "Edge and Center", then drag along the edge in the grid to draw a bold edge line there.

    <p>I'm going to need to talk about the regions. Fortunately, they're very symmetric and still relatively strongly associated with specific parts of the grid, just like boxes are. So I'm actually just going to use b1 through b9 again, despite them not being, strictly speaking, boxes:
        <ul>
            <li>b1, b3, b7, and b9 are the snaking regions in the four corners, just like their namesakes.</li>
            <li>b2 and b8 are the T-shaped regions on the top and bottom sides of the grid.</li>
            <li>b4 and b6 are the C-shaped regions on the left and right sides of the grid.</li>
            <li>b5 is the cross-shaped region in the center of the grid.</li>
        </ul>

    <p>Irregular regions can be very interesting because cells can restrict the placement of their digit in other regions a lot more than they would with 3&times;3 boxes. Just by looking at the shape of these regions, for example, you know something interesting about the digits in the corners: <span class="hidden">they're forced into the "risers" of b2 and b8. The digits in r1c1 and r1c9 are the same as the digits in r2c5 and r3c5, and similarly, the digits in r9c1 and r9c9 are the same as the digits in r7c5 and r8c5.</span>

    <p>That's pretty abstract. Can you apply the same idea to one of the digits you've already filled in? <span class="hidden">The 1 in r5c1 sees 7 cells in b5.</span> <span class="hidden">So the 1 in b5 is in either r4c5 or r6c5, which means it can't be in c5 in b2 or b8, so it has to be in r1 in b2 and r9 in b8.</span> <span class="hidden"></span>

    <p>There are a couple of other digits that are nearly as constraining. <span class="hidden">The 6 in r4c1 and the 9 in r6c1 see five cells in b1 and b7, respectively.</span> Can you do anything with those? <span class="hidden">If r8c5 was 9, it would prevent 9 from being anywhere in b7. That's something, but it isn't immediately helpful.</span> <span class="hidden">r3c4 cannot be 6, because r2c5 would have to be 1 because of the whisper line, but we know the 1 in c5 is in b5. So the 6 is in r2 in b1.</span> <span class="hidden">Where is the 6 in b3, then?</span> <span class="hidden">It must be r3c6 or r1c9, but r2c6 would one again force r2c5 to be 1. So r1c9 = 6.</span> <span class="hidden">Now the only place 6 can go in b2 is r3c5.</span> That reveals a bunch of new cells, including a really intriguing red diamond; but you don't see a rule for this clue yet. Put it out of mind for now and get back to what you were doing. <span class="hidden">The 6 is now really constrained in b6; in fact, it's forced into one of the dotted cells that were just revealed, making them a 3/6 pair.</span>

    <p>That creates an interesting constraint, because <span class="hidden">r7c4 and r7c6 have the same high/low polarity on the whisper line.</span> <span class="hidden">They cannot be 2/3, so if they were low, they'd have to be 1/4.</span> <span class="hidden">And that would make r8c5 adjacent to a 5 on the whisper line, requiring it to be 9; but that would make 9 impossible to place in b7. So r7c4 and r7c6 are high, and r8c5 and r6c7 are low.</span> This row is really starting to fill up. <span class="hidden">The only place for 1 in r7 is now r7c9.</span> <span class="hidden">And that means the 1 in r3 must be in either r3c4 or r4c6; since they must have the same high/low polarity, that polarity must be low, and the other two cells on this whisper line must be high.</span>

    <p>Remember what we figured out about the corners? <span class="hidden">The digits in the corners must be the same as the risers of b2 and b8.</span> <span class="hidden">r2c5 (which must be 7/8/9 because of the whisper line) must be the same as r1c1 (which must be 4/5/7/8 by sudoku); therefore they must be 7/8.</span> <span class="hidden">Since r2c5 can no longer be 9, r3c4 and r3c6 must be a 1/2 pair.</span> <span class="hidden">2 in b6 must be in c9.</span> <span class="hidden">r8c5 cannot be 1 by sudoku, and it cannot be 4 because its whisper-adjacent cells would both have to be 9, so it is 2/3.</span> <span class="hidden">That digit must also be in one of the bottom corners, and by sudoku it can only be in r9c9; but this cannot be 2, so they are both 3.</span> <span class="hidden">This makes r7c4 and r7c6 an 8/9 pair because of the whisper line.</span> But more importantly, it reveals the boss cell.

<h2>Chapter 31. <a href="https://sudokupad.app/mtrhhm8g95">Enlightningment</a> (Elsewhere boss)</h2>

    <p>This is a very fun but also very challenging puzzle. Like the Elsewhere grid, the regions are irregular; unlike the Elsewhere grid, you don't know where <i>any</i> of the borders are at the start, and you have to pull off some pretty tricky reasoning to even start applying the main rule that lets you deduce them!

    <p>The puzzle has three kinds of clues:
        <ul compact>
            <li>black dots that separate digits in a 1:2 ratio, which you're already familiar with;</li>
            <li>whisper lines that separate digits that differ by at least 5, which you're also already familiar with; and</li>
            <li>zipper lines, which are new. Cells that are an equal distance along zipper lines from the diamond contain digits that sum to the digit in the diamond. For example, if the diamond in r4c7 contained 3, r3c8 and r4c8 would have to be a 1/2 pair, and so would r3c9 and r4c9.</li>
        </ul>

    <p>All of these clues connect "adjacent" cells in one way or another: black dots sit between two cells, and the other two clues involve lines between cells. The big, crazy rule of this puzzle is that each of these kinds of clues interacts with regions in one of two ways:

        <ul compact>
            <li>In the first interaction, directly-connected cells must be in the same region, which ultimately means the entire clue must be part of the same region. For example, if zipper lines had this interaction, there would have to be a single region containing all of r4c7, r3c8, r3c9, r4c8, and r4c9.</li>
            <li>In the second interaction, directly-connected cells must be in different regions. This does <i>not</i> necessarily mean all of the cells on the clue must be in different regions. For example, if zipper lines had this interaction, r4c7 would have to be in a different region from both r3c8 and r4c8, but those two could still be in the same region as each other.</li>
        </ul>

    <p>The rules don't saw which clues have which interaction, but they do say that 2 kinds of clues have the first interaction, and the third kind has the second interaction.

    <p>The way to start this is by trying to figure out which rules have which interaction. It would be really convenient if one of the clues boxed itself into a corner, like if there was a diamond in r9c9 connected to r8c9 and r9c8; then this would have to have the first interaction because otherwise r9c9 would have to be a 1-cell region. Unfortunately, you can't see anything like that. But you can try to find things like that that involve interactions between clues.

    <p>Consider the clues in the bottom left. <span class="hidden">If black dots have the second interaction, whisper lines must have the first interaction.</span> <span class="hidden">But this means r8c1's region can have at most 2 cells: r7c1 and r8c2 must be in different regions (possibly the same as each other), and so must r9c2, since it's in the same region as r8c2. So black dots must have the first interaction.</span>

    <p>Now consider the clues in the bottom right. <span class="hidden">If zipper lines use the second interaction, whisper lines must have the first interaction.</span> <span class="hidden">But then the region containing r8c8 can have at most 3 cells: it is a different region from both the whisper line and r9c8. So zipper lines must also use the first interaction, and whisper lines must use the second.</span> There are some other ways to puzzle through this, but I like this one.

    <p>Having figured out the interactions, it's time to start marking out the regions. The best way to do this is by coloring cells. It's tempting to think that you could mark a region by just drawing the border between them, but that doesn't really work in this kind of puzzle because you'll rarely know where exactly the borders are until fairly late the in the puzzle. Instead, you'll have these amorphous regions that you'll be building up as you go along; coloring is a much better way of marking that. To do that, you just need to make sure that regions that might touch are always shaded with different colors. Now, there's a mathematical theorem that says that something like a sudoku grid can always be unambiguously colored with at most four colors. Unfortunately, you need to know exactly which regions touch before you can do that, and you won't know that perfectly as you're solving the puzzle. Don't be afraid of just using a lot of different colors at once; as long as you can tell them apart (both from each other and from the un-colored background), you'll be fine.

    <p>I suggest starting coloring by (spoiler only if you're reading ahead and haven't figured out the interactions yet) <span class="hidden">shading in all of the zipper lines as different regions. Note that, in this specific grid, different zipper lines can never share a region: there's simply no way to connect two different lines orthogonally without creating a region with more than nine cells.</span> It's going to be useful to have some way to refer to the regions here, and unfortunately, they look like they're going to end up much less symmetric and evenly-distributed than the irregular regions in Elsewhere. I'm just going to pick specific colors for them, which means that if you want to follow along, you'll probably have to pick the same colors. Here we're going to start with four regions:

        <ul compact>
            <li>The Yellow region starts with <span class="hidden">the zipper line centered on r7c3.</span></li>
            <li>The Pink region starts with <span class="hidden">the zipper line centered on r7c5.</span></li>
            <li>The Blue region starts with <span class="hidden">the zipper line centered on r9c8.</span></li>
            <li>The Dark Grey region starts with <span class="hidden">the zipper line centered on r4c7.</span></li>
        </ul>

    <p>Now don't forget the interactions for the other rules. <span class="hidden">Black dots also have the first interaction.</span> <span class="hidden">So r6c4 is Pink, and r5c2 and r8c4 are Yellow.</span> <span class="hidden">That puts 7 seven cells in Yellow already.</span> <span class="hidden">So the three cells with black dots around r8c1 must be in a different region; </span> let's make that Red. <span class="hidden">Whisper lines have the second interaction, so r9c2 must not be Red; it must be Yellow, and to make it connected, so must be r9c3. That completes Yellow.</span> If you learned the Pen Tool before, I suggest drawing a line around it to remind yourself that it is complete. <span class="hidden">Red must now take r9c1, r6c1, r5c1, and r4c1, and </span> <span class="hidden">Pink must take r7c4.</span> One last observation of this kind in a very different part of the grid: can you say anything about <span class="hidden">the whisper line in r1c8</span>? <span class="hidden">r2c8 must be in a different region from r1c8 and r2c7, so it must be in Dark Grey, or else its region would be trapped in the corner. Therefore r2c9 is Dark Grey as well.</span>

    <p>Okay. The clues around Blue look interesting, but you haven't done much with them yet. <span class="hidden">r7c9 is not Blue because of the whisper line.</span> <span class="hidden">It cannot be Dark Grey because that region has only two more cells and cannot reach.</span> <span class="hidden">It cannot be Pink because then r8c7 would be cut off: it can't be Blue by the whisper line, it can't be Yellow or Pink because they'd both be full, and it cannot be a different region because that region could not possibly have nine cells.</span> Therefore this is the start of a new region, Orange; <span class="hidden">you can also add r6c9.</span> This corner is now getting quite crowded. <span class="hidden">r8c7 cannot be another new region: that region would have to grow into r5 in order to reach 9 cells, which would cut off both Orange and Blue. So it must be either Pink or Orange.</span> Both of those seem possible for now, though.

    <p>This seems like a good time to remember that this isn't just a coloring book. Let's start with the clues overlapping Yellow. <span class="hidden">The zipper line has two pairs of digits which each add to r7c3. The least sum of four different digits is 10, so r7c3 must be at least half that, i.e. it is at least 5.</span> <span class="hidden">The cells at the ends of the zipper line sum to r7c3; let's call them the "end-sum cells". The end-sum cells are both in dotted pairs with cells that aren't on the line; let's call them the "paired cells". The digits in those four cells must all be chosen from 1/2/3/4/6/8.</span> <span class="hidden">The other two cells on the line must also sum to r7c3; let's call the "other-sum cells". The lower of these, at least, must also be 1/2/3/4.</span> <span class="hidden">Because of the digit restriction, there's actually a relatively small number of possible ways for the end-sum cells to sum to between 5 and 9: 1 + 4 = 5, 2 + 3 = 5, 2 + 4 = 6, 1 + 6 = 7, 3 + 4 = 7, 2 + 6 = 8, 1 + 8 = 9, and 3 + 6 = 9. Each of these options also tightly constrains the paired and other-sum cells, if it doesn't render them impossible to fill.</span> I'll come back to this soon.

    <p>These options are directly affected by another set of clues: <span class="hidden">those in the Red region. r8c2 is constrained in three important ways.</span> <span class="hidden">First, it is one end of a 1/2/4 or 2/4/8 sequence in the Red dotted cells. Its value dictates the value of both r8c1 and r7c1.</span> <span class="hidden">Second, it sees most of the cells in Yellow, including both of the paired cells and both of the other-sum cells. Its digit can only go in r7c3 (the center cell), r9c4 (one of the end-sum cells), or r9c3 (entirely off the clues).</span> <span class="hidden">Third, it is on a whisper line with a cell in Yellow that is not one of the clue cells and so must have a different digit.</span>

    <p>Now, consider each of the options for Yellow in turn. You'll need to explore each path for a bit, but if it looks okay after a few steps of logic, pull back and try another. This is a kind of "bifurcation", in other words guess-and-check, which is sometimes looked down on in sudoku solving, but I haven't been able to find a more elegant approach to breaking in. You don't have to search too far, though.

        <ul compact>
            <li><span class="hidden">Neither of the 5 sums is possible: the end-sum cells and other-sum cells would all have to be 1/2/3/4, but one of the end-sum cells would specifically have to be 1/2, so its paired cell would also have to be 1/2/4.</span></li>
            <li><span class="hidden">2 + 4 = 6 is not possible: the other-sum cells would have to be 1/5, but then the paired cell for the 2 could not be filled.</span></li>
            <li><span class="hidden">1 + 6 = 7 is not possible: the 1 would have to be paired with 2, the 6 would have to be paired with 3, and then there would be no way to fill the other-sum cells.</span></li>
            <li><span class="hidden">3 + 4 = 7 appears to work: the other-sum cells are 2/5 and the paired cells are 6/8.</span> <span class="hidden">r8c2 can only be 1/4 by sudoku.</span> <span class="hidden">In either case, r8c1 must be 2, and r7c1 must be the other half of a 1/4 pair.</span> <span class="hidden">There doesn't seem to be anything obviously wrong with this, so remember it and try some others.</span></li>
            <li><span class="hidden">2 + 6 = 7 appears to work: the other-sum cells are 1/7 and the paired cells are 3/4.</span> <span class="hidden">r8c2 can only be 2/8 by sudoku.</span> <span class="hidden">If it is 8, there is no way to fill r9c2, because 1/2/3 are already present in the region.</span> <span class="hidden">If it is 2, r8c1 must be 4, but then neither of the dotted pairs in Yellow can be 2/4.</span></li>
            <li><span class="hidden">1 + 8 = 9 appears to work: the other-sum cells are 3/6 and the paired cells are 2/4.</span> <span class="hidden">r8c2 can only be 1/8 by sudoku.</span> <span class="hidden">In either case, this and r8c1 are the same pair as one of the dotted pairs in Yellow, prevent that pair from being placed in either position.</span></li>
            <li><span class="hidden">3 + 6 = 9 is not possible: the 3 and 6 must also be paired with 3 and 6, which is too many 3s and 6s for one region.</span></li>
        </ul>

    <p>You should have found that only one option actually works after considering the next few steps, so go ahead and put it in. <span class="hidden">It's the third bullet in the list above.</span> <span class="hidden">The remaining cells in Yellow are 1/9, but only 9 can go in r9c2 because r8c2 is low.</span> This creates an interesting constraint in the column: <span class="hidden">the whisper line in r1c2 and r2c2 needs a high digit and a low digit.</span> <span class="hidden">If r8c2 = 1, the low digit must be 3/4.</span> <span class="hidden">The high digit would therefore have to 8/9, but it cannot be 9, so it would have to be 8, and the low digit would have to be 3.</span> <span class="hidden">But this puts a 4/6 pair in the black dot by sudoku, which is not valid. So r8c2 = 4, which puts the 4 in Yellow in r9c4 and makes the dotted pair in c2 3/6.</span> <span class="hidden">The pair on the whisper line above is therefore 1 and 7/8.</span>

    <p>It's finally time to look at Blue. <span class="hidden">r9c6 and r7c8 are the same high/low polarity, and they're in the same region.</span> <span class="hidden">If they were both high, the least they could sum to would be 5 + 6 = 11, but you can't put 11 in r9c8. So they must both be low.</span> <span class="hidden">r7c8 is at least 3 by sudoku, so r8c7 must be at least 8. But it cannot be 8 by sudoku, so it is 9.</span> <span class="hidden">r7c8 is 3/4, and r9c6 is 2/3, so the sum in r9c8 must be 5/6/7.</span> <span class="hidden">r8c8 and r9c7 must sum to 7, so they must be 6 or less; by sudoku, they are 1/3/6 and 2/3/5/6, respectively.</span> <span class="hidden">If r7c8 = 3, r9c6 = 2 and the sum in r9c8 must be 5, but r9c7 would then have to be 6, breaking the sum. So r7c8 = 4, restricting the sum in r9c8 to 6/7.</span> <span class="hidden">r8c7 cannot be 6 without making the sum at least 8, so it is 1/3.</span> <span class="hidden">This means that, if r9c7 were 2/3, its sum with r8c7 would be at most 5, but it must be at least 6. So it cannot be 2 or 3 anymore, making it 5/6.</span> <span class="hidden">That means that r8c7 cannot be 3 without making the sum greater than 8, so it is 1.</span>

    <p>You can get back to coloring now. You just learned that <span class="hidden">r7c8 = 4, which makes r7c9 = 9.</span> <span class="hidden">r8c7 therefore must be in Pink, because if it were in Orange, that would be two 9s in the region.</span> <span class="hidden">Ping must connect to r8c7, which means it must occupy at least two more cells in r7 and r8.</span> If this corner was crowded before, it's ready to burst now. <span class="hidden">Blue and Orange need to add 11 more cells between them.</span> <span class="hidden">If they can't get enough cells in the bottom-right corner, one of them will need to pass through the only "exit", r5c6.</span> <span class="hidden">There are 12 unshaded cells behind this exit, but Pink needs two of them, so that's not enough cells.</span> <span class="hidden">Blue cannot enter r5 without cutting off Orange; it could have at most seven cells. So r5c6 and r5c7 must be Orange.</span> Does Blue need to grow in any particular direction? <span class="hidden">There must be a 9 somewhere in Blue.</span> <span class="hidden">The only place that Blue can still reach that can contain a 9 is r6c8; so that is Blue and 9.</span> <span class="hidden">Orange must therefore pass around it, taking r5c8 and r5c9.</span>

    <p>There are now some interesting constraints in c8. <span class="hidden">The whisper line in r1c8 and r2c8 must contain a high/low pair; the low digit must be 2/3 by sudoku.</span> <span class="hidden">The zipper line in r3c8 and r4c8 must also contain a low digit or else the sum will be more than 9, but that accounts for all of them, so the other digit must be at least 5. So the sum is at least 7, but it cannot be more than 8 by sudoku.</span> <span class="hidden">If the larger digit on that zipper line is 6, it must be a 2/6 pair, making a sum of 8. But if Dark Grey already contains all of 2, 6, and 8, there is no way to fill the dotted pair in r2. So the larger digit must be 5.</span> <span class="hidden">r5c8 must be 7/8 by sudoku.</span> <span class="hidden">The 6 in c8 cannot be on the whisper line because it would have to be paired with 1, so the only remaining option is r9c8. This makes r9c7 = 5 and r9c6 = 2.</span>

    <p>Keep your focus on Dark Grey. <span class="hidden">The zipper line in c8 constrains the other clues in the region quite a bit.</span> <span class="hidden">If the sum there is 3 + 5 = 8, the dotted pair must be either 1/2 or 2/4; by sudoku, r2c8 = 2, which means the other zipper sum must be 1/7, which means r2c9 = 4.</span> <span class="hidden">If the sum there is 2 + 5 = 7, the dotted pair must be either 3/6 or 4/8; that rules 3/4 out of the other zipper sum, so it must be 1/6, and that means that r2c8 = 8 and r2c9 = 4.</span> <span class="hidden">So regardless, the other zipper sum is 1 and 6/7, and r2c9 = 4.</span> That creates an interesting constraint in the row. <span class="hidden">If r2c8 = 2, the other dotted sum in r2 would have to be 3/6, but neither digit is at least 5 away from 2.</span> <span class="hidden">So r2c8 = 8, r3c7 = 7, the zipper line in c8 is 2/5, the zipper line in c9 is 1/6, and r1c8 = 3.</span>

    <p>Look left. You already discovered that <span class="hidden">the whisper line in r1c2 and r2c2 must be a 1/7 or 1/8 pair.</span> <span class="hidden">r2c2 can now only be 1/7, and it cannot be 7 because r2c1 cannot be 1/2. So it is 1.</span> <span class="hidden">The dotted pair in r2c5 and r2c6 must now be 3/6, and the 3 must be in r2c6.</span>

    <p>How can Dark Grey grow? <span class="hidden">It has seven cells, and the remaining digits it needs are 3/9.</span> <span class="hidden">3/9 are excluded from r1c9 and r3c7 by sudoku, so the only place it can grow is r4c6.</span>

    <p>At this point, it makes sense to start shading some new regions, but we have a color problem. There are three colors on the palette that we haven't used: Green, Light Grey, and Grey. The different greys are actually pretty easy to distinguish from each other; the problem is that Light Grey is really hard to distinguish from the background color of light blue, so I don't want to use it on this grid. We won't need to mention the old Yellow region again, so I'm going to have you coloring one of the the new regions Yellow as well. I'll use it for a region that will definitely never touch the old one, so there won't be any ambiguity. That said, if you aannoys you to have two regions the same color, you can use SudokuPad's extended color palette to recolor the old Yellow region to some other color that's easy to tell apart, like Brown. (I suggest recoloring the old region instead of giving the new region one of the extended colors because you won't want to constantly switch palettes while you're coloring.) To do this, just click the rainbow icon beneath the color pad, which will give you access to a second palette of nine more colors. Brown is in the bottom left of this palette. After you've recolored the old region, click the rainbow two more times to return to the original palette.

    <p>Alright. The new Yellow region is going to start in <span class="hidden">r1c9, r1c8, and r1c7</span>. <span class="hidden">This region already has a 3, so r2c7 must be another new region;</span> start coloring that one Grey. <span class="hidden">Grey must also contain r2c6 because black dots always separate cells of the same region (remember that?).</span> <span class="hidden">That means Yellow is forced to grow to the left, into r1c6 and r1c5.</span> <span class="hidden">Whisper lines always separate cells of different regions, so Yellow must continue growing left, into r1c4.</span> There will be one more new region, Green, but you don't know how to start it yet.

    <p>Growth in the bottom-right corner is pretty restricted. <span class="hidden">There are 8 unshaded cells in this corner, and they can only be taken by Orange, Pink, or Blue.</span> <span class="hidden">All three of these regions needs 3 more cells. So between them, they will take the 8 unshaded cells in the corner, and then one more cell elsewhere.</span> This puts a very interesting constraint on Orange: <span class="hidden">because it can only grow at most one cell leftwards from r5c6, the only place it can possibly acquire a 6 is from r6c7 or r7c7.</span> <span class="hidden">Therefore it must grow into r6c7 at least.</span> <span class="hidden">In r8, 6 is forced to be in r8c5.</span> <span class="hidden">This cell must belong to Pink, since Blue already has its 6.</span> <span class="hidden">This makes r7c4 a naked single 3.</span> <span class="hidden">6 in r7 can now only be in c7, and this must be Orange's 6.</span> <span class="hidden">r8c6 is therefore the only way for Pink to connect to r8c7, and it must be 7. r8c9 = 3.</span> <span class="hidden">Blue is now boxed in: it needs three cells, and there are exactly three unshaded cells it can claim.</span> <span class="hidden">r9c5 and r9c9 must be 7/8, so r9c1 = 3.</span>

    <p>Try to wrap up Pink. <span class="hidden">r6c6 is quite constrained.</span> <span class="hidden">It sees both cells of the 5/8 pair in r7: r7c6 by being in the same column, and r7c5 by being in Pink (and because of the zipper sum).</span> <span class="hidden">Therefore it can only be 1/4.</span> <span class="hidden">The dotted pair in Pink cannot be 3/6 or 4/8 by sudoku, so it must be 1/2 or 2/4, making these three cells a 1/2/4 set.</span> <span class="hidden">The zipper sum in r7c5 therefore cannot be more than 6, so it must be 5. Its line is a 1/4 pair, and r6c4 = 2.</span> So not quite finished, but really close.

    <p>There's a lot of sudoku left to do in that row. <span class="hidden">7 can only be in r6c1.</span> <span class="hidden">That means r2c1 can only be 9.</span> <span class="hidden">The 5 in r2 can only be in r2c4, so the 2 can only be in r2c3, and the 7 must be in r2c5.</span> <span class="hidden">That makes r9c5 = 8 and r9c9 = 7.</span> Coming back to r6, you can place the <span class="hidden">5/6/8 by sudoku.</span> One of these is particularly useful: <span class="hidden">the 6 in r6c3 cannot be Pink because there's already a 6 in that region.</span> That must be a new region; go ahead and color it Green. <span class="hidden">And Pink can now only grow to one of three cells; neither r5c4 or r5c6 can be 8, so it must take r7c6, which completes it.</span> <span class="hidden">Orange must therefore grow into r5c5, which completes it as well.</span>

    <p>The unplaced digits in Orange are <span class="hidden">1/2/3/4.</span> <span class="hidden">Of these, r5c9 can only be 2, which kicks off a nice little chain: r1c9 = 8, r1c2 = 7, and r3c4 = 7.</span> Coming back to that row, <span class="hidden">r5c4 = 9, r5c3 = 8, and r5c1 = 5.</span>

    <p>At this point, you're mostly trying to figure out how you can get the right digits in every remaining region. The hardest constraint here is in the top-left, where the remaining whisper line means that different regions have to take different digits. There's a couple ways you can puzzle this out. I suggest starting with <span class="hidden">Yellow.</span> <span class="hidden">The 5 in r1 can only go in r1c6.</span> <span class="hidden">Yellow therefore has a 5 and cannot take r2c4, so it must grow into r1c3.</span> <span class="hidden">It now only has two cells left to claim, and it must find a 7 somewhere. It cannot reach r2c5 or r3c4, so it must take r1c2.</span> <span class="hidden">r1c3 is therefore the only 9 it can possibly reach.</span> <span class="hidden">Yellow can grow into either r1c1 or r2c3. If it grows into r2c3, then r2c3 and r1c1 must be the same digit, because both r1 and Yellow must be a complete set of nine digits, and the other eight digits come from the exact same cells; but r1c1 cannot be 2. Therefore Yellow must grow into r1c1, completing it.</span> Red <span class="hidden">can only take a 9 in r2c1, so it must grow there, completing it as well.</span> You should be able to complete c1, c2, c8, and c9 with sudoku.

    <p>Time to look at Grey. <span class="hidden">Grey needs an 8, and there's only one place it can get it: r3c2.</span> <span class="hidden">This means there must be a wall-to-wall connection of Grey cells. The last two incomplete regions, Green and Dark Grey, have cells beneath this connection and cannot possibly have cells above it. So in addition to r3c2, Grey must also take r2c2, r2c3, r2c4, and r2c5.</span> <span class="hidden">Grey now needs two more digits: 4 and 9.</span> <span class="hidden">It cannot reach r5c4, so this must belong to Green.</span> <span class="hidden">It does not need the digits in r4c2, r4c4, or r3c4, so these must also belong to Green. Green must also take r4c3 to be connected.</span> <span class="hidden">Green now also only needs two more digits: 3 and 4.</span> <span class="hidden">Green can no longer reach r3c6, so this must belong to Grey; it must be a 4.</span> You can place the rest of the digits by sudoku now, and SudokuPad will tell that you're done, but you're not <i>really</i> done until you've finished coloring the regions. <span class="hidden">r3c3 = 3, so it must be Green. Green also needs a 2, which must be r3c5. Grey can now only reach the 9 in r3c6, and r4c5 must be Dark Grey.</span>

    <p>The digit to place in the boss cell is <span class="hidden">4</span>.

<h2>Chapter 32. Elsewhere (grid 8)</h2>

    <p>Filling the boss cell reveals that zipper lines (excuse me, ZIPLINES) have also been added to the world map. Go ahead and read about the new rule in the puzzle description box. Yes, it's the same rule you just used for the boss puzzle, but the puzzle description box says in a way that's very subtly different:

        <blockquote>
            Along a red line, cells an equal distance from the center cell of the line contain digits that sum to the center cell.
        </blockquote>

    <p>That is, cells on the line <i>should always contain digits</i>. And you can see in the revealed cells that sometimes that digit is allowed to be 0. Very interesting!

    <p>Anyway, you can see an awful lot of pairs of cells on this zipper line; wouldn't it be nice if you knew what the sum was? <span class="hidden">c8 contains three disjoint pairs of digits that sum to it, so it must be at least 7.</span> b6 has a very useful shape. <span class="hidden">The 9 in r3 must be in b6, so the sum cannot be 9; it must be 7/8.</span> <span class="hidden">In b5, the sum must be in either r4c5 or r6c5.</span> <span class="hidden">r2c5, r4c5, and r6c6 therefore form a 1/7/8 set.</span> <span class="hidden">This means r7c5 cannot be 7; it must be 4/5.</span> <span class="hidden">Where is the sum in r3?</span> <span class="hidden">It must be in b4, either r3c2 or r3c3.</span> <span class="hidden">But now where can it be in r7?</span> <span class="hidden">Not in b4 or b6, and it cannot be r7c5 because 7/8 has no overlap with 4/5.</span> <span class="hidden">Therefore it must be in one of the other two cells, which are an 8/9 pair. It cannot be 9, so it must be 8.</span>

    <p>You can do three things with that right away:

    <ul compact>
        <li>The zipper line cells outside of the grid are paired up, with one digit in each pair given, so you can go ahead and fill in those four cells. If you look around, you can also see the zipper line show up elsewhere on the map, but you can't do anything with that yet &mdash; you won't know how those cells pair up until you can see more of the line.</li>
        <li>You now know exactly which digits are on the line in c8: <span class="hidden">they're 1/7, 2/6, and 3/5 sums.</span> <span class="hidden">So the other three cells in the column are 4/8/9, and of those, r5c8 can only be 9.</span></li>
        <li>One of the digits is even more constrained: <span class="hidden">r7c8 has to be 3/6, so r3c8 has to be 5/2, and it cannot be 2.</span> <span class="hidden">And that's very useful because it places 8 and 4 in r3c2 and r3c3, which in turn makes r7c2 and r7c3 a 5/7 pair, which makes r7c5 a 4.</span> But you know something about that cell: <span class="hidden">the digit in r7c5 must be in either r9c1 or r9c9. Therefore r9c1 is 4.</span> Finally, that brings you back to the column which started this: <span class="hidden">r9c8 = 8 and r1c8 = 4.</span></li>
    </ul>

    <p>Stay there for a moment. There are four remaining digits. <span class="hidden">The 6 can only be in r6c8 or r8c8.</span> <span class="hidden">Both of these cells are on the zipper line.</span> <span class="hidden">So that 6 must be paired with a 2 in either r2c8 or r4c8.</span> <span class="hidden">Therefore r3c6 = 1 and r3c4 = 2.</span> <span class="hidden">That means the 1 in c8 must also be in either r6c8 or r8c8, so </span><span class="hidden">the 7 must be in either r2c8 or r4c8, and it cannot be in r2c8.</span> <span class="hidden">Therefore r2c8 = 2, r4c8 = 7, r6c8 = 1, and r8c8 = 6.</span>

    <p>There's a lot you can figure out just with sudoku now. Spiralling from r3: <span class="hidden">r3c7 and r3c9 are a 7/9 pair, so </span><span class="hidden">r4c9 and r6c9 are a 2/4 pair.</span> <span class="hidden">The 4 in r8 must be in b9, so </span><span class="hidden">r6c7 cannot be 1/3/4, so it must be 2, which settles r6c9 and r4c9.</span>

    <p>There's one last zipper pair in this puzzle. <span class="hidden">What digits are constrained in c7?</span> <span class="hidden">The 1 can only be in one of the zipper cells, so they must be a 1/7 pair, but r1c7 cannot be 7.</span> You can finish r3 by sudoku, but something else much more interesting just happened: a new quest right above r1c8, and some new revealed cells way in the bottom-left of the map. You don't need this to finish Elsewhere, but we'll come back to it soon, I promise.

    <p>c1 and c9 have some interesting structure: <span class="hidden">r2c1 and r8c1 are a 5/8 pair, and r2c9 and r8c9 are a 5/9 pair.</span> Meanwhile, <span class="hidden">r7c4 and r7c6 are an 8/9 pair.</span> <span class="hidden">If they were 8 and 9 respectively, both r8c1 and r8c9 would have to be 5.</span>

    <p>It's time to look into the eyes. Remember how to use these clues. The most obvious restriction is that r9c3 <span class="hidden">cannot be greater than 5, or else it would be impossible for the eye beneath it to see five cells.</span> By the same logic, r1c3 <span class="hidden">cannot be greater than 7, </span><span class="hidden">r8c3 cannot be greater than 6, and </span><span class="hidden">r2c3 cannot be greater than 8</span>. <span class="hidden">So the only cell that 9 can be in c3 is r4c3, and that means </span><span class="hidden">the only cell that 8 can be in is r2c3.</span> Since the bottom eye <span class="hidden">can no longer see the 8, </span><span class="hidden">r9c3 cannot be 5 anymore, and </span><span class="hidden">r7c3 cannot be 7.</span>

    <p>A lot of sudoku is now unblocked, and that very nearly solves the grid by itself: all that's left are four ambiguous cells in the lower left, which can be resolved by <span class="hidden">observing that the bottom eye already sees 5 cells: r9c3 (whatever it is), r7c3, r6c3, r5c3, and r4c3.</span> <span class="hidden">Therefore it must not also see r8c3, and so r9c3 = 2 and r8c3 = 1.</span>

<h2>Chapter 33. Outside the boxes: Tutorial</h2>

    <p>Okay. Now it's time to read that quest just above r1c8 in Elsewhere. This quest is not optional! You can skip the hidden puzzles you find, but you need to complete at least the zipline in order to make progress in the map.

    <p>Got it? You can fill cells outside the grids with any digit, including 0, but you can also leave them blank. And the rules all actually leave room for this &mdash; as you're about to see, because there's a sort of tutorial that's also been revealed in the bottom-left of the grid, just to the left of the Courtyard (grid 1) and under the Front Gate.

    <p>The first tutorial is thermos and arrows. You can leave cells on thermos and arrows blank, but the arrow's circle must have a digit in it, and the filled-in cells on the arrow must sum to that digit. <span class="hidden">Since there must be a digit in the circle, and it's also on the arrow and therefore must be greater than 8, it must be 9.</span> <span class="hidden">So the remaining cells on the arrow must sum to 1, i.e. there must be a 1 somewhere on the arrow.</span> <span class="hidden">You cannot put the 1 anywhere on the thermo because of the 8, so it must be in the corner cell.</span>

    <p>The second tutorial is whispers and dots. Dotted cells must contain a digit, so they're exactly like normal. Whisper lines are <i>very</i> different, both because they can contain 0 and because they ignore unfilled cells: two cells are now adjacent for the rule if all the cells between them on the line are unfilled. <span class="hidden">The 8 must be dotted with a 4, and the 0 must be dotted with a 0.</span> For the upper line, <span class="hidden">there is nothing you can place between 0 and 8 that is at least 5 away from both, but that's fine, because if you leave the center cell blank, the 0 and 8 are adjacent and are more than 5 apart.</span> On the lower line, <span class="hidden">0 and 4 are not 5 apart, so the same trick doesn't work. The only digit 5 apart from 4 is 9, and fortunately that's also more the 5 apart from 0.</span>

    <p>The final tutorial is about zippers. The center cell must contain a digit, and equidistant pairs must still sum to that. So at least one cell in each pair must be filled. <span class="hidden">The center cell is on a thermo that starts with 8, so it must be 9.</span> <span class="hidden">The remaining thermo cell cannot be filled, because there are no digits between 8 and 9.</span> <span class="hidden">The cell to the left must therefore also be 9.</span>

    <p>That completes the tutorial and reveals most of the zipper line earlier in the puzzle. But before you try that, recall that you've been seeing a bunch of clues that run off the grid all along. Why not see if you can satisfy any of them?

    <p>In grid 2, there's a whisper cell between a 1 and a 9. <span class="hidden">That's clearly unfillable.</span> In grid 1, there's a thermometer cell between a 3 and a 4. <span class="hidden">That's also clearly unfillable.</span> And there's a whisper cell between a 5 and a 6. <span class="hidden">That can be filled! It has to be 0.</span> Oh hey, look at that, a hidden puzzle.

<h2>Chapter 34. Dancer (hidden puzzle 1)</h2>

    <p>Most of this puzzle is a 4&times;4 sudoku grid, which as usual must be filled with 1/2/3/4. That means only two cells count as outside the grid, and one of them is the arrow circle; keep that in mind.

    <p>The first thing to do is to try to constrain the arrow sum. <span class="hidden">The total sum of the digits in the grid is 40.</span> <span class="hidden">The arrows contain all but two of those cells, and </span><span class="hidden">those cells see each other and therefore can sum to at most 7.</span> <span class="hidden">So the digits on these arrow sum to at least 33, without even counting the cell off the grid. The circle sum must be 9.</span>

    <p><span class="hidden">The arrow in c1</span> <span class="hidden">sums to 9, so r4c1 = 1.</span> <span class="hidden">If r1c2 = 1, the arrow ending in r4c2 would already sum to 9 without even counting r1c3. So the 1 in c2 must be in r2c2.</span>

    <p><span class="hidden">The arrow ending in r4c3</span> <span class="hidden">uses the same digits in b2 and b4.</span> <span class="hidden">These digits cannot sum to more than 4 without breaking the arrow sum, </span><span class="hidden">so they must be either 1/2 or 1/3; in either case they have the 1, and so r1c4 = 1 and r3c3 = 1.</span>

    <p><span class="hidden">In b2,</span> <span class="hidden">neither r2c4 nor r1c3 can 4 without breaking their respective arrow-sums, so r2c3 = 4.</span> <span class="hidden">Now r1c2 cannot be 4 because r4c4 would have to be 1 to make the arrow-sum work. So r1c1 = 4.</span> <span class="hidden">This puts a 4 on the arrow ending in r4c2, but the c2 cells of this arrow cannot sum to more than 7 because r1c3 must be at least 2.</span> <span class="hidden">Therefore r1c2 = 3 and r1c3 = 2.</span>

    <p>The rest of the grid can be filled by sudoku, but that's not quite the end: <span class="hidden">the in-grid cells on the five-cell arrow only sum to 8, so the cell to the right of the circle must be filled with 1.</span>

<h2>Chapter 35. Outside the boxes: Zipline</h2>

    <p>You can finally count cells on this zipline to figure out which pairs are equidistant &mdash; not quite all the way to the end, but a decent distance. It's a little tedious, though, and you don't actually need to: just fill them in from the right.

    <p>The cell to the left of the eye above Elsewhere was revealed to be a 6. <span class="hidden">So the lower half of that pair must be 2.</span> <span class="hidden">The 2 is dotted, so the cell to its left must be 1/4.</span> <span class="hidden">The upper half of that pair must therefore be 4/7, but it's dotted, so it and its pair must both be 4.</span> <span class="hidden">The cell dotted to the upper 4 must be 2/8.</span> <span class="hidden">The cell dotted with that must be 1/4.</span> <span class="hidden">So the lower halves of those pairs must be 0/6/blank and 4/7, respectively.</span> <span class="hidden">If the left cell on the upper line were 1, the right cell would have to be 2, and they would be paired with 7 and 6 respectively. But the lower halves are on a whisper line, which would be broken. So the left pair is 4 and 4.</span> <span class="hidden">The only digit that 4 can be adjacent to on a whisper line is 9, and that would immediately break the zipline sum. So the lower half of the right pair must be blank, and the top half must be 8, which works.</span>

    <p>Next up are the paired thermos. Note that the upper thermo grows to the left and the lower thermo grows to the right. The circle on the bottom <span class="hidden">is in a dotted pair, and it must be less than 8, so </span><span class="hidden">the upper cell paired with it must also be filled with at most 8.</span> <span class="hidden">Therefore all of the intermediate cells on both thermos are either unfilled or less than 8.</span> <span class="hidden">All of these cells that are on the zipper are paired with cells with the same constraint.</span> <span class="hidden">So all of those cells must be filled, because otherwise they would have to be paired with an 8.</span> <span class="hidden">The rightmost dotted pair on the bottom thermo must be in increasing order to the right.</span> <span class="hidden">If it were 0/0, 1/2, or 2/4, it would not be possible to fill the three cells to its left; and if it were 4/8, it would break the thermo immediately. So these cells are 3 and 6 in that order.</span> <span class="hidden">Since the other cells that are on both the thermo and the zipline must be filled, they must be 0, 1, 2, and 7.</span> <span class="hidden">The cell dotted with 0 must be 0. The intermediate cell on the lower thermo must be unfilled.</span> Don't forget to fill in all the paired cells. And don't forget that the <span class="hidden">2 on the lower line is also on a palindrome line, so you can place the corresponding 2.</span>

    <p>Continuing to the left, you'll find some unrevealed cells on the zipline. However, since the gaps are all a single cell and the zipline cannot branch, this does not create any ambiguity about the pairing. The 2 in the eye above the Library must be paired with a 6. The 6 in r1c5 of Maintenance must be paired with a 2 &mdash; oh look, another hidden puzzle... but you can come back to that in a moment. Just keep filling in pairs. Eventually you'll reach the <span class="hidden">2</span> in r5c9 of Quarters, and that must be paired with a <span class="hidden">6</span> in r6c9 of the Hall of Illusions. You should see in the Quest Progress box that you've now finished the Fast Travel Zipline, but much more importantly, you should also see a very interesting warning about the Hall of Illusions! You'll come back to this later; it's time to solve the hidden puzzle you just found.

<h2>Chapter 36. Wolf (hidden puzzle 3)</h2>

    <p>Okay. This is a cute little puzzle. It's a 4x4 sudoku, so all of the cells are going to be filled with the digits 1/2/3/4, and most of the grid is on a zipper line.

    <p>Your main tool for solving this is thinking about the zipper pairs. It's going to be extremely useful to color in all the different pairs. Fortunately, there are exactly 9 pairs, so you won't run out of colors, although light grey can be hard to distinguish from the white background.

    <p>You <i>could</i> approach this by trying to narrow down the sum, but I have a better suggestion: <span class="hidden">think about the 2</span>.

    <p><span class="hidden">The 2 in b2 must be in either r1c3 or r2c3.</span> <span class="hidden">Both of these cells have pairs within the grid, so 2 must have a complement in 1/2/3/4 that makes the zipper sum. Call this P.</span> <span class="hidden">If r1c3 = 2, P must be in r4c1; note that this means P cannot also be 2.</span> <span class="hidden">P must be in b2, but it cannot be one of the two paired cells without putting a second 2 in the box, so it must be in r2c4.</span> <span class="hidden">So P would also have to be in r1c2 by sudoku.</span> <span class="hidden">But r1c2 is paired with r4c2, which would have to be 2, but cannot be because it sees r4c4. Therefore r2c3 = 2 and r1c4 = P.</span> <span class="hidden">P must be in either r2c1 or r2c2 by sudoku, but </span><span class="hidden">r2c2 is paired with r3c4, which already sees a 2. So r2c1 = P.</span> <span class="hidden">2 must be in either r3c1 or r3c2 by sudoku, but </span><span class="hidden">if r3c2 = 2, P could only be in r4c2, which is paired with r1c2, putting a second 2 in the column. So r3c1 = 2.</span> <span class="hidden">By sudoku, r1c2 = 2, and by pairs, r3c3 = P and r4c2 = P.</span>

    <p>Now you can think about the sum. <span class="hidden">The 4 must be on the line in at least three of the boxes, so the sum must be at least 4, and P cannot be 1.</span> <span class="hidden">If the sum is 5, P is 3, and the other two digits have to be 1/4.</span> <span class="hidden">Whichever one is r2c2 is, r3c2 would have be the other by sudoku; but </span><span class="hidden">r3c4 would also have to be the other because they are pairs, and 1/4 sum to 5.</span> <span class="hidden">So the sum is 6 and P = 4.</span> <span class="hidden">r1c3 is 1/3, but if it were 1, r4c1 would have to be 5, so it is 3.</span> At this point, the rest of the puzzle is straightforward. Don't forget to fill the sum and the four cells on the line outside of the grid. If you've done it all right, you should see a checkbox on the Wolf in the Quest Progress box in the bottom-right of the map.

<h2>Chapter 37. Hall of Illusions (grid 8)</h2>

    <p>Finally it's time for the Hall of Illusions. Read the warning at the end of r6: every clue in the grid is lying. The rules of sudoku still apply, but every explicit clue within the grid must work out to be "wrong". Be sure to click on the new rule in the Learned Rules box and read the explanation carefully, though, because "wrong" has a specific meaning for each kind of clue which might not be quite what you'd expect. Please feel free to just skip my unbearably pedantic notes on each of the following rules:

    <ul compact>
        <li>For thermometers, the clue is essentially just reversed: digits must strictly increase as they get closer to the bulb, rather than as they get further from it. Pedantically, this is not the logical negation of a thermometer clue: <code>(1)-4-2-2</code> would make a thermometer clue false as a whole, but it isn't valid under the puzzle's rule. The puzzle's rule is almost right if you think of thermometers not as a single clue, but as a set of clues between the adjacent pairs of cells on the thermometer. In that case, the logical negation of the clues would require the thermometer to increase as it approaches the bulb, but it would allow <i>non-strict</i> increases, which the puzzle's rule does not. Regardless, none of this matters for any of the actual thermometer clues in the Hall of Illusions, which are always two cells that see each other.</li>
        <li>For whisper lines, adjacent cells on the line must differ by less than 5. Pedantically, this is also not the logical negation of a whisper line clue: <code>1-7-3</code> would make a whisper line clue false as a whole, but it is invalid under the puzzle's rule. The puzzle's rule is right if you think of whisper line clues as a collection of clues between the pairs of adjacent cells on the line.</li>
        <li>For dark cells, all orthogonally-adjacent non-dark cells must be greater than the cell. Pedantically, this is once again not the logical negation of a dark clue: a dark 5 adjacent to a non-dark 4 and 6 would make the dark clue false as a whole, but it is invalid under the puzzle's rule. Additionally, if a dark cell is not adjacent to any non-dark cells, the dark clue cannot actually be made false as a whole, but this doesn't create a problem under the puzzle's rule. Again, the puzzle's rule makes sense if you think of the dark clue as just adding a (possibly empty) collection of clues between the dark cell and each of the non-dark cells adjacent to it.</li>
        <li>For black dots, neither of the cells can have twice the value of the other. Pedantically, this is the correct logical negation of the dot rule.</li>
        <li>For arrows, the digit in the circle must not be the sum of the digits on the arrow. Pednatically, this is the correct logical negation of the arrow rule.</li>
        <li>For indexing clues, the digit in the clue (on the book) must not be the column index of the cell in the same row that contains the column index of the clue cell. The most obvious consequence is that <span class="hidden">indexing cells can never be <i>self-indexing</i>: they cannot contain their own column index</span>. Pedantically, this is the correct logical negation of the indexing rule.</li>
    </ul>

    <p>Thanks for putting up with me through all that. Note that, crucially, only the clues <i>entirely inside</i> the Hall of Illusions grid are lying; clues that affect the grid but also involve cells outside of it must still be correct in the conventional sense. This is why r6c9 still has to be 6 to satisfy the zipper line: the zipper line extends outside of the Hall of Illusions, and so r6c9 and its paired cell are required to sum to 8. Perhaps more importantly, the eyes above c3 and beneath c7 are outside of the grid and are still honest about how many cells they can see.

    <p>If you completed the Wall Sandwiches side quest, there is a clue above c2 here. You do not need this clue in order to solve the Hall of Illusions, and I will show how to solve the puzzle without it, but feel free to use it in your own solution as your reward for finishing that quest.

    <p>If a thermometer is lying, then the cells strictly increase as they move towards the bulb. <span class="hidden">The bulb in r3c1 is 3, so r2c2 must be 1/2; but r1c1 and r2c1 are a 2/8 pair by sudoku.</span> This reveals a few cells in b5 and a <i>lot</i> of very dense clues. Take a moment to remember what these clues actually mean. Because of the lying arrow clues, r4c4 is not the same as either r3c3 or r5c3. Because of the lying dark clue, r4c4 must be greater than r4c3. And because of the lying index clue, whatever digit is in r4c4 is not the column index of the 4 in r4. <span class="hidden">All three of the revealed cells in b5 are dark, so they are all greater than the adjacent cells in b4.</span> <span class="hidden">Therefore none of those cells in b4 can be 9.</span> <span class="hidden">The 9 in c3 must be in b1, but if it's in r1c3 or r2c3, the eye will be broken (and remember: it's outside the grid, so it's not lying). So r3c3 = 9.</span>

    <p>Every square in b5 is dark. <span class="hidden">Since the dark clues are lying, these cells must all be greater than all of the adjacent non-dark cells. They are all adjacent to at least one non-dark cell except r5c5, so the 1 must be there.</span> What does that tell you about <span class="hidden">the 2</span>? <span class="hidden">The two cannot be in any of the cells adjacent to r5c5 because it would have to be adjacent to a 1 outside of b5c5, putting two 1s in that row or column.</span> <span class="hidden">The 2 cannot be in r4c4 because that would put a 1 in r3c4, which is on a whisper line next to a 9, and that whisper line clue must be lying.</span> <span class="hidden">The 2 cannot be in r6c4 or r6c6 because that would put a 1 in both r6c and r7, which would break the 1/4 pair in r6c1 and r7c1. (r6c4 would also have broken a couple of thermometers.)</span> <span class="hidden">Therefore the 2 is in r4c6, and there are 1s in r4c6 and r5c7.</span> This fully reveals the bottom half of the puzzle. And sudoku creates an interesting constraint along these lines: <span class="hidden">The 1 in r6 can only be in r6c1 or r6c3, but r6c3 is the bulb of a thermometer. So it must be in r6c1, which allows you to finally complete the Ramparts grid.</span>

    <p>Consider the whisper line. <span class="hidden">r3c2 cannot be less than 5 because of the 9 in r3c3; it must be 5/6/7 by sudoku.</span> <span class="hidden">r3c4 also cannot be less than 5; it must be 5/6/7/8 by sudoku. But </span><span class="hidden">if it were 8, r4c4 would have to be 9, which breaks the lying arrow. So it is also 5/6/7.</span> <span class="hidden">r3c5 cannot be greater than 5 because of the 1 in r3c6. It cannot be 1/3 by sudoku, and it cannot be 2 by the lying arrow from r4c6, so it must be 4/5. But </span><span class="hidden">if it were 5, the three cells in b3 would have to be 2/4/8.</span> <span class="hidden">The 4 in r9c9 would put the 4 in one of the dotted cells, and the other two digits are either half or twice it. So r3c5 must be 4.</span>

    <p>How does all that affect b5?
    <ul compact>
        <li>Consider the digit you just placed. <span class="hidden">4 cannot be in c4 in b5 because those cells are all indexing clues, and the 4 would make those clues self-indexing.</span> <span class="hidden">So the 4 must be in c6 in b5, which means it can only be in r8c4 in b8 by sudoku.</span></li>
        <li>The whisper line puts some pressure on <span class="hidden">r4c4 and r4c5</span>. <span class="hidden">r4c4 must be at least 6, but it cannot be 6 by sudoku or 9 by the lying arrow to r3c3. So it is 6/8.</span> <span class="hidden">r4c5 must be at least 5, but it cannot be 5 because it would self-index, and it cannot be 7 by sudoku. So it must be 6/8/9.</span> But <span class="hidden">if it were 9, the 9 in b4 would have to be r5c2, </span><span class="hidden">which means r6c3 would have to be at least 5, </span><span class="hidden">but it cannot be 5/6/7/9 by sudoku. So it would have to be 8, </span><span class="hidden">which would force a 9 into r6c4 by the lying dark clue, putting a second 5 in b5. Therefore r4c5 is also 6/8, making a 6/8 pair with r4c4.</span></li>
        <li>What other digit is constrained by sudoku in b5? <span class="hidden">The 5 must be in r6 now, but </span><span class="hidden">it cannot be in r6c5 because it would be self-indexing, and </span><span class="hidden">it cannot be in r6c4 because r7c4 would have to be less than it, which would make the thermometer correct. So r6c6 = 5.</span></li>
        <li>That now forces <span class="hidden">r5c6 = 4, and so </span><span class="hidden">r5c7 must be less than 4, but it cannot be 1 by sudoku or 2 by the lying arrow from r4c6. So it must be 3.</span>
        <li>Now a new digit is constrained. <span class="hidden">3 must be in r6 as well, but it cannot be in r6c4 for the same reason 5 couldn't, so it must be in r6c5.</span> <span class="hidden">That puts a 2 into r7c5 because of the lying dark clue.</span></li>
        <li>The remaining two cells are <span class="hidden">a 7/9 pair</span>.</li>
    </ul>

    <p>There's a lot to be done in b6 now. <span class="hidden">r5c8 cannot be greater than 5 because of the whisper line, but it cannot be 1/3/4/5 by sudoku, so it is 2.</span> That means that <span class="hidden">r6c7, which must be less than 5 by the lying dark clue, can only be 4.</span> <span class="hidden">The 3/4 in r4 now cannot be in b6; they must be in b4, and r4c8 and r4c9 must be a 5/9 pair. The remaining two cells are a 7/8 pair.</span>

    <p>That last bit of logic leads to an important deduction on the other side of the grid. <span class="hidden">The 9 in b4 must be in c2, but it cannot be in r4c2 because that must be 3/4, and </span><span class="hidden">it cannot be in r6c2 because that would break the lying thermometer. So it must be in r5c2.</span> Some simple sudoku finishes the row. A quick deduction finishes another: <span class="hidden">the 9 in r5c2 means r6c3 must be at least 5, and the only remaining candidate is 8</span>. And to nearly wrap up this entire row of boxes, <span class="hidden">the 6 in r5c3 means r4c4 cannot be 6 because of the lying arrow. Therefore r4c4 = 8 and r4c5 = 6,</span> and oh! Look at that, the boss cell.

    <p>You can do the boss puzzle now, and filling the cell will make the rest of the logic a bit simpler. However, you're not actually stuck quite yet, and you can do pretty much all of the remaining logic without filling the boss cell, just leaving a few cells to be disambiguated. I'm going to take you through that now, but feel free to just come back to this point after the boss puzzle if you'd prefer.

    <p>There's something else you unlocked by solving b5. <span class="hidden">r7c6 must be less than 5 by the lying dark clue, but the only remaining candidate is 3.</span> <span class="hidden">r7c7 therefore cannot be more than 7, but </span><span class="hidden">it cannot be 1/2/3/4 by sudoku, </span><span class="hidden">it cannot be 5 because of the lying arrow from r6c6, and </span><span class="hidden">it cannot be 6 because of the lying dot with the 3 in r7c6. Therefore it is 7.</span> And that's interesting, because <span class="hidden">the eye beneath c7 must see 4 cells.</span> <span class="hidden">The 8 and 9 in c7 cannot be in b9 without breaking the eye clue, so they must be in b3.</span> <span class="hidden">But the 8 in r3 must also be in b3 by sudoku, so it must be in r3c7.</span> <span class="hidden">The eye therefore sees the 7, 8, and 9, so the only other digit it can see is the one in r9c7.</span> <span class="hidden">By sudoku, r9c7 must be 2/5, but </span><span class="hidden">it cannot be 2 because then r8c7 would also have to be visible to the eye</span>. <span class="hidden">r8c7 must be 2/6, but it cannot be 6 without breaking the eye, so it is 2, and the two remaining cells in c7 must be a 6/9 pair. And sudoku puts a 2 in r9c3.</span>

    <p>Looking again at your deductions in b6, <span class="hidden">the 2 in r5c8 means that the 2 in r3 can only be in r3c9.</span> By sudoku, <span class="hidden">the 7 in r3 can only be in r3c2 by sudoku, which means that the 6 can only be in r3c4, and so r3c8 = 5, which lets you finish b6.</span> <span class="hidden">r2c3 must now be 4/5, but if it were 4, the eye would not be able to see it, and it must. So r2c3 = 5 and r1c3 = 4.</span> Sudoku should now allow you to finish r4, c7, b4, b6, b7, and r7, leaving just 15 unfilled cells in the grid.

    <p><i>Now</i> you're definitely stuck. What was that about a boss...?

<h2>Chapter 38. <a href="https://sudokupad.app/6cn54q09sv">Negative Zone</a> (Hall of Illusions boss)</h2>

    <p>This is a fun and very original puzzle. It's really quite novel; I can't remember having seen these exact rules before elsewhere. They are:

    <ul compact>
        <li>No pair of orthogonally-adjacent cells anywhere in the grid have a 1:2 ratio. In this chapter, I will sometimes say <i>by ratio</i> to refer to this rule; for example, I might say that r2c3 cannot be 2 by ratio with r3c3.</li>
        <li>No pair of orthogonally-adjacent cells differ by 5 or more if either cell is grey (or, to put it another way, unless both cells are pink). Saying that precisely every time would get tiresome, so in this chapter I will use the words <i>distance</i> or <i>distant</i> to refer to this rule; for example, I might say that putting 9 in r7c6 would be too distant from the 1 in r8c6.</li>
    </ul>

    <p>Some digits are more constrained by these rules than others. A grey 5, for example, can be adjacent to any other digit. A grey 9 can only be adjacent to four possible digits: 5/6/7/8. But two digits are even more constrained than that when placed in grey cells: <span class="hidden">1, which can only be adjacent to 3/4/5</span>, and <span class="hidden">2, which can only be adjacent to 3/5/6</span>. The full set of restrictions hold when either cell is grey, so they also apply when the *other* digit is in a grey cell. You need to remember, though, that when both digits are pink, only a 1:2 ratio is prohibited. As an exercise, go ahead and mark where the 4 can go in b3. <span class="hidden">It cannot go in r3 by sudoku, and it cannot go in r1c8 or r2c9 because those cells are grey and 4 is too distant from 9. But that last restriction doesn't apply to r2c7 because both cells are pink, so the 4 can go in r1c7, r1c9, and r2c7.</span>

    <p>It's time to get started for real, and it's pretty clear that you should start in b5. <span class="hidden">The 2 in r4c5 is adjacent to three cells in b5, so they must be a 3/5/6 set.</span> Remember that <span class="hidden">a grey 1 can only be adjacent to 3/4/5.</span> <span class="hidden">3/4/5 overlaps very closely with 3/5/6!</span> <span class="hidden">Wherever the 1 is placed in b5, it can only be adjacent to at most one cell that is not part of the 3/5/6 set, and that cell must be filled with 4.</span> <span class="hidden">The only position that satisfies this and does not see the 1 in r8c6 is r5c4. So this is 4, and r6c4 = 4.</span> Moreover, <span class="hidden">r4c4 and r5c5 must be a 3/5 pair, and r4c6 = 6.</span> <span class="hidden">The other three cells in the box are 7/8/9.</span> <span class="hidden">If r5c5 were 3, it would have to be adjacent to at least one of 8/9, which are too distant. So r5c5 = 5.</span> There's one last deduction you can make in this box for now: <span class="hidden">r6c5 is 7/8/9, but </span><span class="hidden">it cannot be 9 by distance from 4, and </span><span class="hidden">it cannot be 8 by ratio with 2. So it is 7.</span>

    <p>Stay focused on those constrained low values. In b8, <span class="hidden">r7c6 must be 3/4/5, but</span> <span class="hidden">r6c6 must be 8/9, so r7c6 cannot be 3 by distance, and </span><span class="hidden">it cannot be 4 because that is half 8 and too distant from 9. So r7c6 = 5.</span> Also, <span class="hidden">The 1 in r8c6 cannot be next to a 2 on either side (remember that the 1:2 constraint still applies between two pink cells), so the 2 in c6 must be in b2.</span> And in b2, <span class="hidden">r3c5 must be 3/6.</span>

    <p>There are now a lot of constraints up there. <span class="hidden">r2c6 cannot be 4 because it would be impossible to place the 2 by ratio.</span> Similarly, <span class="hidden">the 4 in r2 can now only be in r2c5 or r2c7, so r2c6 also cannot be 2, or it would be impossible to place a 4 in this row.</span> <span class="hidden">r2c6 has been narrowed down to 3/7.</span> <span class="hidden">r3c6 can be 2/3/7, but </span> <span class="hidden">it cannot be 3 because that would force a 6 into r3c5 and create a 1:2 ratio. So it is 2/7.</span> <span class="hidden">This means r2c6 cannot be 7, because it would force a 2 into r3c6, which would violate distance. So r2c6 = 3.</span> <span class="hidden">This makes r3c5 = 6, and that </span><span class="hidden">rules 1 out of r2c5 by distance, forcing it into r1c5.</span> <span class="hidden">That disallows 2 from r1c6 by ratio, forcing it into r3c6.</span> <span class="hidden">9 must be in r1c4 or r3c4, but it cannot be in the latter by distance.</span> In fact, what digits are allowed in the remaining cells in this box? <span class="hidden">r2c5 must be 4/8.</span> <span class="hidden">r2c4 must be 5/7/8, but </span><span class="hidden">it cannot be 8 because that would force a 1:2 ratio with r2c5, so it can only be 5/7.</span> <span class="hidden">r3c4 can also only be 5/7, so these form a 5/7 pair.</span> <span class="hidden">r1c6 can only be 4/7, but now it cannot be 7, so it must be 4.</span> By sudoku, <span class="hidden">r2c7 = 4, r2c5 = 8, and r9c6 = 7.</span>

    <p>All of those deductions are ready to spill over. <span class="hidden">The 2 in b3 is ruled out of r1c7 by ratio, and it is ruled out of r1c8 and r2c9 by distance from the 9 in r2c8, so it is forced into r1c9.</span> <span class="hidden">r1c8 and r2c9 cannot be greater be 6, but they also cannot be less than 5, so they are a 5/6 pair.</span> <span class="hidden">r3c7 must be 3/5/6 because of the 2 in r3c6, but 5/6 are now spoken for, so it is 3.</span> <span class="hidden">The possibilities for r1c7 are 1/7/8, but 1 is ruled out by sudoku, and 8 is ruled out by ratio, so it is 7.</span> <span class="hidden">The remaining two cells are 1/8, but r3c8 cannot be 8 by distance from 3, so it is 1 and r3c9 = 8.</span>

    <p>Follow the wave of logic down into b6. <span class="hidden">The 2 cannot be in r4 or c9 by sudoku, and </span><span class="hidden">it cannot be in r5c7 or r6c7 by distance from the 8/9 pair.</span> Meanwhile, <span class="hidden">the 4 cannot be in c7 or r6 by sudoku, and </span><span class="hidden">it cannot be in r4c9 by ratio.</span> <span class="hidden">If the 2 were in r5c8, then, it would be impossible to place the 4 anywhere in b6. So r6c8 = 2.</span> <span class="hidden">This forces r6c9 = 3 by sudoku.</span> <span class="hidden">The 1 in b6 cannot be in c7 or r5 by sudoku, and </span><span class="hidden">it cannot be r4c7 or r6c7 by distance, so it must be in r4c9.</span> <span class="hidden">r4c7 cannot be greater than 7 by distance from r3c7, and </span><span class="hidden">it cannot be 1/2/3/4/6/7 by sudoku, so it is 5.</span> <span class="hidden">r6c7 cannot be greater than 6 by distance from r6c8, and </span><span class="hidden">it cannot be 1/2/3/4/5 by sudoku, so it is 6.</span> <span class="hidden">r5c7 must be 8/9 by sudoku, </span><span class="hidden">which creates an 8/9 pair in r5, so r5c8 and r5c9 must be a 4/7 pair, and </span><span class="hidden">the 4 cannot be in r5c8 by ratio with the 2 in r6c8.</span> The rest of this box can be finished by sudoku. At this point, the puzzle becomes pretty straightforward as the wave of deductions sweeps around the edge of the grid.

    <p>In b9, <span class="hidden">the 1 is ruled out of r7c7 by distance, so it is in r9c7.</span> <span class="hidden">The 2 then cannot be in r8c7 by ratio with the 1, so it is in r7c7, and r8c7 = 8.</span> <span class="hidden">The 4 cannot be in r7c8 or r8c8 by ratio, so it is in r9c8.</span> <span class="hidden">The two remaining cells in c8 are 3/5/6, </span><span class="hidden">but they cannot be 3/6 because they would be in ratio. Since they must include a 3, they are 3/5. Sudoku finishes b3 and then b2. The 5 must be in r8c8 by sudoku.</span> <span class="hidden">r9c9 is 6/9 by sudoku but cannot be 9 by distance from the 4; it is 6. The remaining digits are a 7/9 pair but cannot yet be placed.</span>

    <p>In b8, <span class="hidden">c4 must be a 2/6/8 set, but r7c4 cannot be 2/8 by ratio, so it is 6. r8c4 = 2 and r9c4 = 8 by sudoku.</span> <span class="hidden">The 4 cannot be in r8c5 or r9c5 by ratio, so it is in r7c5.</span> <span class="hidden">r8c5 cannot be 9 by distance, so it is 3, and r9c5 = 9.</span>

    <p>Let the wave skip a box. In b4, <span class="hidden">r5c3 must be 3/4/5 because of the 1, but it can only be 3 by sudoku.</span> <span class="hidden">The remaining cells in the row are a 2/6 pair, and the 6 cannot be in r5c2 by ratio.</span> <span class="hidden">The 4 cannot be in r4c2 by ratio, so it is in r4c1.</span> <span class="hidden">The remaining cells in r4 are a 7/9 pair, and the 9 cannot be in r4c3 by distance.</span>

    <p>Now it's mostly mopping up. <span class="hidden">The 2 in b1 cannot be in r2c3 by ratio or r2c2 by sudoku, so it is in r2c1; </span><span class="hidden">the 1 now cannot be in r2c2 by ratio, so it is in r2c3, and r2c2 = 6.</span> <span class="hidden">The 3 cannot be in r1c2 by ratio, so it is in r1c1.</span> <span class="hidden">The 8 cannot be r1c2 by distance from the 3, so r1c2 = 5 and r1c3 = 8.</span> Back in b4, <span class="hidden">r6c3 = 5 by sudoku, and r6c2 = 8 because it cannot be 1 by ratio.</span> The last box can be completed entirely by sudoku.

    <p></p>The boss cell is <span class="hidden">7</span>. If you finished chapter 37 before, you can now complete the Hall of Illusions with sudoku; if not, just pick up from where you left off, and we'll meet again in...

<h2>Chapter 39. Golden Temple (grid 9)</h2>

    <p>You can only see nine cells in this grid, and there are already two cells with coins in them. Furthermore, the puzzle description is talking about "dazzling wealth". You've completed grids 1-8 now, so this seems like the right moment to go count all those coins you found. In fact, I'll save you the effort if you want:

        <table class="worksheet">
            <tr><th>Grid</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>8</th><th>9</th></tr>
            <tr><td>1</td>   <td> </td><td> </td><td> </td><td> </td><td> </td><td>X</td><td>X</td><td> </td><td>X</td></tr>
            <tr><td>2</td>   <td> </td><td> </td><td> </td><td> </td><td>X</td><td> </td><td> </td><td>X</td><td>X</td></tr>
            <tr><td>3</td>   <td> </td><td> </td><td> </td><td>X</td><td> </td><td> </td><td> </td><td>X</td><td>X</td></tr>
            <tr><td>4</td>   <td> </td><td> </td><td> </td><td> </td><td> </td><td> </td><td>X</td><td>X</td><td>X</td></tr>
            <tr><td>5</td>   <td> </td><td> </td><td> </td><td> </td><td> </td><td>X</td><td> </td><td>X</td><td>X</td></tr>
            <tr><td>6</td>   <td> </td><td> </td><td> </td><td> </td><td> </td><td>X</td><td>X</td><td>X</td><td> </td></tr>
            <tr><td>7</td>   <td> </td><td> </td><td> </td><td> </td><td>X</td><td> </td><td>X</td><td> </td><td>X</td></tr>
            <tr><td>8</td>   <td> </td><td> </td><td> </td><td> </td><td> </td><td> </td><td> </td><td> </td><td> </td></tr>
        </table>

    <p>To understand how to use this, go re-read the collectible coins rule. There are <i>N</i> coin cells across the entire map with the digit <i>N</i> in them. You have not found any 1-coins, so there is one remaining 1-coin outstanding. You have found 4 7-coins, but there are seven of them in total, so there are still three 7-coins outstanding. Anyway, to quickly summarize, there are three remaining coins of every value except 1 and 2, of which there are 1 and 2 remaining, respectively. That's 24 outstanding coins in total.

    <p>There's no clear way to use that yet. For now, all you can see is some indexing clues. Clear your head and remember that these clues aren't lying anymore! <span class="hidden">r9c3 should contain the column index of the 3 in its row, and r9c2 = 3, so r9c3 = 2.</span> That reveals a few cells.

    <p>This first deduction is fun. As a hint, <span class="hidden">the indexing clues in this box (b7) are controlling the placement of the 1/2/3 in their rows.</span> As a second hint, <span class="hidden">what digits are still unplaced in this box?</span> <span class="hidden">If two of the indexing clues in r7 were 8/9, they would both pointing at the whisper line.</span> <span class="hidden">But they can't be, because then the adjacent cells would both be 1/2/3! So one of the 8/9 must be in r8c3.</span> <span class="hidden">That puts a 3 in either r8c8 or r8c9.</span> <span class="hidden">The 3 in b8 must be in r7.</span> <span class="hidden">So r7c3 must be 4/5/6; it cannot be 4 by sudoku, so it is 5/6.</span> <span class="hidden">Of r7c1 and r7c2, one is 8/9 and the other is 5/6.</span> <span class="hidden">This means r7c5 and r7c6 must be 3 and either 1 or 2, in some order.</span> <span class="hidden">If r7c3 were 5, r7c5 would be 3, and r7c6 would have to be 1/2; but </span><span class="hidden">r7c5 has a dark clue, so it must be less than r7c6. Therefore r7c3 must be 6 and r7c6 = 3.</span>

    <p>Placing that last digit reveals a very interesting shape in b5: a ring of dark cells, each with a coin in it. (The money bags (&#x1f4b0;) are decorative and have no significance in the puzzle.) You know something about one of these cells: <span class="hidden">r6c6 has to be less than r7c6, which is 3. So it is 1/2.</span> Actually, though, you know more than that. <span class="hidden">r7c8 and r7c9 contain coins.</span> <span class="hidden">One of these cells is 1/2 because of the indexing in b7.</span> <span class="hidden">r7c5 is also 1/2, and it also contains a coin.</span> <span class="hidden">That means you've accounted for a 1-coin and a 2-coin, both in r7.</span> <span class="hidden">There's only one 1-coin across the entire map, so no other coins can be 1. Therefore r6c6 must be 2.</span> And that <span class="hidden">is the last oustanding 2-coin, so no other coins can be 2, either.</span>

    <p>There are several places you can use that; I suggest you start with <span class="hidden">b5</span>. <span class="hidden">None of the coins here can be 1.</span> <span class="hidden">All of the coins here are in dark cells, so </span><span class="hidden">they must be less than their non-dark neighbors.</span> <span class="hidden">If the coin cells must be at least 2, and the cells next to them must be at least 3, then the only space for 1 is r5c5.</span> This reveals some cells in the corner, but put them aside for a moment. <span class="hidden">r7c5 must now be 2, and don't forget </span><span class="hidden">to fill in the clue that indexes it: r7c2 = 5.</span> You've revealed the rest of b8. <span class="hidden">The 1 in b8 cannot be in r8 or c5 by sudoku.</span> <span class="hidden">It cannot be in r7 because it is indexed into r7c8 or r7c9.</span> <span class="hidden">It cannot be in r9c6 because that is a coin cell, and you have already accounted for all the 1-coins. So it is in r9c4.</span> You also know something useful about it in <span class="hidden">c3</span>. <span class="hidden">Since r5c3 must be at least 3 now, the cells above and below it must be at least 4.</span> <span class="hidden">The 1 also cannot be in r1c3 or r2c3 because they are coin cells, so it must be in r3c3.</span> <span class="hidden">Sudoku means that it must be in c2 in b4, but </span><span class="hidden">it cannot be in r4c2 because that would make another 1-coin, so r6c2 = 1.</span> In the same box, <span class="hidden">the 2 is also constrained: </span><span class="hidden">it cannot be in r4c1 or r4c2 because there are no more 2-coins, and </span><span class="hidden">it cannot be in r5c2 because that must be greater than r5c3, which is at least 3. So r5c1 = 2.</span>

    <p>Come back to c3. <span class="hidden">The only low digits left in the column are 3/4, so one of those must be on the whisper line; </span><span class="hidden">the other digit must be 8/9 so that the diference can be at least 5.</span> <span class="hidden">r4c3 and r6c3 must be greater than r5c3, so </span><span class="hidden">if r5c3 were 5, there would be no space for the other 3/4 digit in this column. Therefore r5c3 must also be 3/4.</span> <span class="hidden">r4c3 and r6c3 must therefore be a 5/7 pair.</span> Now in c2, <span class="hidden">there's a black dot, and it already sees a 1 and a 3</span>. <span class="hidden">So the dotted digits must be either 2/4 or 4/8.</span> <span class="hidden">In either case, there's a 4 in b1, so </span><span class="hidden">the 3/4 digit in r1c3 or r2c3 must be 3, and </span><span class="hidden">r5c3 = 4.</span>

    <p>It's really hard to ignore all the clues in b5, but there isn't much you can say concrete about it yet. Still, there are some ideas worth exploring. All of the dark cells <span class="hidden">are next to at least 2 non-dark cells in the box, so none of them can be greater than 7; 8/9 must be in the non-dark cells.</span> Conversely, <span class="hidden">all of the non-dark cells are next to at least one unfilled dark cell, so none of them can be less than 4; 3 must be in the dark cells.</span> That's about it for now.

    <p>The puzzle did reveal this little arrow in b3. What can you do with that? <span class="hidden">The arrow cells can't be 1/2 because they're both coins, so they must be at least 3/4.</span> <span class="hidden">You've accounted for two 3-coins already: there's one on the whisper line in b1, and there's another on the dark cells in b5. So if you put a 3 on this arrow, that's all of them.</span> <span class="hidden">That would also force a 3 into r3 in b2.</span> <span class="hidden">But there's a 3 in r7c6, and there's a 3 in c4 in b5, so that 3 would have to be in r3c5, which is another coin cell. That would be four 3-coins.</span> <span class="hidden">So there cannot be a 3 on the arrow in b3.</span> <span class="hidden">That means the digits on the arrow must be 4/5, and r2c8 = 9.</span> Placing that reveals the rest of the grid. Note that <span class="hidden">the 3 in b2 still must be in c5.</span> <span class="hidden">If it were in r2c5, r3c5 would have to be less than that, but it cannot be 1/2 by sudoku.</span> <span class="hidden">Therefore the 3 in b2 must be in one of the two coin cells, which accounts for the last 3-coin.</span> <span class="hidden">The 3 in b4 must be in c1, but now it cannot be in r4c1 because that would be a fourth 3-coin. So r6c1 = 3.</span> <span class="hidden">This forces the 3 in b5 into r4c4.</span> <span class="hidden">Now the 3 in r5 must be in b6, but </span><span class="hidden">it cannot be in r5c7 because that would be a fourth 3-coin, and </span><span class="hidden">it cannot be in r5c8 because the dark cell, r5c7, cannot be 1/2 by sudoku. So r5c9 = 3.</span> By sudoku, then, <span class="hidden">r8c8 = 3</span>. And I know it's been awhile since you thought about this, but <span class="hidden">that 3 is indexed by r8c3, which must now be 8</span>.

    <p>Are there any other coins constrained now? <span class="hidden">You've placed two 4-coins: one in r5c3, and one in the arrow in b3.</span> <span class="hidden">Placing the 3 in r4c4 means that the 4 in b5 must now be in a dark cell, because all of the non-dark cells are still adjacent to an unfilled dark cell and therefore must be at least 5.</span> That accounts for all of them. <span class="hidden">There is a 4 in one of the dotted cells in b1, and there is a 4 on the arrow in b3. So the 4 must be in r3 in b2.</span> <span class="hidden">It cannot be in the coin cell, r3c5, because that would be a fourth 4-coin.</span> <span class="hidden">But that means it must be adjacent to it, and r3c5 is also a dark cell. r3c5 cannot be 1/2 by sudoku, so it must be 3. By sudoku, <span class="hidden">the 4 must be in c5 in b8, so it must be r8c5.</span> And <span class="hidden">it must be in r7 in b9, but it cannot be on the whisper line with a 1, so it must be in r7c7</span>. <span class="hidden">This puts a 4 in r6 in b6, so the 4 in b6 can only be in r4c6, and the 4 in b2 must be r3c4.</span>

    <p>There's a little mopping up to do now. If you didn't do the indexing before, <span class="hidden">placing the 9 in r7c1 puts a 1 in r7c9.</span> That constrains <span class="hidden">the 1 in r4, which cannot be in r4c7 because of the dark cell and so must be in r4c8</span>; the same logic also gives you <span class="hidden">r4c9 = 2</span>. Sudoku then gives you <span class="hidden">r8c7 = 2 and r3c8 = 2</span>, which finally settles that <span class="hidden">the dotted cells in b1 are a 2/4 pair</span>. Also, when you filled in the whisper line in b1, you <span class="hidden">narrowed 3 in b3 down to r1c7,</span> and now <span class="hidden">1 must be in r2c7, and therefore also r1c6</span>.

    <p>You've now accounted for all of the <span class="hidden">9-coins</span>, so <span class="hidden">the 9 in b4 must be in r5c2</span>. In b2, it must be in <span class="hidden">r3c6</span> by sudoku; <span class="hidden">since it must now be in c5 in b5, </span><span class="hidden">r8c4 = 9</span>.

    <p>You can constrain another coin with a little work. Hint: consider <span class="hidden">r6c4</span>. <span class="hidden">r6c4 must be at least 5, so the cells around it must be at least 6.</span> <span class="hidden">r6c3 = 7, r4c3 = 5.</span> <span class="hidden">r5c4 is at least 6, and r5c6 and r5c8 must be greater than r5c7, which is no less than 5; so the 5 in r5 can only be in r5c7.</span> Similarly, <span class="hidden">the 5 in r6 can only be in r6c4 because the only other position for it would be r6c5, which must be at least 6.</span> <span class="hidden">You just placed two 5-coins, and with the 5-coin in the arrow in b3, that's all three accounted for.</span> <span class="hidden">The 5 in r8 must therefore be in r8c9, </span><span class="hidden">the 5 in r9 must be in r9c5, </span> and the others can be placed by sudoku.

    <p>Now another coin has become constrained. <span class="hidden">There's an 8-coin in r8c3, and there's another in r4 of b4.</span> <span class="hidden">If r9c6 were 8, that would force a 7 into r7c4 and another 8 into r7c8. That'd be four 8-coins, so r9c6 = 7.</span> From there, normal sudoku should very nearly finish the puzzle; if you find yourself with a few cells left along the top and right of the puzzle, just <span class="hidden">8 cannot go into a coin cell</span> and you should wrap it up.

    <p>There are exactly 24 coin cells in the Golden Temple, so that's all of them; there's no other treasure on the map. You can now fill in the numbers 1 through 9 into the "collectible coins found" box in the Quest Progress box.

    <p>There's a boss cell to the right of r5. If you're not quite feeling up to that right now, though, you can take a detour: r4c1 is dotted with a cell off the grid. Dotted cells have to contain a digit, even off the grid, so r4c0 must be <span class="hidden">a 4</span>. And hey, another hidden puzzle!

<h2>Chapter 40. Spider (hidden puzzle 4)</h2>

    <p>This is a pretty quick puzzle; if you get the basic idea right, it really just falls straight into place. It's a 4&times;4 grid, so it must be filled with the digits 1-4. The lines are thermometers, but you can't see any of the bulbs. Different thermometers only share cells at the bulb. Remember that cells outside of the grid can contain 0 or be blank.

    <p>Okay. One of those rules is the real key to unlocking this puzzle: <span class="hidden">different thermometers can only share a cells when the cell is the bulb. (Unfortunately, this isn't stated directly in Sudokuvania's written rules &mdash; it's sort of implied, but not really.)</span> <span class="hidden">So if you see two thermometer lines going into the same cell, even if you can't see what's happening in that cell, either that cell is the bulb and the lines are different thermometers, or the cell links the two lines into a single thermometer.</span>

    <p>In this puzzle, there are two cells that that applies to: <span class="hidden">to the right of r1c4, and to the left of r4c1</span>. The former <span class="hidden">joins two 3-three thermometers, so it must be a bulb.</span> The latter <span class="hidden">connects a 1-cell and a 3-cell thermometer, so it may or may not be a bulb</span>.

    <p>Since you know where a bulb is, you can place possible digits. On the upper, <span class="hidden">r1c4 must be 1/2, r2c3 must be 2/3, and r3c4 must be 3/4</span>. ON the lower, <span class="hidden">r2c4 must be 1/2, r3c3 must be 2/3, and r4c2 must be 3/4</span>. <span class="hidden">This creates a 1/2 pair in b2, so r2c3 must be 3.</span> <span class="hidden">That forces r3c3 to be 2 by sudoku, which </span><span class="hidden">forces r2c4 to be 1 by the thermometer, making r1c4 = 2 and r1c3 = 4 by sudoku.</span> <span class="hidden">r3c4 must be 4 by the thermometer, and r4c3 = 1 and r4c4 = 3 by sudoku.</span> <span class="hidden">r4c2 = 4 by the thermometer, and r4c1 = 2 by sudoku.</span> <span class="hidden">r4c3 is 1, so its thermometer must grow as it goes to the left and up. Therefore r3c2 = 3 and r3c1 = 1.</span> The last box can be filled by sudoku.

<h2>Chapter 41. <a href="https://sudokupad.app/vmp8mhugbr">Sacrifission Lambda</a> (Golden Temple boss)</h2>

    <p>I really enjoy this puzzle, but it has an extremely funky rule that makes it very difficult to wrap your head around. Don't feel bad if you struggle here.

    <p>There are two special rules in this puzzle:

    <ul compact>
        <li>All of the lines are 10 lines, which means you can break them into one or more discrete segments where the <i>values</i> of the cells in each segment sum to 10. The colors don't matter except that they distinguish between lines that would otherwise share a cell.</li>
        <li>The <i>value</i> of a cell is the digit in the cell divided by the number of lines that enter the cell. In the actual puzzle, the denominator is either 1, 2, or (in the unique case of r5c5) 8.
    </ul>

    <p>This is the most arithmetic-heavy of all the puzzles in Sudokuvania, and it's going to help if I can talk about that concisely. So let's get some notational issues out of the way:

    <ol compact>
        <li>I'm going to need to talk about fractional values. The general convention in this document is that 1/2 means the digit set {1,2}, but in this puzzle, that will be confusable with the fractional notation for one-half. In this chapter, I'm going to use decimal numbers like 1.5 for fractional values, but I will also switch around digits to try to make them not look like reasonable fractions; so you might see me write 2/1 instead of 1/2.</li>
        <li>I'm going to need to talk about integer multiples of fractional values. I am just going to say things like "a multiple of .5" and expect that you understand that I mean some whole number multiplied by .5. Please do not email me about field theory.</li>
        <li>I'm going to need to talk about the least or the most that a value can be. If I write &le;5, I mean "some number that's at most 5". Note that you can meaningfully add those as long as all the signs are the same: &le;3.5 + &le;4.5 = &le;8</li>
    </ol>

    <p>Okay. Start with some general observations:

    <ul compact>
        <li>What do you know about the sum of the values on a line? First off, <span class="hidden">it's always a multiple of 10</span>, no matter how many segments are on the line. But more than that, <span class="hidden">it's 10 times that number of segments</span>. So constraining the sum tells you something really important.</li>
        <li>What digits can possibly be put into r5c5? <span class="hidden">r5c5 is the only cell in the grid that has a denominator other than 1 or 2.</span> <span class="hidden">So every other value on the lines connected to r5c5 is a multiple of 0.5.</span> <span class="hidden">If the value of r5c5 was not also a multiple of 0.5, it would not be possible to make any of the lines including it sum to a multiple of 10.</span> <span class="hidden">So the digit in r5c5 must be either 4 or 8, and the value is either 0.5 or 1.</span></li>
        <li>How many segments can these lines have? The green line that goes east out of r5c7 <span class="hidden">contains values of &le;1, &le;4.5, and &le;9. Make sure you understand why, because you'll have to reason about this a lot. Also, this is an overestimate: r5c6 and r5c7 cannot both be 9.</span> <span class="hidden">Those values sum to &le;14.5, which is less than 20. There can only be one segment on this line.</span> The green line that goes west from r5c5 <span class="hidden">contains values of &le;1, &le;9, &le;4.5, and &le;4.5. (Again, this is an over-estimate.)</span> <span class="hidden">That sums to &le;19; this line also can only have one segment.</span> The line that goes south from r5c5 <span class="hidden">contains values of &le;1, &le;9, &le;4.5, &le;9, and &le;4.5. This sums to &le;28. This line can have either one or two segments, but it cannot possibly have three.</span> And so on. In general, you know the most about shorter lines.</li>
    </ul>

    <p>With all of that in your toolbox, what value does r5c5 actually have? Focus on <span class="hidden">the three short green lines to the north, northeast, and east</span>. <span class="hidden">These lines must all have a single segment: their values sum to &le;14.5, &le;19, and &le;14.5, respectively.</span> <span class="hidden">If r5c5 = 8, its value is 1, and the other values on the line must sum to exactly 9.</span> <span class="hidden">For this to be true of the north line, the value of r4c5 must be a multiple of 1.</span> <span class="hidden">The same logic is true of the east line and r5c6.</span> <span class="hidden">r4c5, r4c6, and r5c6 also form a purple line, which must itself sum to 10; </span><span class="hidden"> since the other two cells on this line are multiples of 1, r4c6 must be as well.</span> <span class="hidden">To have values that multiples of 1, these cells must all contain even digits.</span> <span class="hidden">Under this hypothetical, the 8 is in r5c5, so these cells must be 2/4/6.</span> <span class="hidden">But that means these cells have a total value of 6, which breaks the 10 line they share! r5c5 must be 4.</span>

    <p>Now think that through again with the new value. <span class="hidden">r5c5 has a value of 0.5, so r4c5 and r5c6 must not be multiples of 1; they must contain odd digits.</span> <span class="hidden">The sum of those two values is therefore a multiple of 1. To make the purple 10-sum work, r4c6 must have a value that is also a multiple of 1, so its digit must be even.</span> Continuing outward, <span class="hidden">r3c7 must be odd in order to produce a 0.5 to balance out r5c5.</span> Now come back to the purple line, because there's an easier way to think about its sum: <span class="hidden">the values must sum to 10, but the values are all half the digit, so the digits must sum to 20.</span> <span class="hidden">That rules out 1 from both of the odd cells and 2 from r4c6.</span> You won't use this information for awhile, but it's a great tutorial about how to think about the lines.

    <p>Does the value of r5c5 change what you know about about how many segments are on each of the green lines and the values in their intersecting cells?
    <ul compact>
        <li>The northwest line <span class="hidden">had an overestimated maximum value of &le;23.5 before, but now r3c3 must be on the same segment as r5c5 in order to make a 10-sum.</span> <span class="hidden">r3c2 cannot sum to 10 by itself, so this line is a single segment, and r3c3 must be odd.</span></li>
        <li>The west line <span class="hidden">always had to be a single segment.</span> <span class="hidden">Exactly one of r4c3 and r5c2 must be odd.</span></li>
        <li>The southwest line <span class="hidden">now must be a single segment because r8c2 must be in the same segment as r5c5 to make the 10-sum work.</span> <span class="hidden">r8c2 must be odd.</span></li>
        <li>The south line <span class="hidden">could still be two segments, if r7c6 were odd and the outermost two cells were their own segment, or it could be a single segment.</span> <span class="hidden">In either case, exactly one of the intersecting cells is odd.</span></li>
        <li>The southeast line <span class="hidden">must be a single segment: the segment with r5c5 must include at least r7c7, and the outermost two cells have a sum of &le;5.5, so they cannot be a segment by themselves.</span> <span class="hidden">Exactly one of the intersecting cells is odd.</span></li>
    </ul>

    <p>Now consider how the purple lines might break down into segments. You can use SudokuPad's Pen Tool to mark these segments; just draw lines over the puzzle's lines where you know cells are on the same segment. These purple lines are both quite long, but you can tackle them from each end:

    <ul compact>
        <li>The purple line starting at r9c5: <span class="hidden">The first cells on this line all see a 1.</span> <span class="hidden">So the digits in the three non-intersecting cells must sum to at least 9, and </span><span class="hidden">the value of the intersecting cell is at least 1.</span> <span class="hidden">This means that the first segment from this end cannot possibly stretch all the way to r8c2; the sum would simply be too high.</span> <span class="hidden">You don't know how far it stretches; it must take at least r9c4, but it could also run to r9c3 or even to r9c2.</span> <span class="hidden">However long it is, r9c5 can now only be on a segment with cells that have values that are a multiple of 1.</span> <span class="hidden">Its own value must be a multiple of 1, so its digit is even.</span> <span class="hidden">This means the odd intersection on the south green line must be in r7c6.</span></li>
        <li>The purple line starting at r5c2: <span class="hidden">There are three intersections on this entire line.</span> <span class="hidden">You just decided that r9c5 is even, and you already know that r8c2 is odd.</span> <span class="hidden">To make the total on the line a multiple of 10, r5c2 must also be odd.</span> <span class="hidden">r5c2 and r8c2 must also be on the same segment as each other.</span></li>
        <li>The purple line starting at r4c3: <span class="hidden">Learning that r5c2 is odd forces r4c3 to be even, or else it becomes impossible to make the west green line sum to 10.</span> <span class="hidden">This means that r3c3 and r3c7 must be on the same segment as each other.</span></li>
        <li>The purple line starting at r8c7: <span class="hidden">You still don't know which of the two remaining intersections is odd, and it's still hard to draw any definite segments down here.</span></li>
    </ul>

    <p>Do any of these segments seem especially constrained? <span class="hidden">The segment including r3c3 to r3c7 also includes three cells in r2.</span> <span class="hidden">Those cells all see a 2.</span> <span class="hidden">Therefore, the smallest set that can fill them is 1/3/4; they have a value sum of &ge;8.</span> <span class="hidden">r3c3 and r3c7 are both odd, so they must be at least a 1/3 pair; that is a value sum of &ge;2</span>. <span class="hidden">That's already a sum of 10, so this must be the entire segment, and those minimal sets must all be correct: the r2 stretch is a 1/3/4 set, r3c3 = 1, and r3c7 = 3.</span> And remember that that segment wasn't the end of the line: <span class="hidden">there must be a two-cell segment in r4c2 and r4c3, although you can't say much about it yet.</span>

    <p>You've finally learned something new about the lines you started with. <span class="hidden">On the northeast green line, the known digits have a value sum of 2.</span> <span class="hidden">r4c6 must be an even digit, and it cannot be 2/4, so it must be 6/8.</span> <span class="hidden">If it were 8, that would be a value of 4, and r2c8 would have to be 4; but there is already a 4 in r2.</span> <span class="hidden">So r4c6 = 6, which makes r2c8 = 5.</span> <span class="hidden">For the purple line in b5 to sum to 10, the other values on it must sum to 7, which means the digits must sum to 14; </span><span class="hidden">they are a 5/9 pair.</span> <span class="hidden">If r4c5 = 9, that would put a value sum of 5 on the north line, so r3c5 would have to be 5, which it cannot be by sudoku. So r4c5 = 5 and r5c6 = 9, and </span><span class="hidden">by the 10-lines, r3c5 = 7 and r5c7 = 5.</span>

    <p>What about the other long segment? <span class="hidden">The value sum of r5c2 and r5c8 is &ge;3, and the value sum of the c1 stretch is &ge;6.</span> <span class="hidden">This segment could stretch to include r9c2, but the digit in that cell would have to be 1, which would violate sudoku. Therefore this segment contains exactly these five cells.</span> <span class="hidden">Either the endpoints are a 1/5 pair and the middle is a 1/2/4 set, or the endpoints are a 1/7 pair and the middle is a 1/2/3 set.</span> What does all this mean for the remainder of this line? <span class="hidden">There are four cells, and no cell can sum to 10 by itself. So this is either a single 4-cell segment or two 2-cell segments.</span> <span class="hidden">The three non-intersection cells all see a 1, so they must contain at least 2/3/4, for a value sum of &ge;9.</span> <span class="hidden">The intersection cell, r9c5, also cannot contain 1, so it must have a value of at least 1. But to achieve that, it would have to contain a 2, which would violate sudoku with the 2/3/4 set.</span> <span class="hidden">So this stretch of the line must be two 2-cell segments.</span>

    <p>That tells you something about <span class="hidden">the south green line</span>. You know that <span class="hidden">the segment containing r5c5 must also contain r7c6</span>. <span class="hidden">So if the line were broken into two segments, the outermost two cells would have to be a segment of their own.</span> <span class="hidden">r8c5 is not an intersection cell, so the digit in it plus the value of r9c5 would have to be 10.</span> <span class="hidden">But r9c5 is already in a two-cell segment with r9c4, which is also not an intersection cell; whatever value r9c5 has, r9c4 and r8c5 would end up needing the same digit.</span> <span class="hidden">So the south green line must be a single segment.</span>

    <p>The next line to consider is <span class="hidden">the west green line</span>. <span class="hidden">r4c3 must be even, but </span><span class="hidden">it cannot be 6 by sudoku, and </span><span class="hidden">it cannot be 8 because that would put a 6 in r4c2, which would also violate sudoku. So it is 2/4.</span> <span class="hidden">r5c2 must be odd, and it can only be 1/7 by sudoku.</span> <span class="hidden">If it were 7, that would put a value sum of 4 on the line; but </span><span class="hidden">if r4c3 were 2, r5c4 would have to be 5, which it cannot be, and </span><span class="hidden">if r4c3 were 4, r5c4 would have to be 4, which it cannot be. So r5c2 = 1.</span> <span class="hidden">That puts a value sum of 1 on the line; since the value of r4c3 is 1 or 2, the digit in r5c4 must be 7/8.</span>

    <p>Some digits are constrained in b5. On the southwest line, <span class="hidden">the value sum of the endpoints is &ge;3, so r6c4 cannot be greater than 6; it must be 1/2/3.</span> On the southern line, <span class="hidden">the least possible value sum of the four other cells is &ge;3, and 7 is ruled out by sudoku; r6c5 must be 1/2/3.</span> On the southeast line, <span class="hidden">one of the cells in c7 must be odd, and it must be at least 7 by sudoku; </span><span class="hidden">that means the value sum of the line other than r6c6 must be &ge;1 + &ge;3.5 + &ge;1 + &ge;1, which is &ge;6. So r6c6 is also 1/2/3.</span> Those three deductions mean that <span class="hidden">r4c4 and r5c4 are a 7/8 pair</span>. <span class="hidden">But if r5c4 were 7, r4c3 would be 4, so r4c2 would have to be 8; that would make 8 impossible to place in b5.</span> <span class="hidden">Therefore, r5c4 = 8, r4c3 = 2, r4c2 = 9, and r4c4 = 7.</span> <span class="hidden">This in turn makes r3c2 = 2.</span>

    <p>Sudoku tells you something interesting now. <span class="hidden">The 1/2/3 set in r6 means that r6c1 must be 4.</span> <span class="hidden">This settles the ambiguity on this segment that you found earlier: the stretch in c1 must be 1/2/4, and the endpoints must be a 1/5 pair (the 5 being in r8c2).</span> Sudoku puts (in b1) <span class="hidden">r1c3 = 4</span>, (in b4) <span class="hidden">r6c3 = 5</span>, and (in b6) <span class="hidden">r5c8 = 2</span> Considering the southwest green line again, <span class="hidden">the endpoints have a value sum of 3, so the others sum to 7; <span class="hidden">since r6c4 is 1/2/3, r7c3 must be 4/5/6; </span><span class="hidden">but it can only be 6, and so r6c4 can only be 1.</span> <span class="hidden">The only possible way to fill the 2-cell segment in b7 with a 10-sum now is 3/7.</span> Sudoku places them exactly and also gives <span class="hidden">r7c2 = 4.</span>

    <p>You've nearly finished using the information on the lines down here; consider the intersection <span class="hidden">in r9c5</span>. <span class="hidden">This cell must be 2/6/8, but </span><span class="hidden">if it were 6, r9c4 would have to be 7, which is forbidden by sudoku.</span> <span class="hidden">If it were 2, r6c5 would be forced to be 3, and r2c5 would be forced to be 1.</span> <span class="hidden">The least value that could be placed in r8c5, then, would be 6, and the value sum on the line would be &ge;10.5 without even including r7c6.</span> <span class="hidden">So r9c5 = 8, r9c4 = 6, </span> and by sudoku, <span class="hidden">r9c1 = 9 and r8c3 = 8</span>, which then gives <span class="hidden">r2c3 = 9 and r5c3 = 7</span>. Returning to the line, <span class="hidden">the value sum from r5c5, r6c5, and r9c5 is already &ge;6.5, so</span><span class="hidden">r8c5 cannot be more than 3.</span> <span class="hidden">This creates a 1/2/3 set in the column.</span>

    <p>Time for some sudoku. In c5, <span class="hidden">r7c5 = 9 and r1c5 = 6</span>. In r3, <span class="hidden">4 and 6 are forced into b3; this gives r3c6 = 8 and r3c4 = 9.</span> In c6, <span class="hidden">the 7 must be on the purple line in b8; but </span><span class="hidden">if it were in r7c6, there would be a value sum of 8 on the green line, and it would not be possible to fill r6c5 and r8c5.</span> Therefore <span class="hidden">r8c6 = 7</span>.

    <p>Now you can finally do something with this end of this purple line. Recall that <span class="hidden">exactly one of the two intersection cells on the southeast green line must be odd.</span> By sudoku, <span class="hidden">that must be 7/9</span>. <span class="hidden">That cell cannot be r8c7 because that value (&ge;3.5) plus the 7 in r8c6 is already more than 10.</span> <span class="hidden">So the odd intersection must be r7c7, which also cannot be 9; thus r7c7 = 7.</span> By sudoku, <span class="hidden">r2c7 = 8,</span> which in turn completes b1, b4, and r5. The purple line in b6 <span class="hidden">cannot take all three cells without exceeding 10, so there must be a 2-cell segment in r4c8 and r5c8; therefore </span><span class="hidden">r4c8 = 8.</span> The next segment <span class="hidden">starts with r6c8 and r7c7; </span><span class="hidden">the least value that r6c8 can have is 6, which gives a value sum of 9.5 with just those two cells.</span> <span class="hidden">Therefore r6c8 = 6, and the segment must continune only into r7c6, which must be 1.</span> The last segment <span class="hidden">is just r8c6 and r8c7, so r8c7 = 6</span>. On the southeast green line, <span class="hidden">the current value sum is 8, so r6c6 = 2</span>.

    <p>The rest of the puzzle can be solved with sudoku. The boss clue is <span class="hidden">6</span>.

<h2>Chapter 42. Secret Passage (grid Z)</h2>

    <p>Did you think you were done? Well, you're actually pretty close now, I promise. Just one more grid...

    <p>To get there, though, you have to solve this little thing. Remember all of the outside the boxes rules?

    <ul compact>
        <li>Cells can generally be filled with any digit (including 0) or left blank.</li>
        <li>Arrow circles must be filled, and the filled cells on the arrow must sum to that number.</li>
        <li>Dotted cells must be filled.</li>
        <li>Cells on a whisper line do not need to be filled, and empty cells are ignored for the purposes of deciding adjacency.</li>
        <li>Cells on a thermometer do not need to be filled, and only the filled cells need to strictly increase.</li>
    </ul>

    <p>Got it? <span class="hidden">You can trace the path of the thermometer around the puzzle.</span> <span class="hidden">Consider the interesting cells you visit.</span> <span class="hidden">Ignore all the cells that don't involve any other clues; there's no reason you would ever need to fill them.</span> <span class="hidden">Just write the interesting clues down in order.</span>

    <p>That gives: <span class="hidden">(top-left whisper) (bottom-left whisper) (center-right whisper / dotted) (right circle) (left circle) (center-left whisper / dotted) (bottom right whisper) (top right whisper)</span>

    <p>What's the critical sequence there? <span class="hidden">The dotted cells and circles must all be filled.</span> <span class="hidden">So there are at least two digits between the dotted digits.</span> <span class="hidden">They are either 3/6 or 4/8.</span>

    <p><span class="hidden">These cells are also connected by the whisper line.</span> <span class="hidden">Neither pair is 5 apart, so you need at least one digit separating them.</span> <span class="hidden">Since one of the digits is a 3/4, the adjacent digit to that must be 8/9.</span> <span class="hidden">That is not 5 away from 6/8, so you also need a low digit to separate those.</span> <span class="hidden">So the four corner spots on the whisper line must also all be filled.</span>

    <p><span class="hidden">Which of the pairs would be more constrained?</span> <span class="hidden">If the pair is 4/8, both cells next to the 4 must be 9.</span> <span class="hidden">But the thermometer passes through both of these cells, so this cannot possibly work.</span> <span class="hidden">The pair must be 3/6.</span> <span class="hidden">The 3 is in the center-right, the 6 in the center-left.</span> <span class="hidden">The cells next to the 3 must be 8/9. The thermometer visits the bottom-right first, then the top-right.</span> <span class="hidden">The cells next to the 6 must be 0/1. The thermometer visits the top-left first, then the bottom-left.</span> <span class="hidden">The right arrow circle is 4, the left arrow circle is 5.</span> <span class="hidden">Don't forget to fill in the arrows themselves.</span>

    <p>And now you've popped through to the final puzzle!

<h2>Chapter 43. Throne Room (grid 10)</h2>

    <p>This is a great puzzle. It is very difficult. It is very easy to mess up, and it is even easier to <i>think</i> you've messed up. Take it easy, take it slow.

    <p>Okay. Revealing this grid also filled in the last rule in the Learned Rules box. Go ahead and click on that to read the big new rule for this puzzle. The gist is that this puzzle is an 11&times;11 grid, and you have to put nine non-overlapping 3&times;3 boxes into it. The normal rules of sudoku apply in all nine boxes and all 11 rows and columns, except that rows and columns don't necessarily contain all nine digits (but digits still cannot repeat within one). The puzzle also features ziplines, whisper lines, arrows, indexing clues, dotted pairs, eyes, and a thermometer. It's a lot.

    <p>Rows and columns are numbered from the top-left corner of the grid. The top-left corner is r1c1; the bottom-right corner is r11c11. Numberings don't change just because cells aren't in boxes; they are absolute in the grid. The rules never say this, but this also applies to indexing clues: if r3c6 (the northern indexing clue) contains 7, then r3c7 must be in a box and must contain 6. The indexing does not change just because some cells in that row are not in boxes. Note that this implies that these clues can never index into c10 or c11.

    <p>As you're solving this puzzle, you will need to mark your best knowledge of where the boxes are. When you've fully positioned a box, you can use the Pen Tool to draw a thick square around the box. While you're still positioning boxes, however, I recommend using color to mark cells that you know are in a particular box. Adjacent boxes should use different colors so that you can easily tell them apart. You will also want to color in cells that you know are not in any box, just to make it clear that you can ignore them. I will use dark grey for out-of-boxes cells and blue, green, and orange for different boxes. (Normally, I do not suggest using dark grey for coloring because it can be hard to read digits against it, but in this puzzle, there are never digits in these out-of-boxes cells, so it's fine.) When you finish a box, you should outline its border. When you've got the whole grid determined, you can remove all the coloring from the boxes so that you can use colors for normal sudoku purposes.

    <p>Your first step is fairly clear: you should try to figure out where some of the boxes go. In order to get started, it will help to identify cells that <i>must</i> be in boxes. There are two ways to do this: the first is some general abstract reasoning about positioning 3&times;3 boxes inside an 11&times;11 grid, and the second is by applying the specific rules of Sudokuvania.

    <ul compact>
        <li><b>Specific rules method.</b> The rules for this grid say that cells outside of boxes must be empty, but <span class="hidden">the outside-the-boxes rules say that certain cells must always contain digits</span>. There is an easy way to avoid a paradox: <span class="hidden">those cells must be in boxes</span>. This applies to <span class="hidden">arrow circles, zipper centers, and indexing clues.</span> Well, to be pedantic, the rules don't say anything about that last category, but the rules also don't say anything about <span class="hidden">how indexing is supposed to work</span>, so you can reasonably think of it as an oversight.</li>
        <li><b>General reasoning method.</b> Consider a smaller grid for a moment.
            <ul compact>
                <li>How many 3&times;3 boxes can you place in a 3&times;5 grid? <span class="hidden">Only one: the extra columns aren't enough to fit a second box next to the first.</span> Furthermore, if you slide that box around, there's something interesting about the cells it occupies: <span class="hidden">they always include c3, because there just isn't enough freedom to avoid it</span>.</li>
                <li>What about if you add three more columns, to make it a 3&times;8 grid? If you put a box all the way at the left end, consider what happens to the rest of the cells. <span class="hidden">They become, essentially, a 3&times;5 grid, so you can still only put one box in them.</span> If you slide that first box to the right by a column, you don't give yourself more room; the empty column to the left becomes unusable, the space to the right is now just 3&times;4 grid. And if you think about the pattern of occupied cells, <span class="hidden">no matter how you put two boxes in the grid, you must fill c3 and c6</span>. This pattern will continue as you add more columns.</li>
                <li>Now consider a 5&times;5 grid. You can still only fit a single box in it, and no matter where you put it, <span class="hidden">that box must contain r3c3</span>.</li>
                <li>What about 8&times;8? Now you can fit four boxes, but no matter how you slide them around, you must use <span class="hidden">r3c3, r3c6, r6c3, and r6c6</span>. You can show this pretty easily: consider <i>not</i> taking, say, r3c3. That makes the entire square above and to the left of it unusable. You can put a box to the east, south, and southeast, but no matter how you move them around, you will never be able to add a fourth box.</li>
                <li>Adding three more rows and columns gives you space for nine boxes in total, but the pattern still holds: they're still basically forced to fit into a rough grid, each taking at least those nine exact cells.</li>
            </ul>
        </li>
    </ul>

    <p>In either case, you now know that the boxes must include at least the nine key cells <span class="hidden">r3c3, r3c6, r3c9, r6c3, r6c6, r6c9, r9c3, r9c6, and r9c9</span>. Moreover, those nine boxes must non-overlapping, because a 3&times;3 box in that includes r3c3 cannot possibly reach to any of the other key cells. So these boxes are still basically arranged into a loose 3&times;3 pattern, and we can still unambiguously number them b1, b2, etc. based on which of the key cells each occupies. I will color the boxes like this: blue in the corners, green on the edges, and orange in the center. Go ahead and color the key cells now.

    <p>One of the clues imposes a very straightforward constraint on the boxes: <span class="hidden">the arrow pointing to the south</span>. <span class="hidden">b8 must fill at least three cells on this arrow.</span> <span class="hidden">If more than three cells on this arrow were in boxes, the arrow sum would have to be at least 10, and it would not be possible to satisfy.</span> <span class="hidden">So b5 cannot also include any boxes on this arrow; it must stretch upwards to include r4c6 and r5c6.</span> Similarly, <span class="hidden">b2 must include r1c6 and r2c6</span>. Those boxes must also grow to the left or right (or both). <span class="hidden">The northwest arrow says that r5c5 contains the same digit as r6c6.</span> <span class="hidden">b5 therefore cannot include r5c5, which means that must be the left edge of the box, and it must stretch into c7 and c8.</span> You can now draw the outline of this box. <span class="hidden">b5 is now forced to stretch rightwards into c11.</span>

    <p>There's a clue you were just using that you can now use in a different way: <span class="hidden">the northwest arrow</span>. <span class="hidden">r5c5 must contain the same value as r6c6, which means it must be filled.</span> <span class="hidden">Either b1 or b4 can reach r5c5, but </span><span class="hidden">if b1 reached it, it would be impossible for any box to take the other dotted cell in r4c2.</span> <span class="hidden">So b4 must stretch up two cells to the right and at least one cell up.</span> <span class="hidden">If b4 stretched two cells up, into r4, it would create the same problem with r4c2 that you just avoided with b1; so it must also stretch into r7.</span> You can draw its outline now. Go ahead and shade the six cells to the left dark grey, though, since they cannot be used by any boxes. <span class="hidden">The dotted pair in r4 must be in b1, which is also forced to stretch upwards into r2. That's only two columns, though, so it's not quite finished.</span>

    <p>Some cells on zipper lines now cannot be in boxes; what does that mean? <span class="hidden">At least one of the cells in each zipper pair must always be taken, and </span><span class="hidden">if one cell is known to be empty, the other must be the same digit as the sum.</span> Above, <span class="hidden">r2c5 must be in a box and contain the same value as r3c3.</span> <span class="hidden">b1 cannot reach it; b2 must stretch into c5.</span> Also, <span class="hidden">r2c4 must also be in a box, because otherwise r3c3 and r4c2 would be the same digit, and they are both in b2. You don't know which box yet, though.</span> Below, <span class="hidden">r10c5 must be in a box and contain the same digit as r9c9.</span> <span class="hidden">Because it is the same digit, b7 cannot include it; it must be in b8.</span> <span class="hidden">If r8c2 was not in a box, then r10c4 would have to be in a box and contain the same digit as r9c9.</span> <span class="hidden">But that's the same digit that's known to be in r10c5, which is in the same row.</span> <span class="hidden">So r8c2 must be in a box, and that box must be b7, which must stretch up to r8.</span> As above, you also know that <span class="hidden">r10c4 must be in a box or else b7 would contain a duplicate digit, but you don't know which box yet.</span>

    <p>There are three boxes you haven't done anything with yet. It's tricky to reason about them directly, but there's something you know because of their neighbors: <span class="hidden">because b2 and b8 have stretched at least one column to the left, they cannot take r2c8 or r10c8 anymore; if those cells are to be in boxes, they must be in b3 and b9, respectively.</span> <span class="hidden">At least one of r2c8 and r4c10 must be taken.</span> <span class="hidden">b3 cannot take both of them because of the placement of b5.</span> <span class="hidden">If b3 takes r2c8 and r4c10 is empty, r2c8 and r3c9 will be the same digit, which will therefore be repeated in b3. So r4c10 cannot be empty; b6 will have to stretch up to take r4c10.</span> <span class="hidden">If b3 does not take r2c8, it will be empty, and so r4c10 will have to have the same digit as r3c9.</span> <span class="hidden">Again, this cannot be in b3, so b6 must stretch up to take r4c10.</span> <span class="hidden">In either case, then, b6 must stretch up to r4.</span> You can draw its outline now.

    <p>One last box about which you've learned nothing. <span class="hidden">The dotted pair in r8 must be in a box, and that can only be b9 now.</span> <span class="hidden">That puts r8c10 within b9; if r10c8 is not also in a box, r8c10 will necessarily repeat with r9c9.</span> <span class="hidden">But only b9 can include r10c8.</span> Stretching to include it completes that box. You can shade the cells <span class="hidden">above, below, and to the right of b9 dark grey.</span> <span class="hidden">Since r7c10 must be empty, r10c7 cannot be empty; it must be in b8.</span> <span class="hidden">That pulls b7 over into c4 so that r10c4 can be in a box and b7 doesn't end up with a duplicate of r9c3;</span> that box is now complete as well.

    <p>CHECKPOINT 1. You're going to have to start thinking about digits to make progress from here. Here's what the grid should look like:

    <table class="grid hidden">
        <tr><td class="V        "> </td><td class="V       b"> </td><td class="V       b"> </td><td class="         "> </td><td class="G   t    "> </td><td class="G   t    "> </td><td class="         "> </td><td class="         "> </td><td class="B   t    "> </td><td class="         "> </td><td class="         "> </td></tr>
        <tr><td class="         "> </td><td class="B        "> </td><td class="B        "> </td><td class="         "> </td><td class="G        "> </td><td class="G        "> </td><td class="         "> </td><td class="         "> </td><td class="B        "> </td><td class="         "> </td><td class="         "> </td></tr>
        <tr><td class="         "> </td><td class="B        "> </td><td class="B        "> </td><td class="         "> </td><td class="G       b"> </td><td class="G       b"> </td><td class="        b"> </td><td class="        b"> </td><td class="B       b"> </td><td class="        b"> </td><td class="        b"> </td></tr>
        <tr><td class="         "> </td><td class="B       b"> </td><td class="B       b"> </td><td class="        b"> </td><td class="V     r b"> </td><td class="O        "> </td><td class="O        "> </td><td class="O     r  "> </td><td class="G        "> </td><td class="G        "> </td><td class="G     r  "> </td></tr>
        <tr><td class="V        "> </td><td class="V     r  "> </td><td class="G        "> </td><td class="G        "> </td><td class="G     r  "> </td><td class="O        "> </td><td class="O        "> </td><td class="O     r  "> </td><td class="G        "> </td><td class="G        "> </td><td class="G     r  "> </td></tr>
        <tr><td class="V        "> </td><td class="V     r  "> </td><td class="G        "> </td><td class="G        "> </td><td class="G     r  "> </td><td class="O       b"> </td><td class="O       b"> </td><td class="O     r b"> </td><td class="G       b"> </td><td class="G       b"> </td><td class="G     r b"> </td></tr>
        <tr><td class="V        "> </td><td class="V     r b"> </td><td class="G       b"> </td><td class="G       b"> </td><td class="G     r b"> </td><td class="V        "> </td><td class="V        "> </td><td class="V       b"> </td><td class="V       b"> </td><td class="V       b"> </td><td class="V        "> </td></tr>
        <tr><td class="V     r  "> </td><td class="B        "> </td><td class="B        "> </td><td class="B     r  "> </td><td class="         "> </td><td class="         "> </td><td class="      r  "> </td><td class="B        "> </td><td class="B        "> </td><td class="B     r  "> </td><td class="V        "> </td></tr>
        <tr><td class="V     r  "> </td><td class="B        "> </td><td class="B        "> </td><td class="B     r  "> </td><td class="G        "> </td><td class="G        "> </td><td class="G     r  "> </td><td class="B        "> </td><td class="B        "> </td><td class="B     r  "> </td><td class="V        "> </td></tr>
        <tr><td class="V     r  "> </td><td class="B       b"> </td><td class="B       b"> </td><td class="B     r b"> </td><td class="G        "> </td><td class="G        "> </td><td class="G     r  "> </td><td class="B       b"> </td><td class="B       b"> </td><td class="B     r b"> </td><td class="V        "> </td></tr>
        <tr><td class="V        "> </td><td class="V        "> </td><td class="V        "> </td><td class="V        "> </td><td class="         "> </td><td class="         "> </td><td class="         "> </td><td class="V        "> </td><td class="V        "> </td><td class="V        "> </td><td class="V        "> </td></tr>
    </table>

    <p>To break in, focus on <span class="hidden">b4</span>. <span class="hidden">r6c3 is an indexing clue, but it's also on a whisper line.</span> <span class="hidden">The whisper line is adjacent to two cells that see each other, so r6c3 cannot be 4/6 because those cells would have to be the same.</span> <span class="hidden">Because it is an indexing clue, it gives the column index of the 3 in this row.</span> <span class="hidden">It cannot be 1/2 because r6c1 and r6c2 are outside of boxes and therefore cannot contain digits.</span> <span class="hidden">If it were 3, the adjacent cells on the whisper line would have to be 8/9.</span> <span class="hidden">There is an eye clue to the right of r7.</span> <span class="hidden">No other boxes but b4 are in this row; b8 can still grow, but it cannot grow above r8 for multiple reasons.</span> <span class="hidden">For this eye to see three cells, the digits in the bottom row of b4 must all increase as you move to the left.</span> <span class="hidden">So if r6c3 were 3, that would put an 8/9 in r7c4, but </span><span class="hidden">a 9 would immediately break the eye, and </span><span class="hidden">an 8 would require the 9 to be in both r7c3 and r5c4. So r6c3 cannot be 3.</span> Similarly, <span class="hidden">if r6c3 were 7, r7c4 would have to be 1/2, but </span><span class="hidden">a 1 would immediately break the eye, and a 2 would force both r7c5 and r5c4 to be 1. So r6c3 must be 8/9.</span>

    <p>That has interesting consequences for <span class="hidden">b8</span>. <span class="hidden">r7c4 must be low, but it cannot be 1.</span> <span class="hidden">Therefore the next cell on the whisper line must be at least 7.</span> <span class="hidden">If b8 stretched into r11, that next cell would be r9c6.</span> <span class="hidden">r9c6 is on an arrow, together with two other cells in b8.</span> <span class="hidden">So if r9c6 were 7, the arrow sum would have to be at least 10, which is impossible.</span> <span class="hidden">b8 must therefore stretch upward so that the next cell on the whisper line is r8c5 instead.</span> You can finally outline that box. <span class="hidden">r9c6 must 1/2/3/4, but it cannot be 4 because then r7c5 and r7c7 would both have to be 9.</span> <span class="hidden">It also cannot be 1 because it is an indexing clue, and r9c1 is not in a box.</span> <span class="hidden">It must be 2/3, and so </span><span class="hidden">the 6 in r9 must be in r9c2 or r9c3.</span> Back to the line. <span class="hidden">r8c7 must be at at least 7, and </span><span class="hidden">the adjacent cell on the whisper line is r6c9, which must be 1/2/3/4.</span> <span class="hidden">r8c7 cannot be 1/2 because it is an indexing clue, and r6c1 and r6c2 are not in a box.</span> <span class="hidden">Therefore it is 3/4, and so </span><span class="hidden">the 9 in r6 must be in r6c3 or r6c4.</span>

    <p>That is useful information, because it means that <span class="hidden">the arrow sum cannot be 9</span>. <span class="hidden">That means 6 can no longer be on the south arrow.</span> <span class="hidden">Now the 6 in b8 must be in either r10c5 or r10c7.</span> <span class="hidden">r10c7 is paired with an empty cell on the zipper line, so if it were 6, r9c9 would also have to be 6. But you've already figured out that the 6 in r9 is in r9c2 or r9c3.</span> <span class="hidden">So r10c5 = 6.</span> <span class="hidden">Since r10c5 is paired with an empty cell on the zipper line, r9c3 must also be 6.</span> <span class="hidden">That means the indexing clue, r9c6, must be 3.</span> It also means that <span class="hidden">r6c4 = 6, because that's the only remaining spot for a 6 in b4.</span> <span class="hidden">That forces the 9 in r6 into r6c3.</span> <span class="hidden">And since that cell has an indexing clue, r6c9 = 3.</span>

    <p>One of the clues is now much more constrained. <span class="hidden">The arrow sum has a three-cell arrow in b8.</span> <span class="hidden">It must be at least 6, but it cannot be 6 or 9 by sudoku.</span> <span class="hidden">It cannot be 7 because a set of three cells summing to 7 must be 1/2/4; they cannot include the 3 in r9c6.</span> <span class="hidden">So r6c6 = 8, and the south arrow cells are 1/3/4.</span> <span class="hidden">The northwest arrow means that r5c5 = 8.</span> <span class="hidden">By sudoku and the whisper line constraint, r8c5 = 9 and r8c7 = 8.</span>

    <p>You may have noticed something a little surprising in that logic, when you <span class="hidden">constrained the 6 in b4 using 6s that you'd placed in b7 and b8.</span> It's not usually possible to do that with digits in a single row or column of boxes, but the normal row and column constraints of sudoku can play out very differently when the boxes are offset from each other. That digit I just mentioned created a very powerful constraint: <span class="hidden">there is now a 6 in c3, c4, and c5, </span><span class="hidden">which means that you cannot place any other box that would span exactly those columns. However, b1 and b2 already overlap in these columns, so that doesn't directly restrict anything in the grid.</span> <span class="hidden">You also have the same situation with the 8s in c5, c6, and c7.</span> <span class="hidden">In this case, that's immediately useful: those columns are one of the two possible positions for b2.</span> <span class="hidden">Therefore b2 cannot stretch right into c7 and must instead stretch left into b4.</span> <span class="hidden">That in turn forces b1 to also stretch left into c1.</span> You can draw the borders of both of those boxes. What about the last? <span class="hidden">If b3 did not take c7 or c8, then both r2c7 and r2c8 would be empty.</span> <span class="hidden">r4c10 and r5c10 would therefore both be paired with an empty cell on the zipper line and have to be the same digit. b3 must stretch to include at least c7.</span>

    <p>There's a more subtle example of this working horizontally. <span class="hidden">Consider r7.</span> <span class="hidden">There are three digits are in r7, all in b4. Those digits must also be somewhere in r5 and r6, for the simple reason that both of those rows include nine cells in boxes and therefore must include all nine digits.</span> <span class="hidden">They cannot in b4, because they're already in r7 in b4. So they must be in b5 and b6.</span> <span class="hidden">That means that those digits cannot be in r4 in those boxes.</span> <span class="hidden">Therefore the three digits in r7 in b4 are exact the same set as the three digits in r4 of b1.</span> <span class="hidden">There is a dotted pair in r4 in b1.</span> <span class="hidden">This pair cannot be 4/8 or 3/6, because the 6 and 8 are not in r7 in b4.</span> <span class="hidden">So the pair must be either 1/2 or 2/4.</span> <span class="hidden">In either case, there is a 2, and so there must be a 2 in r7 of b4.</span> <span class="hidden">The 2 cannot be in r7c3 because it would not be visible to the eye, which would mean the eye only sees 2 cells.</span> <span class="hidden">The 2 cannot be in r7c5 because the arrow clue would put a 6 in r8c4, and there is already a 6 in b7. Therefore the 2 must be in r7c4.</span> <span class="hidden">For this cell to be visible to the eye, r7c5 must be 1.</span> <span class="hidden">The arrow then makes r8c4 = 7.</span>

    <p>A lot of digits have gotten constrained in b2 now. The 1 <span class="hidden">must be in c4 because there are already 1s in c5 and c6.</span> The 2 <span class="hidden">must be in c6 because it cannot be in either of the other two boxes: b8 has 1/3/4 in this column, and b5 has an 8 and a thermometer with two lower digits.</span> The 3 <span class="hidden">must be in c5 because it cannot be in either b4 or b8 by sudoku.</span> The 4 <span class="hidden">can't be in c6 but otherwise isn't constrained.</span> The 5 <span class="hidden">isn't yet meaningfully constrained.</span> The 6 <span class="hidden">must be in c6 because there are already 6s in c4 and c5.</span> The 7 <span class="hidden">can't be in c4 but otherwise isn't restricted.</span> The 8 <span class="hidden">must be in c4 because there are already 8s in c5 and c6.</span> And the 9 <span class="hidden">can't be in c5 but otherwise isn't constrained.</span>

    <p>One of those restrictions has very significant consequences, starting in b7. <span class="hidden">The paired cells on the zipper line must add to 6, so they are either 2/4 or 1/5.</span> <span class="hidden">r10c4 now cannot be 1/2 by sudoku, so it must be 4/5, and r8c2 is 1/2.</span> <span class="hidden">There is a dotted pair in r8, over in b9.</span> <span class="hidden">This pair cannot be 4/8 because there is an 8 already in r8.</span> <span class="hidden">It cannot be 1/2 because it would be impossible to place a digit in r8c2.</span> <span class="hidden">And it cannot be 2/4 then both r8c2 and r8c6 would have to be 1.</span> <span class="hidden">Therefore, it is a 3/6 pair, and sudoku says that r8c9 = 6 and r8c10 = 3.</span> Now consider the zipper sum. <span class="hidden">r10c7 is 2/5/7, and it is paired with an empty cell on the zipper line, so it has the same value as r9c9.</span> <span class="hidden">But the zipper sum must be greater than 3 now, so these cells are actually restricted to 5/7.</span> <span class="hidden">r10c8, the pair of the 3 on the zipper line in b9, must therefore be 2/4.</span>

    <p>There are another couple of "spillover" deductions you can make from those restrictions in b2. In c5, <span class="hidden">the only cell available for the 2 is now r9c5, which also makes r9c7 = 5.</span> And in c4, <span class="hidden">the only cell available for the 3 is now r5c4.</span>

    <p>It's time to think about the thermometer. When working with thermometers, it's often useful to try to propagate a maximum or minimum constraint along the thermometer. <span class="hidden">The end of the thermometer, r4c6, can be at most 9.</span> <span class="hidden">r5c6 can therefore be at most 8, but it cannot be 8 because of r6c6, so it is at most 7.</span> <span class="hidden">r6c7 is therefore at most 6, but it cannot be 5 or 6 by sudoku. So it is at most 4.</span> <span class="hidden">r6c8 is therefore at most 3, but it cannot be 3 because of sudoku, so it is at most 2, which is to say, 1/2.</span> This restricts what's possible in b9. <span class="hidden">If r10c8 were 2, r10c7 and r9c9 would have to be 5. This would make r10c4 = 4, r10c6 = 1, and r8c8 = 4. But now r6c8 = 1 as well, and there is no possible digit that can be placed in r8c8.</span> <span class="hidden">So r10c8 = 4, which makes r10c7 and r9c9 = 7.</span> Sudoku and the zipper line should let you completely fill r8.

    <p>Swing around into b1. <span class="hidden">The 2 in the dotted pair must now be in r4c2.</span> <span class="hidden">r4c3 must be 1/4.</span> <span class="hidden">Remember that this digit must be in r7 in b4.</span> <span class="hidden">There isn't a 4 already in r7, so if r4c3 were 4, r7c3 would also have to be 4, breaking sudoku. So r4c3 = 1.</span> Now, what can this zipper sum actually be? <span class="hidden">The 2 is paired with r2c4, which can only be 1/4/8/9, but </span><span class="hidden">8/9 would make the sum greater than 9, and </span><span class="hidden">4 would make the sum 6, which is ruled out of r3c3 by sudoku. So r2c4 = 1 and r3c3 = 3.</span> <span class="hidden">r2c5 is paired with an empty cell on the zipper line and so must also be 3.</span> Sudoku then puts <span class="hidden">the 3 in b7 into r10c2.</span>

    <p>While you're in b1, see if you can do anything with the eye clue. <span class="hidden">The 9 cannot be in r2c1 or r2c2 without breaking the eye.</span> <span class="hidden">It cannot be in r2c3 by sudoku.</span> <span class="hidden">It cannot be in r4c1 because this digit must also be in r7c3.</span> So in fact <span class="hidden">the 9 must be in r3 in b1.</span>

    <p>It's somewhat astonishing that c3 still can't be placed exactly. There are some  clues that you haven't done much with up to now, but it's hard to see how to make use of a whisper line without at least knowing <span class="hidden">which positions are low and which are high</span>. Maybe <span class="hidden">the zipper line</span> can help with that. <span class="hidden">r4c10 cannot be 1/2/3 by sudoku, so</span><span class="hidden">it is at least 4, and since it is paired with a cell in a box, the zipper sum must be at least 5.</span> <span class="hidden">It cannot be 5 because r3c9 is on a whisper line, so it must be at least 6.</span> <span class="hidden">r3c9 cannot be 6/7/9 by sudoku, so it must be 8.</span> By sudoku, <span class="hidden">r3c4 = 4, r1c4 = 8, and you can completely fill b7.</span> But more importantly, <span class="hidden">r5c10 cannot be 8,</span> which means that <span class="hidden">r2c7 must be in a box and thus that b3 must stretch left into c7.</span>

    <p>Back to the whisper line. <span class="hidden">r4c8 must be at most 3, but it cannot be 1/2 by sudoku, so it is 3.</span> <span class="hidden">r5c7 must be at least 8, but it cannot be 8 by sudoku, so it is 9.</span> <span class="hidden">r5c6 must be at least 3 by the thermometer, but it cannot be 3/4 by sudoku, so it is at least 5.</span> <span class="hidden">r4c6 must be at least 6, then, but it cannot be 6/8/9 by sudoku, so it is 7.</span> <span class="hidden">That means r5c6 must be 5/6 by the thermometer, and it also cannot be 6 by sudoku, so it is 5.</span> <span class="hidden">The 5/7 must be in c5 in b2.</span> You can now completely fill b4 by sudoku; don't forget <span class="hidden">that r4c1 has the same value as r7c3.</span> This also finishes the thermometer, r9, and the rest of b5.

    <p>In b6, <span class="hidden">r4c9 can only be 9 by sudoku,</span> which lets you finish b9. <span class="hidden">r4c10 cannot be 8 because its paired cell, r2c8, would have to be empty; therefore it is 6 and r2c8 = 2.</span> <span class="hidden">r5c10 can only be 2/4, but if it were 4, r2c7 would have to be 4, and it can be by sudoku; therefore r5c10 = 2 and r2c7 = 6.</span> The eye above c10 <span class="hidden">forces r6c10 = 7.</span>

    <p>In b1, <span class="hidden">sudoku puts r2c3 = 4.</span> <span class="hidden">The remaining digits in r2 are 5/7/8, but </span><span class="hidden">sudoku forces the 5 into r2c9.</span> <span class="hidden">r2c1 and r2c2 must be 7 and 8, respectively, so that the eye can see three cells.</span> <span class="hidden">The remaining digits in r3 are a 6/9 pair, </span><span class="hidden">which forces r3c6 = 2 by sudoku, and that </span><span class="hidden">sets r3c2 = 6 by indexing.</span>

    <p>The rest of the cells can be filled by sudoku. And the whole map is revealed! Congratulations, you've finished!

<h2>Chapter 44. Title</h2>

    <p>Well, you haven't actually triggered the "puzzle fininshed" screen in SudokuPad yet. If you peek down at the Quest Progress box, you'll see that there's one last quest to complete: Solve the Title.

    <p>Now, if you look at the title, you might think that you have no idea how to actually solve this. You might even be afraid that it's some kind of fiendish mathematical cryptogram.

    <p>It is not. It is very silly.

    <ul compact>
        <li><span class="hidden">There is an arrow running through some letters.</span> <span class="hidden">The letters are A, T, and E.</span> <span class="hidden">Put the number 8 in the circle of the arrow. It is a homophone pun.</span></li>
        <li><span class="hidden">The word "DESPAIR" is on a palindrome line.</span> <span class="hidden">The D is in the center of the line.</span> <span class="hidden">You need to put the letters ESPAIR running to the left from the D. In the solid number entry tool, press the 9/A button to switch to letter mode. Typing letters when the focus is on a cell will now just type that letter into the cell.</span></li>
        <li><span class="hidden">The letter U is dotted with an empty cell.</span> <span class="hidden">What's in a 1:2 ratio with U?</span> <span class="hidden">Why, "double U", of course. Type W into this cell.</span></li>
    </ul>

    <p>If that doesn't bring up the game over screen, check the Quest Progress box again to see what you've missed. Make sure you've put the numbers into the Wall Sandwiches boxes and the Collectible Coins Found cells.

<h2>Closing notes</h2>

    <p>My thanks to Skeptical Mario for a wonderful puzzle hunt, to <a href="https://svencodes.com/">Sven Neumann</a> for SudokuPad, and to the folks at <a href="https://crackingthecryptic.com/">Cracking the Cryptic</a> for introducing me to a world of puzzles beyond dreary machine-generated killer sudokus.

    <p><i>Sudokuvania: Digits of Despair guide v1.0, written by <a href="mailto:rjmccall@gmail.com">John McCall</a>, July&ndash;October 2025.</i></p>
</body>
